/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/index"],{

/***/ "(pages-dir-browser)/./components/FormStep1.tsx":
/*!**********************************!*\
  !*** ./components/FormStep1.tsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst FormStep1 = (param)=>{\n    let { data, onUpdate, onNext } = param;\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        if (data.firstName.trim() && data.lastName.trim()) {\n            onNext === null || onNext === void 0 ? void 0 : onNext();\n        }\n    };\n    const inputStyle = {\n        width: '100%',\n        padding: '0.75rem',\n        border: '1px solid #ddd',\n        borderRadius: '4px',\n        fontSize: '1rem',\n        marginBottom: '1rem'\n    };\n    const buttonStyle = {\n        backgroundColor: '#007bff',\n        color: 'white',\n        padding: '0.75rem 1.5rem',\n        border: 'none',\n        borderRadius: '4px',\n        fontSize: '1rem',\n        cursor: 'pointer',\n        width: '100%'\n    };\n    // Example usage of paymentFeature1Click:\n    // (You can remove or update this part depending on your use case)\n    //   const featureMessage = paymentFeature1Click \n    //     ? \"Payment Feature 1 is enabled\" \n    //     : \"Payment Feature 1 is disabled\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Step 1: Personal Information\"\n            }, void 0, false, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"firstName\",\n                                children: \"First Name:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                                lineNumber: 44,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                id: \"firstName\",\n                                type: \"text\",\n                                value: data.firstName,\n                                onChange: (e)=>onUpdate('firstName', e.target.value),\n                                placeholder: \"Enter your first name\",\n                                style: inputStyle,\n                                required: true\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                                lineNumber: 45,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                        lineNumber: 43,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"lastName\",\n                                children: \"Last Name:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                                lineNumber: 57,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                id: \"lastName\",\n                                type: \"text\",\n                                value: data.lastName,\n                                onChange: (e)=>onUpdate('lastName', e.target.value),\n                                placeholder: \"Enter your last name\",\n                                style: inputStyle,\n                                required: true\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                                lineNumber: 58,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                        lineNumber: 56,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"submit\",\n                        style: buttonStyle,\n                        disabled: !data.firstName.trim() || !data.lastName.trim(),\n                        children: \"Next Step\"\n                    }, void 0, false, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n                lineNumber: 42,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep1.tsx\",\n        lineNumber: 39,\n        columnNumber: 5\n    }, undefined);\n};\n_c = FormStep1;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormStep1);\nvar _c;\n$RefreshReg$(_c, \"FormStep1\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvRm9ybVN0ZXAxLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFHMUIsTUFBTUMsWUFBaUM7UUFBQyxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRUMsTUFBTSxFQUFFO0lBQ2hFLE1BQU1DLGVBQWUsQ0FBQ0M7UUFDcEJBLEVBQUVDLGNBQWM7UUFDaEIsSUFBSUwsS0FBS00sU0FBUyxDQUFDQyxJQUFJLE1BQU1QLEtBQUtRLFFBQVEsQ0FBQ0QsSUFBSSxJQUFJO1lBQ2pETCxtQkFBQUEsNkJBQUFBO1FBQ0Y7SUFDRjtJQUVBLE1BQU1PLGFBQWE7UUFDakJDLE9BQU87UUFDUEMsU0FBUztRQUNUQyxRQUFRO1FBQ1JDLGNBQWM7UUFDZEMsVUFBVTtRQUNWQyxjQUFjO0lBQ2hCO0lBRUEsTUFBTUMsY0FBYztRQUNsQkMsaUJBQWlCO1FBQ2pCQyxPQUFPO1FBQ1BQLFNBQVM7UUFDVEMsUUFBUTtRQUNSQyxjQUFjO1FBQ2RDLFVBQVU7UUFDVkssUUFBUTtRQUNSVCxPQUFPO0lBQ1Q7SUFFQSx5Q0FBeUM7SUFDekMsa0VBQWtFO0lBQ3BFLGlEQUFpRDtJQUNqRCx3Q0FBd0M7SUFDeEMseUNBQXlDO0lBRXZDLHFCQUNFLDhEQUFDVTs7MEJBQ0MsOERBQUNDOzBCQUFHOzs7Ozs7MEJBRUosOERBQUNDO2dCQUFLQyxVQUFVcEI7O2tDQUNkLDhEQUFDaUI7OzBDQUNDLDhEQUFDSTtnQ0FBTUMsU0FBUTswQ0FBWTs7Ozs7OzBDQUMzQiw4REFBQ0M7Z0NBQ0NDLElBQUc7Z0NBQ0hDLE1BQUs7Z0NBQ0xDLE9BQU83QixLQUFLTSxTQUFTO2dDQUNyQndCLFVBQVUsQ0FBQzFCLElBQU1ILFNBQVMsYUFBYUcsRUFBRTJCLE1BQU0sQ0FBQ0YsS0FBSztnQ0FDckRHLGFBQVk7Z0NBQ1pDLE9BQU94QjtnQ0FDUHlCLFFBQVE7Ozs7Ozs7Ozs7OztrQ0FJWiw4REFBQ2Q7OzBDQUNDLDhEQUFDSTtnQ0FBTUMsU0FBUTswQ0FBVzs7Ozs7OzBDQUMxQiw4REFBQ0M7Z0NBQ0NDLElBQUc7Z0NBQ0hDLE1BQUs7Z0NBQ0xDLE9BQU83QixLQUFLUSxRQUFRO2dDQUNwQnNCLFVBQVUsQ0FBQzFCLElBQU1ILFNBQVMsWUFBWUcsRUFBRTJCLE1BQU0sQ0FBQ0YsS0FBSztnQ0FDcERHLGFBQVk7Z0NBQ1pDLE9BQU94QjtnQ0FDUHlCLFFBQVE7Ozs7Ozs7Ozs7OztrQ0FJWiw4REFBQ0M7d0JBQ0NQLE1BQUs7d0JBQ0xLLE9BQU9qQjt3QkFDUG9CLFVBQVUsQ0FBQ3BDLEtBQUtNLFNBQVMsQ0FBQ0MsSUFBSSxNQUFNLENBQUNQLEtBQUtRLFFBQVEsQ0FBQ0QsSUFBSTtrQ0FDeEQ7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1UO0tBM0VNUjtBQTZFTixpRUFBZUEsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3ZhbGVyaWFuLmthcnNlbnR5L0RvY3VtZW50cy9BcHAvbXktbmV4dGpzLWFwcC9jb21wb25lbnRzL0Zvcm1TdGVwMS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1Qcm9wcyB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgRm9ybVN0ZXAxOiBSZWFjdC5GQzxGb3JtUHJvcHM+ID0gKHsgZGF0YSwgb25VcGRhdGUsIG9uTmV4dCB9KSA9PiB7XG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGRhdGEuZmlyc3ROYW1lLnRyaW0oKSAmJiBkYXRhLmxhc3ROYW1lLnRyaW0oKSkge1xuICAgICAgb25OZXh0Py4oKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW5wdXRTdHlsZSA9IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIHBhZGRpbmc6ICcwLjc1cmVtJyxcbiAgICBib3JkZXI6ICcxcHggc29saWQgI2RkZCcsXG4gICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICBmb250U2l6ZTogJzFyZW0nLFxuICAgIG1hcmdpbkJvdHRvbTogJzFyZW0nXG4gIH07XG5cbiAgY29uc3QgYnV0dG9uU3R5bGUgPSB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAwN2JmZicsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgcGFkZGluZzogJzAuNzVyZW0gMS41cmVtJyxcbiAgICBib3JkZXI6ICdub25lJyxcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgIGZvbnRTaXplOiAnMXJlbScsXG4gICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgd2lkdGg6ICcxMDAlJ1xuICB9O1xuXG4gIC8vIEV4YW1wbGUgdXNhZ2Ugb2YgcGF5bWVudEZlYXR1cmUxQ2xpY2s6XG4gIC8vIChZb3UgY2FuIHJlbW92ZSBvciB1cGRhdGUgdGhpcyBwYXJ0IGRlcGVuZGluZyBvbiB5b3VyIHVzZSBjYXNlKVxuLy8gICBjb25zdCBmZWF0dXJlTWVzc2FnZSA9IHBheW1lbnRGZWF0dXJlMUNsaWNrIFxuLy8gICAgID8gXCJQYXltZW50IEZlYXR1cmUgMSBpcyBlbmFibGVkXCIgXG4vLyAgICAgOiBcIlBheW1lbnQgRmVhdHVyZSAxIGlzIGRpc2FibGVkXCI7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGgyPlN0ZXAgMTogUGVyc29uYWwgSW5mb3JtYXRpb248L2gyPlxuICAgICAgey8qIDxwPntmZWF0dXJlTWVzc2FnZX08L3A+ICovfVxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJmaXJzdE5hbWVcIj5GaXJzdCBOYW1lOjwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBpZD1cImZpcnN0TmFtZVwiXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17ZGF0YS5maXJzdE5hbWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uVXBkYXRlKCdmaXJzdE5hbWUnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgZmlyc3QgbmFtZVwiXG4gICAgICAgICAgICBzdHlsZT17aW5wdXRTdHlsZX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibGFzdE5hbWVcIj5MYXN0IE5hbWU6PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGlkPVwibGFzdE5hbWVcIlxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgdmFsdWU9e2RhdGEubGFzdE5hbWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uVXBkYXRlKCdsYXN0TmFtZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBsYXN0IG5hbWVcIlxuICAgICAgICAgICAgc3R5bGU9e2lucHV0U3R5bGV9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICB0eXBlPVwic3VibWl0XCIgXG4gICAgICAgICAgc3R5bGU9e2J1dHRvblN0eWxlfVxuICAgICAgICAgIGRpc2FibGVkPXshZGF0YS5maXJzdE5hbWUudHJpbSgpIHx8ICFkYXRhLmxhc3ROYW1lLnRyaW0oKX1cbiAgICAgICAgPlxuICAgICAgICAgIE5leHQgU3RlcFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1TdGVwMTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkZvcm1TdGVwMSIsImRhdGEiLCJvblVwZGF0ZSIsIm9uTmV4dCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZpcnN0TmFtZSIsInRyaW0iLCJsYXN0TmFtZSIsImlucHV0U3R5bGUiLCJ3aWR0aCIsInBhZGRpbmciLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsImJ1dHRvblN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJjdXJzb3IiLCJkaXYiLCJoMiIsImZvcm0iLCJvblN1Ym1pdCIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0IiwiaWQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwic3R5bGUiLCJyZXF1aXJlZCIsImJ1dHRvbiIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/FormStep1.tsx\n"));

/***/ }),

/***/ "(pages-dir-browser)/./components/FormStep2.tsx":
/*!**********************************!*\
  !*** ./components/FormStep2.tsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _flagship_io_react_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @flagship.io/react-sdk */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/index.js\");\n\nvar _s = $RefreshSig$();\n\n\nconst FormStep2 = (param)=>{\n    let { data, onUpdate, onPrevious, flagBirthField } = param;\n    _s();\n    const fs = (0,_flagship_io_react_sdk__WEBPACK_IMPORTED_MODULE_2__.useFlagship)();\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        try {\n            await fs.sendHits({\n                type: _flagship_io_react_sdk__WEBPACK_IMPORTED_MODULE_2__.HitType.EVENT,\n                category: _flagship_io_react_sdk__WEBPACK_IMPORTED_MODULE_2__.EventCategory.USER_ENGAGEMENT,\n                action: \"Click Complete\"\n            });\n        } catch (error) {\n            console.error(\"Tracking failed:\", error);\n        }\n        alert('Form completed successfully!\\n\\n' + JSON.stringify(data, null, 2));\n    };\n    const inputStyle = {\n        width: '100%',\n        padding: '0.75rem',\n        border: '1px solid #ddd',\n        borderRadius: '4px',\n        fontSize: '1rem',\n        marginBottom: '1rem'\n    };\n    const buttonStyle = {\n        padding: '0.75rem 1.5rem',\n        border: 'none',\n        borderRadius: '4px',\n        fontSize: '1rem',\n        cursor: 'pointer',\n        marginRight: '1rem'\n    };\n    // Validation: email required; dateOfBirth required only if flagBirthField is true\n    const isValid = data.email.trim() && (!flagBirthField || data.dateOfBirth.trim());\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Step 2: Contact Information\"\n            }, void 0, false, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"email\",\n                                children: \"Email:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                                lineNumber: 50,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                id: \"email\",\n                                type: \"email\",\n                                value: data.email,\n                                onChange: (e)=>onUpdate('email', e.target.value),\n                                placeholder: \"Enter your email\",\n                                style: inputStyle,\n                                required: true\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                                lineNumber: 51,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 9\n                    }, undefined),\n                    flagBirthField && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"dateOfBirth\",\n                                children: \"Date of Birth:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                                lineNumber: 64,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                id: \"dateOfBirth\",\n                                type: \"date\",\n                                value: data.dateOfBirth,\n                                onChange: (e)=>onUpdate('dateOfBirth', e.target.value),\n                                style: inputStyle,\n                                required: true\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                                lineNumber: 65,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                        lineNumber: 63,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            display: 'flex',\n                            gap: '1rem'\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: onPrevious,\n                                style: {\n                                    ...buttonStyle,\n                                    backgroundColor: '#6c757d',\n                                    color: 'white',\n                                    flex: 1\n                                },\n                                children: \"Previous\"\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                                lineNumber: 77,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSubmit,\n                                disabled: !isValid,\n                                style: {\n                                    ...buttonStyle,\n                                    backgroundColor: isValid ? '#28a745' : '#ccc',\n                                    color: 'white',\n                                    flex: 1\n                                },\n                                children: \"Complete\"\n                            }, void 0, false, {\n                                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                                lineNumber: 90,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                        lineNumber: 76,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: '2rem',\n                    padding: '1rem',\n                    backgroundColor: '#f8f9fa',\n                    borderRadius: '4px'\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        children: \"Current Form Data:\"\n                    }, void 0, false, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                        style: {\n                            fontSize: '0.9rem'\n                        },\n                        children: JSON.stringify(data, null, 2)\n                    }, void 0, false, {\n                        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n                lineNumber: 105,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/FormStep2.tsx\",\n        lineNumber: 46,\n        columnNumber: 5\n    }, undefined);\n};\n_s(FormStep2, \"05uElXcpaCRH0X3Psr1FWhV7T3g=\", false, function() {\n    return [\n        _flagship_io_react_sdk__WEBPACK_IMPORTED_MODULE_2__.useFlagship\n    ];\n});\n_c = FormStep2;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormStep2);\nvar _c;\n$RefreshReg$(_c, \"FormStep2\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvRm9ybVN0ZXAyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwQjtBQUVtRDtBQUU3RSxNQUFNSSxZQUFpQztRQUFDLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQUVDLGNBQWMsRUFBRTs7SUFDcEYsTUFBTUMsS0FBS1IsbUVBQVdBO0lBRXRCLE1BQU1TLGVBQWUsT0FBT0M7UUFDMUJBLEVBQUVDLGNBQWM7UUFFaEIsSUFBSTtZQUNGLE1BQU1ILEdBQUdJLFFBQVEsQ0FBQztnQkFDaEJDLE1BQU1aLDJEQUFPQSxDQUFDYSxLQUFLO2dCQUNuQkMsVUFBVWIsaUVBQWFBLENBQUNjLGVBQWU7Z0JBQ3ZDQyxRQUFRO1lBQ1Y7UUFDRixFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLG9CQUFvQkE7UUFDcEM7UUFFQUUsTUFBTSxxQ0FBcUNDLEtBQUtDLFNBQVMsQ0FBQ2xCLE1BQU0sTUFBTTtJQUN4RTtJQUVBLE1BQU1tQixhQUFhO1FBQ2pCQyxPQUFPO1FBQ1BDLFNBQVM7UUFDVEMsUUFBUTtRQUNSQyxjQUFjO1FBQ2RDLFVBQVU7UUFDVkMsY0FBYztJQUNoQjtJQUVBLE1BQU1DLGNBQWM7UUFDbEJMLFNBQVM7UUFDVEMsUUFBUTtRQUNSQyxjQUFjO1FBQ2RDLFVBQVU7UUFDVkcsUUFBUTtRQUNSQyxhQUFhO0lBQ2Y7SUFFQSxrRkFBa0Y7SUFDbEYsTUFBTUMsVUFBVTdCLEtBQUs4QixLQUFLLENBQUNDLElBQUksTUFBTyxFQUFDNUIsa0JBQWtCSCxLQUFLZ0MsV0FBVyxDQUFDRCxJQUFJLEVBQUM7SUFFL0UscUJBQ0UsOERBQUNFOzswQkFDQyw4REFBQ0M7MEJBQUc7Ozs7OzswQkFDSiw4REFBQ0M7O2tDQUNDLDhEQUFDRjs7MENBQ0MsOERBQUNHO2dDQUFNQyxTQUFROzBDQUFROzs7Ozs7MENBQ3ZCLDhEQUFDQztnQ0FDQ0MsSUFBRztnQ0FDSDlCLE1BQUs7Z0NBQ0wrQixPQUFPeEMsS0FBSzhCLEtBQUs7Z0NBQ2pCVyxVQUFVLENBQUNuQyxJQUFNTCxTQUFTLFNBQVNLLEVBQUVvQyxNQUFNLENBQUNGLEtBQUs7Z0NBQ2pERyxhQUFZO2dDQUNaQyxPQUFPekI7Z0NBQ1AwQixRQUFROzs7Ozs7Ozs7Ozs7b0JBSVgxQyxnQ0FDQyw4REFBQzhCOzswQ0FDQyw4REFBQ0c7Z0NBQU1DLFNBQVE7MENBQWM7Ozs7OzswQ0FDN0IsOERBQUNDO2dDQUNDQyxJQUFHO2dDQUNIOUIsTUFBSztnQ0FDTCtCLE9BQU94QyxLQUFLZ0MsV0FBVztnQ0FDdkJTLFVBQVUsQ0FBQ25DLElBQU1MLFNBQVMsZUFBZUssRUFBRW9DLE1BQU0sQ0FBQ0YsS0FBSztnQ0FDdkRJLE9BQU96QjtnQ0FDUDBCLFFBQVE7Ozs7Ozs7Ozs7OztrQ0FLZCw4REFBQ1o7d0JBQUlXLE9BQU87NEJBQUVFLFNBQVM7NEJBQVFDLEtBQUs7d0JBQU87OzBDQUN6Qyw4REFBQ0M7Z0NBQ0N2QyxNQUFLO2dDQUNMd0MsU0FBUy9DO2dDQUNUMEMsT0FBTztvQ0FDTCxHQUFHbEIsV0FBVztvQ0FDZHdCLGlCQUFpQjtvQ0FDakJDLE9BQU87b0NBQ1BDLE1BQU07Z0NBQ1I7MENBQ0Q7Ozs7OzswQ0FJRCw4REFBQ0o7Z0NBQ0NDLFNBQVM1QztnQ0FDVGdELFVBQVUsQ0FBQ3hCO2dDQUNYZSxPQUFPO29DQUNMLEdBQUdsQixXQUFXO29DQUNkd0IsaUJBQWlCckIsVUFBVSxZQUFZO29DQUN2Q3NCLE9BQU87b0NBQ1BDLE1BQU07Z0NBQ1I7MENBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNTCw4REFBQ25CO2dCQUFJVyxPQUFPO29CQUNWVSxXQUFXO29CQUNYakMsU0FBUztvQkFDVDZCLGlCQUFpQjtvQkFDakIzQixjQUFjO2dCQUNoQjs7a0NBQ0UsOERBQUNnQztrQ0FBRzs7Ozs7O2tDQUNKLDhEQUFDQzt3QkFBSVosT0FBTzs0QkFBRXBCLFVBQVU7d0JBQVM7a0NBQzlCUCxLQUFLQyxTQUFTLENBQUNsQixNQUFNLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUt0QztHQWpITUQ7O1FBQ09ILCtEQUFXQTs7O0tBRGxCRztBQW1ITixpRUFBZUEsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3ZhbGVyaWFuLmthcnNlbnR5L0RvY3VtZW50cy9BcHAvbXktbmV4dGpzLWFwcC9jb21wb25lbnRzL0Zvcm1TdGVwMi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvcm1Qcm9wcyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHVzZUZsYWdzaGlwLCBIaXRUeXBlLCBFdmVudENhdGVnb3J5IH0gZnJvbSBcIkBmbGFnc2hpcC5pby9yZWFjdC1zZGtcIjtcblxuY29uc3QgRm9ybVN0ZXAyOiBSZWFjdC5GQzxGb3JtUHJvcHM+ID0gKHsgZGF0YSwgb25VcGRhdGUsIG9uUHJldmlvdXMsIGZsYWdCaXJ0aEZpZWxkIH0pID0+IHtcbiAgY29uc3QgZnMgPSB1c2VGbGFnc2hpcCgpO1xuICBcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmcy5zZW5kSGl0cyh7XG4gICAgICAgIHR5cGU6IEhpdFR5cGUuRVZFTlQsXG4gICAgICAgIGNhdGVnb3J5OiBFdmVudENhdGVnb3J5LlVTRVJfRU5HQUdFTUVOVCxcbiAgICAgICAgYWN0aW9uOiBcIkNsaWNrIENvbXBsZXRlXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlRyYWNraW5nIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgIH1cblxuICAgIGFsZXJ0KCdGb3JtIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhXFxuXFxuJyArIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcbiAgfTtcblxuICBjb25zdCBpbnB1dFN0eWxlID0ge1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgcGFkZGluZzogJzAuNzVyZW0nLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyxcbiAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgIGZvbnRTaXplOiAnMXJlbScsXG4gICAgbWFyZ2luQm90dG9tOiAnMXJlbSdcbiAgfTtcblxuICBjb25zdCBidXR0b25TdHlsZSA9IHtcbiAgICBwYWRkaW5nOiAnMC43NXJlbSAxLjVyZW0nLFxuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgZm9udFNpemU6ICcxcmVtJyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBtYXJnaW5SaWdodDogJzFyZW0nXG4gIH07XG5cbiAgLy8gVmFsaWRhdGlvbjogZW1haWwgcmVxdWlyZWQ7IGRhdGVPZkJpcnRoIHJlcXVpcmVkIG9ubHkgaWYgZmxhZ0JpcnRoRmllbGQgaXMgdHJ1ZVxuICBjb25zdCBpc1ZhbGlkID0gZGF0YS5lbWFpbC50cmltKCkgJiYgKCFmbGFnQmlydGhGaWVsZCB8fCBkYXRhLmRhdGVPZkJpcnRoLnRyaW0oKSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGgyPlN0ZXAgMjogQ29udGFjdCBJbmZvcm1hdGlvbjwvaDI+XG4gICAgICA8Zm9ybT5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImVtYWlsXCI+RW1haWw6PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIGlkPVwiZW1haWxcIlxuICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgIHZhbHVlPXtkYXRhLmVtYWlsfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvblVwZGF0ZSgnZW1haWwnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgZW1haWxcIlxuICAgICAgICAgICAgc3R5bGU9e2lucHV0U3R5bGV9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtmbGFnQmlydGhGaWVsZCAmJiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZGF0ZU9mQmlydGhcIj5EYXRlIG9mIEJpcnRoOjwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJkYXRlT2ZCaXJ0aFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2RhdGEuZGF0ZU9mQmlydGh9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25VcGRhdGUoJ2RhdGVPZkJpcnRoJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBzdHlsZT17aW5wdXRTdHlsZX1cbiAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzFyZW0nIH19PlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCIgXG4gICAgICAgICAgICBvbkNsaWNrPXtvblByZXZpb3VzfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgLi4uYnV0dG9uU3R5bGUsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM2Yzc1N2QnLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgZmxleDogMVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBQcmV2aW91c1xuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgICAgIGRpc2FibGVkPXshaXNWYWxpZH1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIC4uLmJ1dHRvblN0eWxlLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzVmFsaWQgPyAnIzI4YTc0NScgOiAnI2NjYycsXG4gICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICBmbGV4OiAxXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIENvbXBsZXRlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICBtYXJnaW5Ub3A6ICcycmVtJywgXG4gICAgICAgIHBhZGRpbmc6ICcxcmVtJywgXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmOGY5ZmEnLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnXG4gICAgICB9fT5cbiAgICAgICAgPGgzPkN1cnJlbnQgRm9ybSBEYXRhOjwvaDM+XG4gICAgICAgIDxwcmUgc3R5bGU9e3sgZm9udFNpemU6ICcwLjlyZW0nIH19PlxuICAgICAgICAgIHtKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKX1cbiAgICAgICAgPC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1TdGVwMjtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUZsYWdzaGlwIiwiSGl0VHlwZSIsIkV2ZW50Q2F0ZWdvcnkiLCJGb3JtU3RlcDIiLCJkYXRhIiwib25VcGRhdGUiLCJvblByZXZpb3VzIiwiZmxhZ0JpcnRoRmllbGQiLCJmcyIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNlbmRIaXRzIiwidHlwZSIsIkVWRU5UIiwiY2F0ZWdvcnkiLCJVU0VSX0VOR0FHRU1FTlQiLCJhY3Rpb24iLCJlcnJvciIsImNvbnNvbGUiLCJhbGVydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbnB1dFN0eWxlIiwid2lkdGgiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiZm9udFNpemUiLCJtYXJnaW5Cb3R0b20iLCJidXR0b25TdHlsZSIsImN1cnNvciIsIm1hcmdpblJpZ2h0IiwiaXNWYWxpZCIsImVtYWlsIiwidHJpbSIsImRhdGVPZkJpcnRoIiwiZGl2IiwiaDIiLCJmb3JtIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsInN0eWxlIiwicmVxdWlyZWQiLCJkaXNwbGF5IiwiZ2FwIiwiYnV0dG9uIiwib25DbGljayIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiZmxleCIsImRpc2FibGVkIiwibWFyZ2luVG9wIiwiaDMiLCJwcmUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/FormStep2.tsx\n"));

/***/ }),

/***/ "(pages-dir-browser)/./components/Layout.tsx":
/*!*******************************!*\
  !*** ./components/Layout.tsx ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Layout = (param)=>{\n    let { children, flagBirthField } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            minHeight: '100vh',\n            padding: '2rem',\n            fontFamily: 'Arial, sans-serif',\n            backgroundColor: '#f5f5f5'\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                maxWidth: '600px',\n                margin: '0 auto',\n                backgroundColor: 'white',\n                padding: '2rem',\n                borderRadius: '8px',\n                boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    style: {\n                        marginBottom: '2rem',\n                        textAlign: 'center'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            children: \"Dynamic Form Application\"\n                        }, void 0, false, {\n                            fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n                            lineNumber: 25,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                padding: '0.5rem',\n                                borderRadius: '4px',\n                                fontSize: '0.9rem',\n                                marginBottom: '1rem'\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n                            lineNumber: 26,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                padding: '0.5rem',\n                                backgroundColor: flagBirthField ? '#cce5ff' : '#f8d7da',\n                                color: flagBirthField ? '#004085' : '#721c24',\n                                borderRadius: '4px',\n                                fontSize: '0.9rem'\n                            },\n                            children: [\n                                \"flagBirthField: \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    children: flagBirthField ? 'true' : 'false'\n                                }, void 0, false, {\n                                    fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n                                    lineNumber: 40,\n                                    columnNumber: 29\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n                    lineNumber: 24,\n                    columnNumber: 9\n                }, undefined),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/components/Layout.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, undefined);\n};\n_c = Layout;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Layout);\nvar _c;\n$RefreshReg$(_c, \"Layout\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL2NvbXBvbmVudHMvTGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFPMUIsTUFBTUMsU0FBZ0M7UUFBQyxFQUFFQyxRQUFRLEVBQUVDLGNBQWMsRUFBRTtJQUNqRSxxQkFDRSw4REFBQ0M7UUFBSUMsT0FBTztZQUNWQyxXQUFXO1lBQ1hDLFNBQVM7WUFDVEMsWUFBWTtZQUNaQyxpQkFBaUI7UUFDbkI7a0JBQ0UsNEVBQUNMO1lBQUlDLE9BQU87Z0JBQ1ZLLFVBQVU7Z0JBQ1ZDLFFBQVE7Z0JBQ1JGLGlCQUFpQjtnQkFDakJGLFNBQVM7Z0JBQ1RLLGNBQWM7Z0JBQ2RDLFdBQVc7WUFDYjs7OEJBQ0UsOERBQUNDO29CQUFPVCxPQUFPO3dCQUFFVSxjQUFjO3dCQUFRQyxXQUFXO29CQUFTOztzQ0FDekQsOERBQUNDO3NDQUFHOzs7Ozs7c0NBQ0osOERBQUNiOzRCQUFJQyxPQUFPO2dDQUNWRSxTQUFTO2dDQUNUSyxjQUFjO2dDQUNkTSxVQUFVO2dDQUNWSCxjQUFjOzRCQUNoQjs7Ozs7O3NDQUVBLDhEQUFDWDs0QkFBSUMsT0FBTztnQ0FDVkUsU0FBUztnQ0FDVEUsaUJBQWlCTixpQkFBaUIsWUFBWTtnQ0FDOUNnQixPQUFPaEIsaUJBQWlCLFlBQVk7Z0NBQ3BDUyxjQUFjO2dDQUNkTSxVQUFVOzRCQUNaOztnQ0FBRzs4Q0FDZSw4REFBQ0U7OENBQVFqQixpQkFBaUIsU0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dCQUd0REQ7Ozs7Ozs7Ozs7OztBQUlUO0tBdkNNRDtBQXlDTixpRUFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3ZhbGVyaWFuLmthcnNlbnR5L0RvY3VtZW50cy9BcHAvbXktbmV4dGpzLWFwcC9jb21wb25lbnRzL0xheW91dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgZmxhZ0JpcnRoRmllbGQ6IGJvb2xlYW47ICAvLyA8LS0gQWRkZWQgdGhpcyBwcm9wXG59XG5cbmNvbnN0IExheW91dDogUmVhY3QuRkM8TGF5b3V0UHJvcHM+ID0gKHsgY2hpbGRyZW4sIGZsYWdCaXJ0aEZpZWxkIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgbWluSGVpZ2h0OiAnMTAwdmgnLCBcbiAgICAgIHBhZGRpbmc6ICcycmVtJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCwgc2Fucy1zZXJpZicsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1J1xuICAgIH19PlxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBtYXhXaWR0aDogJzYwMHB4JyxcbiAgICAgICAgbWFyZ2luOiAnMCBhdXRvJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICBwYWRkaW5nOiAnMnJlbScsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgIGJveFNoYWRvdzogJzAgMnB4IDEwcHggcmdiYSgwLDAsMCwwLjEpJ1xuICAgICAgfX0+XG4gICAgICAgIDxoZWFkZXIgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMnJlbScsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgPGgxPkR5bmFtaWMgRm9ybSBBcHBsaWNhdGlvbjwvaDE+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwLjVyZW0nLCBcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzAuOXJlbScsXG4gICAgICAgICAgICBtYXJnaW5Cb3R0b206ICcxcmVtJ1xuICAgICAgICAgIH19PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwLjVyZW0nLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmbGFnQmlydGhGaWVsZCA/ICcjY2NlNWZmJyA6ICcjZjhkN2RhJyxcbiAgICAgICAgICAgIGNvbG9yOiBmbGFnQmlydGhGaWVsZCA/ICcjMDA0MDg1JyA6ICcjNzIxYzI0JyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzAuOXJlbSdcbiAgICAgICAgICB9fT5cbiAgICAgICAgICAgIGZsYWdCaXJ0aEZpZWxkOiA8c3Ryb25nPntmbGFnQmlydGhGaWVsZCA/ICd0cnVlJyA6ICdmYWxzZSd9PC9zdHJvbmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExheW91dDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkxheW91dCIsImNoaWxkcmVuIiwiZmxhZ0JpcnRoRmllbGQiLCJkaXYiLCJzdHlsZSIsIm1pbkhlaWdodCIsInBhZGRpbmciLCJmb250RmFtaWx5IiwiYmFja2dyb3VuZENvbG9yIiwibWF4V2lkdGgiLCJtYXJnaW4iLCJib3JkZXJSYWRpdXMiLCJib3hTaGFkb3ciLCJoZWFkZXIiLCJtYXJnaW5Cb3R0b20iLCJ0ZXh0QWxpZ24iLCJoMSIsImZvbnRTaXplIiwiY29sb3IiLCJzdHJvbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./components/Layout.tsx\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/nsX90zke.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/nsX90zke.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ li),\n/* harmony export */   A: () => (/* binding */ ji),\n/* harmony export */   B: () => (/* binding */ Ji),\n/* harmony export */   C: () => (/* binding */ Ft),\n/* harmony export */   D: () => (/* binding */ ci),\n/* harmony export */   E: () => (/* binding */ Ti),\n/* harmony export */   F: () => (/* binding */ k),\n/* harmony export */   G: () => (/* binding */ Yi),\n/* harmony export */   H: () => (/* binding */ Vt),\n/* harmony export */   I: () => (/* binding */ Zi),\n/* harmony export */   J: () => (/* binding */ te),\n/* harmony export */   K: () => (/* binding */ ie),\n/* harmony export */   L: () => (/* binding */ s),\n/* harmony export */   M: () => (/* binding */ ee),\n/* harmony export */   N: () => (/* binding */ se),\n/* harmony export */   O: () => (/* binding */ Xi),\n/* harmony export */   P: () => (/* binding */ ae),\n/* harmony export */   Q: () => (/* binding */ f),\n/* harmony export */   R: () => (/* binding */ oe),\n/* harmony export */   S: () => (/* binding */ o),\n/* harmony export */   T: () => (/* binding */ T),\n/* harmony export */   U: () => (/* binding */ ne),\n/* harmony export */   V: () => (/* binding */ Gt),\n/* harmony export */   W: () => (/* binding */ re),\n/* harmony export */   X: () => (/* binding */ he),\n/* harmony export */   Y: () => (/* binding */ ce),\n/* harmony export */   Z: () => (/* binding */ ge),\n/* harmony export */   _: () => (/* binding */ di),\n/* harmony export */   a: () => (/* binding */ y),\n/* harmony export */   a0: () => (/* binding */ ui),\n/* harmony export */   a1: () => (/* binding */ me),\n/* harmony export */   a2: () => (/* binding */ de),\n/* harmony export */   a3: () => (/* binding */ Ce),\n/* harmony export */   b: () => (/* binding */ S),\n/* harmony export */   c: () => (/* binding */ A),\n/* harmony export */   d: () => (/* binding */ Mt),\n/* harmony export */   e: () => (/* binding */ l),\n/* harmony export */   f: () => (/* binding */ u),\n/* harmony export */   g: () => (/* binding */ C),\n/* harmony export */   h: () => (/* binding */ _),\n/* harmony export */   i: () => (/* binding */ Zt),\n/* harmony export */   j: () => (/* binding */ m),\n/* harmony export */   k: () => (/* binding */ p),\n/* harmony export */   l: () => (/* binding */ Wt),\n/* harmony export */   m: () => (/* binding */ v),\n/* harmony export */   n: () => (/* binding */ I),\n/* harmony export */   o: () => (/* binding */ oi),\n/* harmony export */   p: () => (/* binding */ Ge),\n/* harmony export */   q: () => (/* binding */ Ut),\n/* harmony export */   r: () => (/* binding */ Ht),\n/* harmony export */   s: () => (/* binding */ xt),\n/* harmony export */   t: () => (/* binding */ Pt),\n/* harmony export */   u: () => (/* binding */ Lt),\n/* harmony export */   v: () => (/* binding */ Ki),\n/* harmony export */   w: () => (/* binding */ Qi),\n/* harmony export */   x: () => (/* binding */ $i),\n/* harmony export */   y: () => (/* binding */ zi),\n/* harmony export */   z: () => (/* binding */ Wi)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"(pages-dir-browser)/./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\nconst i=(t,i)=>fetch(t,i),e=AbortController;var s;!function(t){t[t.NONE=0]=\"NONE\",t[t.EMERGENCY=1]=\"EMERGENCY\",t[t.ALERT=2]=\"ALERT\",t[t.CRITICAL=3]=\"CRITICAL\",t[t.ERROR=4]=\"ERROR\",t[t.WARNING=5]=\"WARNING\",t[t.NOTICE=6]=\"NOTICE\",t[t.INFO=7]=\"INFO\",t[t.DEBUG=8]=\"DEBUG\",t[t.ALL=9]=\"ALL\"}(s||(s={}));const a=\"5.1.2\",o={name:\"TypeScript\",version:a},n=25e5,r=\"https://decision.flagship.io/v2/\",h=\"https://events.flagship.io\",c=\"https://events.flagship.io/troubleshooting\",g=\"https://events.flagship.io/analytics\",d=\"activate\",l=\"https://qa-assistant.flagship.io/bundle.js\",u=\"https://staging-qa-assistant.flagship.io/bundle.js\",f=\"https://local-qa-assistant.flagship.io:5000/bundle.js\",I=\"fs_qa_assistant\",p=\"fs_qa_assistant_staging\",_=\"fs_qa_assistant_local\",v=\"abtasty_qa_assistant\",m=\"abtasty_qa_assistant_staging\",C=\"abtasty_qa_assistant_local\",T=\"qa-assistant.abtasty.com\",y=\"qa-assistant.flagship.io\",E=\"fs_consent\",A=\"FS_IS_QA_MODE_ENABLED\",S=\"FS_FORCED_VARIATIONS\",k=\"FS_QA_ASSISTANT_SCRIPT_TAG_ID\",R=\"https://events.flagship.io/emotionsai\",N=\"sendEAIEvent\",D=\"fetchEAIScore\",b=\"eai::eas\",O=\"FS_CLIENT_VISITOR\",w=144e5,M=\"ready\",H=\"https://docs.developers.flagship.io/docs/js-v3\",V=`Params 'envId' and 'apiKey' must not be null or empty.\\n  Learn more: ${H}#initialization`,F=\"{0} must be a {1}\",x=\"Visitor {0}, method {1} is deactivated while SDK status is: {2}.\",P=\"SEND BATCH\",L=\"without calling `fetchFlags` method afterwards. So, the value of the flag `{1}` might be outdated\",U=`You can't create a new visitor without first calling the \"Flagship.start\" method.\\nLearn more: ${H}#initialization\\n`,G=\"INITIALIZATION\",B=\"UPDATE CONTEXT\",q=\"NEW VISITOR\",K=\"ADD HIT\",Q=\"batch\",$=\"cid\",z=\"cid\",W=\"cuid\",j=\"aid\",J=\"vid\",Y=\"caid\",Z=\"vaid\",X=\"ds\",tt=\"t\",it=\"qt\",et=\"APP\",st=\"x-api-key\",at=\"Content-Type\",ot=\"x-sdk-client\",nt=\"x-sdk-version\",rt=\"application/json\",ht=\"BUCKETING\",ct=`Visitor {0}, the key '{1}' must be a non null String.\\nLearn more: ${H}#updating-the-visitor-context`,gt=`Visitor {0}, 'value' for key '{1}[], must be one of the following types : String, Number, Boolean\\nLearn more: ${H}#updating-the-visitor-context`,dt=`visitor {0}, Predefined Context {0} must be of type {1}\\nLearn more: ${H}#predefined-user-context-keys-`,lt=\"FETCH_FLAGS\",ut=\"FLAG_VALUE\",ft=\"GET_FLAG\",It=\"FLAG_VISITOR_EXPOSED\",pt=\"FLAG_METADATA\",_t=\"Visitor {0}, No Flags found for key {1}:  Empty metadata object is returned\",vt=`Visitor {0}, Flag for key {1} Method Flag.metadata is deactivated while SDK status is NOT_READY: Empty metadata object is returned {2}\\nLearn more: ${H}#getting-flags-campaigns-metadata`,mt=\"AUTHENTICATE\",Ct=`Visitor {0}, visitorId must not be null or empty\\nLearn more: ${H}#authenticate`,Tt=\"UNAUTHENTICATE\",yt=\"ALLOCATION\",Et=`lookupVisitor method has loaded a bad format version ({0}) for visitor {1}.\\nLearn more: ${H}#managing-visitor-cache`,At=\"CACHE\",St=\"visitor {0}. {1} threw an exception {2}\",kt=\"{0} threw an exception {1}\",Rt=\"TRACKING_MANAGER\",Nt=\"{0} Unexpected Error occurred {1}\",Dt=\"{0} has been sent : {1}\",bt=\"ACTIVATE HIT\",Ot=\"BATCH HIT\",wt=\"Action Tracking\",Mt=[\"https://local-qa-assistant.abtasty.com:5000\",\"https://staging-qa-assistant.abtasty.com\",\"https://qa-assistant.abtasty.com\",\"https://qa-assistant.flagship.io\",\"https://local-qa-assistant.flagship.io:5000\",\"https://staging-qa-assistant.flagship.io\"];var Ht,Vt,Ft,xt,Pt,Lt,Ut;!function(t){t[t.SDK_NOT_INITIALIZED=0]=\"SDK_NOT_INITIALIZED\",t[t.SDK_INITIALIZING=1]=\"SDK_INITIALIZING\",t[t.SDK_PANIC=2]=\"SDK_PANIC\",t[t.SDK_INITIALIZED=3]=\"SDK_INITIALIZED\"}(Ht||(Ht={})),function(t){t.PAGE_VIEW=\"PAGEVIEW\",t.PAGE=\"PAGEVIEW\",t.SCREEN_VIEW=\"SCREENVIEW\",t.SCREEN=\"SCREENVIEW\",t.TRANSACTION=\"TRANSACTION\",t.ITEM=\"ITEM\",t.EVENT=\"EVENT\"}(Vt||(Vt={})),function(t){t[t.CONTINUOUS_CACHING=0]=\"CONTINUOUS_CACHING\",t[t.PERIODIC_CACHING=1]=\"PERIODIC_CACHING\"}(Ft||(Ft={})),function(t){t.UPDATE_CONTEXT=\"UPDATE_CONTEXT\",t.AUTHENTICATE=\"AUTHENTICATE\",t.UNAUTHENTICATE=\"UNAUTHENTICATE\",t.FLAGS_FETCHING_ERROR=\"FLAGS_FETCHING_ERROR\",t.FLAGS_FETCHED_FROM_CACHE=\"FLAGS_FETCHED_FROM_CACHE\",t.FLAGS_NEVER_FETCHED=\"FLAGS_NEVER_FETCHED\",t.NONE=\"NONE\"}(xt||(xt={})),function(t){t.FETCHED=\"FETCHED\",t.FETCHING=\"FETCHING\",t.FETCH_REQUIRED=\"FETCH_REQUIRED\",t.PANIC=\"PANIC\"}(Pt||(Pt={})),function(t){t.FETCHED=\"FETCHED\",t.FETCH_REQUIRED=\"FETCH_REQUIRED\",t.NOT_FOUND=\"NOT_FOUND\",t.PANIC=\"PANIC\"}(Lt||(Lt={}));class Gt extends events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter{visitorDelegate;_onReady;constructor(t){super(),this.visitorDelegate=t,this._onReady=t=>{this.emit(M,t)},this.visitorDelegate.on(M,this._onReady);const i=this;i.sendEaiVisitorEvent=t=>{this.visitorDelegate.sendEaiVisitorEvent(t)},i.sendEaiPageView=t=>{this.visitorDelegate.sendEaiPageView(t)},i.onEAICollectStatusChange=t=>{this.visitorDelegate.onEAICollectStatusChange(t)}}get visitorId(){return this.visitorDelegate.visitorId}set visitorId(t){this.visitorDelegate.visitorId=t}get anonymousId(){return this.visitorDelegate.anonymousId}get config(){return this.visitorDelegate.config}get context(){return this.visitorDelegate.context}get flagsStatus(){return this.visitorDelegate.flagsStatus}get hasConsented(){return this.visitorDelegate.hasConsented}setConsent(t){this.visitorDelegate.setConsent(t)}updateContext(t,i){this.visitorDelegate.updateContext(t,i)}clearContext(){this.visitorDelegate.clearContext()}getFlag(t){return this.visitorDelegate.getFlag(t)}getFlags(){return this.visitorDelegate.getFlags()}fetchFlags(){return this.visitorDelegate.fetchFlags()}sendHit(t){return this.visitorDelegate.sendHit(t)}sendHits(t){return this.visitorDelegate.sendHits(t)}authenticate(t){this.visitorDelegate.authenticate(t)}unauthenticate(){this.visitorDelegate.unauthenticate()}collectEAIEventsAsync(...t){let i;return t.length>0&&(i=t[0]),this.visitorDelegate.collectEAIEventsAsync(i)}cleanup(){this.visitorDelegate.cleanup(),this.visitorDelegate.off(M,this._onReady)}}class Bt{_config;_decisionManager;_trackingManager;_sharedActionTracking;constructor(t,i,e,s){this._config=t,this._decisionManager=i,this._trackingManager=e,this._sharedActionTracking=s}get config(){return this._config}set config(t){this._config=t}get decisionManager(){return this._decisionManager}set decisionManager(t){this._decisionManager=t}get trackingManager(){return this._trackingManager}set trackingManager(t){this._trackingManager=t}get sharedActionTracking(){return this._sharedActionTracking}}function qt(t,...i){let e=t;for(let t=0;t<i.length;t++){const s=i[t],a=\"string\"==typeof s?s:JSON.stringify(s instanceof Map?Array.from(s.values()):s);e=e.replace(new RegExp(`\\\\{${t}\\\\}`,\"g\"),a)}return e}function Kt(t,i,e,...a){if(!t||!t.logLevel||t.logLevel<s.ERROR)return;Qt(t,qt(e,...a),i)}function Qt(t,i,e){!t||!t.logLevel||t.logLevel<s.ERROR||(\"function\"==typeof t.onLog&&t.onLog(s.ERROR,e,i),t.logManager&&\"function\"==typeof t.logManager.error&&t.logManager.error(i,e))}function $t(t,i,e,...a){if(!t||!t.logLevel||t.logLevel<s.WARNING)return;zt(t,qt(e,...a),i)}function zt(t,i,e){!t||!t.logLevel||t.logLevel<s.WARNING||(\"function\"==typeof t.onLog&&t.onLog(s.WARNING,e,i),t.logManager&&\"function\"==typeof t.logManager.warning&&t.logManager.warning(i,e))}function Wt(t,i,e,...a){if(!t||!t.logLevel||t.logLevel<s.INFO)return;jt(t,qt(e,...a),i)}function jt(t,i,e){!t||!t.logLevel||t.logLevel<s.INFO||(\"function\"==typeof t.onLog&&t.onLog(s.INFO,e,i),t.logManager&&\"function\"==typeof t.logManager.info&&t.logManager.info(i,e))}function Jt(t,i,e,...a){if(!t||!t.logLevel||t.logLevel<s.DEBUG)return;Yt(t,qt(e,...a),i)}function Yt(t,i,e){!t||!t.logLevel||t.logLevel<s.DEBUG||(\"function\"==typeof t.onLog&&t.onLog(s.DEBUG,e,i),t.logManager&&\"function\"==typeof t.logManager.debug&&t.logManager.debug(i,e))}function Zt(){return\"undefined\"!=typeof window&&void 0!==window.document}function Xt(t,i){return typeof t==typeof i&&(\"object\"!=typeof t||\"object\"!=typeof i||Array.isArray(t)===Array.isArray(i))}function ti(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){const i=16*Math.random()|0;return(\"x\"===t?i:3&i|8).toString(16)}))}function ii(t,i){return JSON.stringify({message:t,data:i})}function ei(t){const i=JSON.stringify(t);return Array.from(i,(t=>t.charCodeAt(0).toString(16))).join(\"\")}function si(t,i){if(\"string\"!=typeof t)return Kt(i,\"hexToValue\",\"Invalid hex string: {0}\",t),null;let e=\"\";for(let s=0;s<t.length;s+=2){const a=t.slice(s,s+2),o=parseInt(a,16);if(isNaN(o))return Kt(i,\"hexToValue\",\"Invalid hex character: {0}\",a),null;e+=String.fromCharCode(o)}try{return JSON.parse(e)}catch(t){return Kt(i,\"hexToValue\",\"Error while parsing JSON: {0}\",t),null}}function ai(t,i){if(t===i)return!0;if(\"object\"!=typeof t||\"object\"!=typeof i||null==t||null==i)return!1;const e=Object.keys(t),s=Object.keys(i);if(e.length!==s.length)return!1;for(const a of e)if(!s.includes(a)||!ai(t[a],i[a]))return!1;return!0}function oi(t){{if(!Zt())return!1;const i=\"interactive\"===document.readyState||\"complete\"===document.readyState;if(\"function\"!=typeof t)return i;if(i)t();else{const i=()=>{document.removeEventListener(\"DOMContentLoaded\",i),t()};document.addEventListener(\"DOMContentLoaded\",i)}return i}}function ni(t,i,e){const a=new Date,o=t=>t.toString().padStart(2,\"0\");return`${{[s.EMERGENCY]:\"\u001b[1;37;41m\",[s.ALERT]:\"\u001b[1;37;45m\",[s.CRITICAL]:\"\u001b[1;37;41m\",[s.ERROR]:\"\u001b[1;37;41m\",[s.WARNING]:\"\u001b[33;1m\",[s.NOTICE]:\"\u001b[36;1m\",[s.INFO]:\"\u001b[32;1m\",[s.DEBUG]:\"\u001b[90;1m\",[s.NONE]:\"\",[s.ALL]:\"\u001b[90;1m\"}[t]||\"\"}[${`${a.getFullYear()}-${o(a.getMonth()+1)}-${o(a.getDate())} ${o(a.getHours())}:${o(a.getMinutes())}:${o(a.getSeconds())}.${a.getMilliseconds().toString().padStart(3,\"0\")}`}] [Flagship SDK] [${s[t].padEnd(2)}] [${e}] ${i}\u001b[0m`}!function(t){t.DECISION_API=\"DECISION-API\",t.BUCKETING=\"BUCKETING\",t.BUCKETING_EDGE=\"BUCKETING_EDGE\"}(Ut||(Ut={}));class ri{_batchIntervals;_poolMaxSize;_batchStrategy;constructor(t){this.batchIntervals=t?.batchIntervals,this.poolMaxSize=t?.poolMaxSize,this._batchStrategy=this.getCacheStrategy(t?.cacheStrategy)}getCacheStrategy(t){return\"number\"==typeof t?t:Zt()?Ft.CONTINUOUS_CACHING:Ft.PERIODIC_CACHING}get batchIntervals(){return this._batchIntervals}set batchIntervals(t){(\"number\"!=typeof t||t<1||t>10800)&&(t=Zt()?5:10),this._batchIntervals=t}get poolMaxSize(){return this._poolMaxSize}set poolMaxSize(t){(\"number\"!=typeof t||t<5)&&(t=Zt()?10:100),this._poolMaxSize=t}get cacheStrategy(){return this._batchStrategy}}class hi{_envId;_apiKey;_decisionMode;_timeout;_logLevel;_onSdkStatusChanged;_logManager;_fetchNow;_pollingInterval;_onBucketingUpdated;_reuseVisitorIds;_initialBucketing;_decisionApiUrl;_hitDeduplicationTime;_visitorCacheImplementation;_hitCacheImplementation;_disableCache;_trackingManagerConfig;_onVisitorExposed;_fetchThirdPartyData;_nextFetchConfig;_fetchFlagsBufferingTime;_disableDeveloperUsageTracking;_onLog;_isQAModeEnabled;get isQAModeEnabled(){return this._isQAModeEnabled}set isQAModeEnabled(t){this._isQAModeEnabled=t}_enableAnalytics;get disableDeveloperUsageTracking(){return this._disableDeveloperUsageTracking}set disableDeveloperUsageTracking(t){this._disableDeveloperUsageTracking=t}get fetchFlagsBufferingTime(){return this._fetchFlagsBufferingTime}set fetchFlagsBufferingTime(t){this._fetchFlagsBufferingTime=t}get nextFetchConfig(){return this._nextFetchConfig}set nextFetchConfig(t){this._nextFetchConfig=t}get fetchThirdPartyData(){return this._fetchThirdPartyData}set fetchThirdPartyData(t){this._fetchThirdPartyData=t}get trackingManagerConfig(){return this._trackingManagerConfig}get onLog(){return this._onLog}set onLog(t){this._onLog=t}get onVisitorExposed(){return this._onVisitorExposed}constructor(t){const{envId:i,apiKey:e,timeout:a,logLevel:o,logManager:n,onSdkStatusChanged:h,fetchNow:c,decisionMode:g,reuseVisitorIds:d,initialBucketing:l,decisionApiUrl:u,hitDeduplicationTime:f,visitorCacheImplementation:I,hitCacheImplementation:p,disableCache:_,language:v,sdkVersion:m,trackingManagerConfig:C,onLog:T,onVisitorExposed:y,nextFetchConfig:E,fetchFlagsBufferingTime:A,disableDeveloperUsageTracking:S}=t;this.initQaMode(),this.initSDKInfo(v,m),n&&(this.logManager=n),this.fetchFlagsBufferingTime=A??2,this.nextFetchConfig=E||{revalidate:20},this._trackingManagerConfig=new ri(C||{}),this.onLog=T,this.decisionApiUrl=u||r,this._envId=i,this._apiKey=e,this.logLevel=o??s.INFO,this.timeout=a||2,this.fetchNow=void 0===c||c,this.reuseVisitorIds=void 0===d||d,this._decisionMode=g||Ut.DECISION_API,this._initialBucketing=l,this.hitDeduplicationTime=f??2.5,this.disableCache=!!_,this.disableDeveloperUsageTracking=S||!1,I&&(this.visitorCacheImplementation=I),p&&(this.hitCacheImplementation=p),this.onSdkStatusChanged=h,this._onVisitorExposed=y}initQaMode(){if(Zt())try{const t=sessionStorage.getItem(A);this.isQAModeEnabled=t?JSON.parse(t):void 0}catch(t){Qt(this,ii(t.message||t),\"initQaMode\"),this.isQAModeEnabled=!1}}initSDKInfo(t,i){switch(t){case 1:o.name=\"ReactJS\",o.version=i??a;break;case 2:o.name=\"React-Native\",o.version=i??a;break;default:o.name=\"undefined\"!=typeof window&&\"Deno\"in window?\"Deno\":\"TypeScript\",o.version=a}}get initialBucketing(){return this._initialBucketing}set initialBucketing(t){this._initialBucketing=t}get reuseVisitorIds(){return this._reuseVisitorIds}set reuseVisitorIds(t){this._reuseVisitorIds=t}get onBucketingUpdated(){return this._onBucketingUpdated}set onBucketingUpdated(t){this._onBucketingUpdated=t}set envId(t){this._envId=t}get envId(){return this._envId}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}get decisionMode(){return this._decisionMode}get timeout(){return this._timeout}set timeout(t){this._timeout=t}get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}get fetchNow(){return this._fetchNow}set fetchNow(t){this._fetchNow=t}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){this._pollingInterval=t}get hitDeduplicationTime(){return this._hitDeduplicationTime}set hitDeduplicationTime(t){\"number\"==typeof t?this._hitDeduplicationTime=t:Qt(this,qt(F,\"hitDeduplicationTime\",\"number\"),\"hitDeduplicationTime\")}get visitorCacheImplementation(){return this._visitorCacheImplementation}set visitorCacheImplementation(t){this._visitorCacheImplementation=t}get hitCacheImplementation(){return this._hitCacheImplementation}set hitCacheImplementation(t){this._hitCacheImplementation=t}get disableCache(){return this._disableCache}set disableCache(t){this._disableCache=t}get onSdkStatusChanged(){return this._onSdkStatusChanged}set onSdkStatusChanged(t){t&&\"function\"!=typeof t?Qt(this,\"statusChangedCallback must be a function\",\"onSdkStatusChanged\"):this._onSdkStatusChanged=t}get logManager(){return this._logManager}set logManager(t){this._logManager=t}get decisionApiUrl(){return this._decisionApiUrl}set decisionApiUrl(t){\"string\"==typeof t?this._decisionApiUrl=t:Qt(this,qt(F,\"decisionApiUrl\",\"string\"),\"decisionApiUrl\")}}class ci extends hi{constructor(t){super({...t,decisionMode:Ut.DECISION_API})}}class gi extends hi{constructor(t){super({...t,decisionMode:Ut.BUCKETING}),this.pollingInterval=t?.pollingInterval??5,this.onBucketingUpdated=t?.onBucketingUpdated,this.fetchThirdPartyData=t?.fetchThirdPartyData}}var di,li,ui,fi;!function(t){t.VISITOR_SEND_HIT=\"VISITOR_SEND_HIT\",t.VISITOR_FETCH_CAMPAIGNS_ERROR=\"VISITOR_FETCH_CAMPAIGNS_ERROR\",t.VISITOR_FETCH_CAMPAIGNS=\"VISITOR_FETCH_CAMPAIGNS\",t.VISITOR_AUTHENTICATE=\"VISITOR_AUTHENTICATE\",t.VISITOR_UNAUTHENTICATE=\"VISITOR_UNAUTHENTICATE\",t.VISITOR_EXPOSED_FLAG_NOT_FOUND=\"VISITOR_EXPOSED_FLAG_NOT_FOUND\",t.FLAG_VALUE_NOT_CALLED=\"FLAG_VALUE_NOT_CALLED\",t.GET_FLAG_VALUE_FLAG_NOT_FOUND=\"GET_FLAG_VALUE_FLAG_NOT_FOUND\",t.GET_FLAG_METADATA_TYPE_WARNING=\"GET_FLAG_METADATA_TYPE_WARNING\",t.GET_FLAG_VALUE_TYPE_WARNING=\"GET_FLAG_VALUE_TYPE_WARNING\",t.VISITOR_EXPOSED_TYPE_WARNING=\"VISITOR_EXPOSED_TYPE_WARNING\",t.VISITOR_SEND_ACTIVATE=\"VISITOR_SEND_ACTIVATE\",t.GET_CAMPAIGNS_ROUTE_RESPONSE_ERROR=\"GET_CAMPAIGNS_ROUTE_RESPONSE_ERROR\",t.GET_CAMPAIGNS_ROUTE_RESPONSE=\"GET_CAMPAIGNS_ROUTE_RESPONSE\",t.SDK_BUCKETING_FILE=\"SDK_BUCKETING_FILE\",t.SEND_ACTIVATE_HIT_ROUTE_ERROR=\"SEND_ACTIVATE_HIT_ROUTE_ERROR\",t.SEND_BATCH_HIT_ROUTE_RESPONSE_ERROR=\"SEND_BATCH_HIT_ROUTE_RESPONSE_ERROR\",t.SEND_HIT_ROUTE_ERROR=\"SEND_HIT_ROUTE_ERROR\",t.SDK_BUCKETING_FILE_ERROR=\"SDK_BUCKETING_FILE_ERROR\",t.SDK_CONFIG=\"SDK_CONFIG\",t.ACCOUNT_SETTINGS=\"ACCOUNT_SETTINGS\",t.ACCOUNT_SETTINGS_ERROR=\"ACCOUNT_SETTINGS_ERROR\",t.EMOTION_AI_SCORE=\"EMOTION_EAI_SCORE\",t.EMOTION_AI_SCORE_FROM_LOCAL_CACHE=\"EMOTION_AI_SCORE_FROM_LOCAL_CACHE\",t.EMOTION_AI_SCORE_ERROR=\"EMOTION_EAI_SCORE_ERROR\",t.EMOTION_AI_VISITOR_EVENT=\"EMOTION_AI_VISITOR_EVENT\",t.EMOTION_AI_VISITOR_EVENT_ERROR=\"EMOTION_AI_VISITOR_EVENT_ERROR\",t.EMOTION_AI_PAGE_VIEW=\"EMOTION_AI_PAGE_VIEW\",t.EMOTION_AI_PAGE_VIEW_ERROR=\"EMOTION_AI_PAGE_VIEW_ERROR\",t.EMOTION_AI_START_COLLECTING=\"EMOTION_AI_START_COLLECTING\",t.EMOTION_AI_STOP_COLLECTING=\"EMOTION_AI_STOP_COLLECTING\",t.EMOTION_AI_START_SCORING=\"EMOTION_AI_START_SCORING\",t.EMOTION_AI_SCORING_FAILED=\"EMOTION_AI_SCORING_FAILED\",t.EMOTION_AI_SCORING_SUCCESS=\"EMOTION_AI_SCORING_SUCCESS\"}(di||(di={})),function(t){t.NONE=\"NONE\",t.ANONYMOUS_ID_CACHE=\"ANONYMOUS_ID_CACHE\",t.VISITOR_ID_CACHE=\"VISITOR_ID_CACHE\",t.VISITOR_ID_CACHE_WITH_ANONYMOUS_ID_CACHE=\"VISITOR_ID_CACHE_WITH_ANONYMOUS_ID_CACHE\"}(li||(li={})),function(t){t.AB_TASTY_WEB_SDK_INITIALIZED=\"AB_TASTY_WEB_SDK_INITIALIZED\"}(ui||(ui={}));class Ii{_visitorId;_config;_type;_ds;_anonymousId;_userIp;_screenResolution;_locale;_sessionNumber;_key;_createdAt;_qaMode;_isActionTrackingHit;get isActionTrackingHit(){return this._isActionTrackingHit}set isActionTrackingHit(t){this._isActionTrackingHit=t}get key(){return this._key}set key(t){this._key=t}get sessionNumber(){return this._sessionNumber}set sessionNumber(t){this._sessionNumber=t}get locale(){return this._locale}set locale(t){this._locale=t}get screenResolution(){return this._screenResolution}set screenResolution(t){this._screenResolution=t}get userIp(){return this._userIp}set userIp(t){this._userIp=t}get anonymousId(){return this._anonymousId}set anonymousId(t){this._anonymousId=t}get visitorId(){return this._visitorId}set visitorId(t){this._visitorId=t}get ds(){return this._ds}set ds(t){this._ds=t}get type(){return this._type}get config(){return this._config}set config(t){this._config=t}get createdAt(){return this._createdAt}set createdAt(t){this._createdAt=t}get qaMode(){return this._qaMode}set qaMode(t){this._qaMode=t}constructor(t){const{type:i,userIp:e,screenResolution:s,locale:a,sessionNumber:o,visitorId:n,anonymousId:r,ds:h,qaMode:c,isActionTrackingHit:g}=t;this._type=i,e&&(this.userIp=e),s&&(this.screenResolution=s),a&&(this.locale=a),o&&(this.sessionNumber=o),this.visitorId=n,this._anonymousId=r||null,this.createdAt=Date.now(),this.ds=h||et,this.qaMode=c,this.isActionTrackingHit=g}isNotEmptyString(t,i){return!(!t||\"string\"!=typeof t)||(Qt(this.config,qt(F,i,\"string\"),i),!1)}isNumeric(t,i){return!(!t||\"number\"!=typeof t)||(Qt(this.config,qt(F,i,\"number\"),i),!1)}isInteger(t,i){return!!Number.isInteger(t)||(Qt(this.config,qt(F,i,\"integer\"),i),!1)}toApiKeys(){const t={[J]:this.visitorId,[X]:this.ds,[$]:`${this.config?.envId}`,[tt]:this.type,[W]:null,[it]:Date.now()-this._createdAt};return this.qaMode&&(t.qa=!0),this.userIp&&(t.uip=this.userIp),this.screenResolution&&(t.sr=this.screenResolution),this.locale&&(t.ul=this.locale),this.sessionNumber&&(t.sn=this.sessionNumber),this.visitorId&&this.anonymousId&&(t[J]=this.anonymousId,t[W]=this.visitorId),t}toObject(){return{key:this.key,visitorId:this.visitorId,ds:this.ds,type:this.type,userIp:this.userIp,screenResolution:this.screenResolution,locale:this.locale,sessionNumber:this.sessionNumber,anonymousId:this.anonymousId,createdAt:this.createdAt,qaMode:this.qaMode}}isReady(t=!0){return!!(this.visitorId&&this.ds&&this.config&&this.config.envId&&this.type)}}!function(t){t[t.Timer=0]=\"Timer\",t[t.BatchLength=1]=\"BatchLength\",t[t.Flush=2]=\"Flush\",t[t.ActivateLength=3]=\"ActivateLength\",t[t.DirectHit=4]=\"DirectHit\",t[t.DirectActivate=5]=\"DirectActivate\"}(fi||(fi={}));class pi extends Ii{data;_traffic;get traffic(){return this._traffic}set traffic(t){this._traffic=t}constructor(t){super({type:t.type,userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId}),this.data={...t,version:t.version||\"1\",stackType:t.stackType||\"SDK\",stackName:t.stackName||o.name,stackVersion:t.stackVersion||o.version,label:t.label,logLevel:t.logLevel,timestamp:t.timestamp||new Date(Date.now()).toISOString(),timeZone:this.getTimezone(),ds:et,envId:t.envId||t.config.envId},this._traffic=t.traffic,this.config=t.config}getTimezone(){return(\"object\"==typeof Intl?Intl.DateTimeFormat()?.resolvedOptions()?.timeZone:void 0)||\"\"+(new Date).getTimezoneOffset()/60}toApiKeys(){const t={[J]:this.visitorId,[X]:this.data.ds,[$]:`${this.data.config?.envId}`,[tt]:this.type,cv:{}},i={version:`${this.data.version}`,logLevel:`${s[this.data.logLevel]}`,timestamp:`${this.data.timestamp}`,timeZone:`${this.data.timeZone}`,label:`${this.data.label}`,\"stack.type\":`${this.data.stackType}`,\"stack.name\":`${this.data.stackName}`,\"stack.version\":`${this.data.stackVersion}`};if(void 0!==this.data.lastBucketingTimestamp&&(i.lastBucketingTimestamp=`${this.data.lastBucketingTimestamp}`),void 0!==this.data.lastInitializationTimestamp&&(i.lastInitializationTimestamp=`${this.data.lastInitializationTimestamp}`),void 0!==this.data.flagshipInstanceId&&(i.flagshipInstanceId=`${this.data.flagshipInstanceId}`),this.data.accountId&&(i.accountId=`${this.data.accountId}`),this.data.envId&&(i.envId=`${this.data.envId}`),void 0!==this.data.sdkBucketingFile&&(i.sdkBucketingFile=JSON.stringify(this.data.sdkBucketingFile)),void 0!==this.data.stackOriginName&&(i[\"stack.origin.name\"]=`${this.data.stackOriginName}`),void 0!==this.data.stackOriginVersion&&(i[\"stack.origin.version\"]=`${this.data.stackOriginVersion}`),void 0!==this.data.sdkStatus&&(i[\"sdk.status\"]=`${Ht[this.data.sdkStatus]}`),void 0!==this.data.sdkConfigLogLevel&&(i[\"sdk.config.logLevel\"]=`${s[this.data.sdkConfigLogLevel]}`),void 0!==this.data.sdkConfigMode&&(i[\"sdk.config.mode\"]=`${this.data.sdkConfigMode}`),void 0!==this.data.sdkConfigCustomLogManager&&(i[\"sdk.config.customLogManager\"]=`${this.data.sdkConfigCustomLogManager}`),void 0!==this.data.sdkConfigCustomCacheManager&&(i[\"sdk.config.customCacheManager\"]=`${this.data.sdkConfigCustomCacheManager}`),void 0!==this.data.sdkConfigStatusListener&&(i[\"sdk.config.custom.StatusListener\"]=`${this.data.sdkConfigStatusListener}`),void 0!==this.data.sdkConfigTimeout&&(i[\"sdk.config.timeout\"]=\"\"+1e3*this.data.sdkConfigTimeout),void 0!==this.data.sdkConfigPollingInterval&&(i[\"sdk.config.pollingTime\"]=\"\"+1e3*this.data.sdkConfigPollingInterval),void 0!==this.data.sdkConfigTrackingManagerStrategy&&(i[\"sdk.config.trackingManager.strategy\"]=`${Ft[this.data.sdkConfigTrackingManagerStrategy]}`),void 0!==this.data.sdkConfigTrackingManagerBatchIntervals&&(i[\"sdk.config.trackingManager.batchIntervals\"]=\"\"+1e3*this.data.sdkConfigTrackingManagerBatchIntervals),void 0!==this.data.sdkConfigTrackingManagerPoolMaxSize&&(i[\"sdk.config.trackingManager.poolMaxSize\"]=`${this.data.sdkConfigTrackingManagerPoolMaxSize}`),void 0!==this.data.sdkConfigFetchNow&&(i[\"sdk.config.fetchNow\"]=`${this.data.sdkConfigFetchNow}`),void 0!==this.data.sdkConfigReuseVisitorIds&&(i[\"sdk.config.reuseVisitorIds\"]=`${this.data.sdkConfigReuseVisitorIds}`),void 0!==this.data.sdkConfigInitialBucketing&&(i[\"sdk.config.initialBucketing\"]=JSON.stringify(this.data.sdkConfigInitialBucketing)),void 0!==this.data.sdkConfigDecisionApiUrl&&(i[\"sdk.config.decisionApiUrl\"]=`${this.data.sdkConfigDecisionApiUrl}`),void 0!==this.data.sdkConfigHitDeduplicationTime&&(i[\"sdk.config.hitDeduplicationTime\"]=\"\"+1e3*this.data.sdkConfigHitDeduplicationTime),void 0!==this.data.sdkConfigUsingCustomHitCache&&(i[\"sdk.config.usingCustomHitCache\"]=JSON.stringify(this.data.sdkConfigUsingCustomHitCache)),void 0!==this.data.sdkConfigUsingCustomVisitorCache&&(i[\"sdk.config.usingCustomVisitorCache\"]=JSON.stringify(this.data.sdkConfigUsingCustomVisitorCache)),void 0!==this.data.sdkConfigUsingOnVisitorExposed&&(i[\"sdk.config.usingOnVisitorExposed\"]=JSON.stringify(this.data.sdkConfigUsingOnVisitorExposed)),void 0!==this.data.sdkConfigFetchThirdPartyData&&(i[\"sdk.config.fetchThirdPartyData\"]=JSON.stringify(this.data.sdkConfigFetchThirdPartyData)),void 0!==this.data.sdkConfigFetchFlagsBufferingTime&&(i[\"sdk.config.fetchFlagsBufferingTime\"]=JSON.stringify(1e3*this.data.sdkConfigFetchFlagsBufferingTime)),void 0!==this.data.sdkConfigNextFetchConfig&&(i[\"sdk.config.nextFetchConfig\"]=JSON.stringify(this.data.sdkConfigNextFetchConfig)),void 0!==this.data.sdkConfigDisableDeveloperUsageTracking&&(i[\"sdk.config.disableDeveloperUsageTracking\"]=JSON.stringify(this.data.sdkConfigDisableDeveloperUsageTracking)),void 0!==this.data.sdkConfigDisableCache&&(i[\"sdk.config.disableCache\"]=JSON.stringify(this.data.sdkConfigDisableCache)),void 0!==this.data.httpRequestUrl&&(i[\"http.request.url\"]=`${this.data.httpRequestUrl}`),void 0!==this.data.httpRequestMethod&&(i[\"http.request.method\"]=`${this.data.httpRequestMethod}`),void 0!==this.data.httpRequestHeaders&&(i[\"http.request.headers\"]=JSON.stringify(this.data.httpRequestHeaders)),void 0!==this.data.httpRequestBody&&(i[\"http.request.body\"]=JSON.stringify(this.data.httpRequestBody)),void 0!==this.data.httpResponseUrl&&(i[\"http.response.url\"]=`${this.data.httpResponseUrl}`),void 0!==this.data.httpResponseMethod&&(i[\"http.response.method\"]=`${this.data.httpResponseMethod}`),void 0!==this.data.httpResponseHeaders&&(i[\"http.response.headers\"]=JSON.stringify(this.data.httpResponseHeaders)),void 0!==this.data.httpResponseCode&&(i[\"http.response.code\"]=`${this.data.httpResponseCode}`),void 0!==this.data.httpResponseBody&&(i[\"http.response.body\"]=JSON.stringify(this.data.httpResponseBody)),void 0!==this.data.httpResponseTime&&(i[\"http.response.time\"]=`${this.data.httpResponseTime}`),void 0!==this.visitorId&&(i[\"visitor.visitorId\"]=`${this.visitorId}`),void 0!==this.anonymousId&&(i[\"visitor.anonymousId\"]=`${this.anonymousId}`),void 0!==this.data.visitorSessionId&&(i[\"visitor.sessionId\"]=`${this.data.visitorSessionId}`),void 0!==this.data.visitorStatus&&(i[\"visitor.status\"]=`${this.data.visitorStatus}`),void 0!==this.data.visitorInstanceType&&(i[\"visitor.instanceType\"]=`${this.data.visitorInstanceType}`),void 0!==this.data.visitorContext)for(const t in this.data.visitorContext){const e=this.data.visitorContext[t];i[`visitor.context.[${t}]`]=`${e}`}if(void 0!==this.data.visitorConsent&&(i[\"visitor.consent\"]=`${this.data.visitorConsent}`),void 0!==this.data.visitorAssignmentHistory)for(const t in this.data.visitorAssignmentHistory){const e=this.data.visitorAssignmentHistory[t];i[`visitor.assignments.[${t}]`]=e}if(void 0!==this.data.visitorFlags&&this.data.visitorFlags.forEach(((t,e)=>{for(const s in t){const a=t[s],o=\"value\"===s||\"key\"===s,n=\"string\"==typeof a?a:JSON.stringify(a);i[`visitor.flags.[${e}]${o?\"\":\".metadata\"}.${s}`]=n}})),void 0!==this.data.visitorIsAuthenticated&&(i[\"visitor.isAuthenticated\"]=`${this.data.visitorIsAuthenticated}`),void 0!==this.data.visitorInitialCampaigns&&(i[\"visitor.initialCampaigns\"]=JSON.stringify(this.data.visitorInitialCampaigns)),void 0!==this.data.visitorInitialFlagsData&&(i[\"visitor.initialFlagsData\"]=JSON.stringify(Array.isArray(this.data.visitorInitialFlagsData)?this.data.visitorInitialFlagsData:Array.from(this.data.visitorInitialFlagsData))),void 0!==this.data.visitorCampaigns&&(i[\"visitor.campaigns\"]=JSON.stringify(this.data.visitorCampaigns)),void 0!==this.data.visitorCampaignFromCache&&(i[\"visitor.campaignFromCache\"]=JSON.stringify(this.data.visitorCampaignFromCache)),void 0!==this.data.contextKey&&(i.contextKey=`${this.data.contextKey}`),void 0!==this.data.contextValue&&(i.contextValue=`${this.data.contextValue}`),void 0!==this.data.flagKey&&(i[\"flag.key\"]=`${this.data.flagKey}`),void 0!==this.data.flagValue&&(i[\"flag.value\"]=`${this.data.flagValue}`),void 0!==this.data.flagDefault&&(i[\"flag.default\"]=JSON.stringify(this.data.flagDefault)),void 0!==this.data.flagMetadataCampaignId&&(i[\"flag.metadata.campaignId\"]=`${this.data.flagMetadataCampaignId}`),void 0!==this.data.flagMetadataCampaignName&&(i[\"flag.metadata.campaignName\"]=`${this.data.flagMetadataCampaignName}`),void 0!==this.data.flagMetadataVariationGroupId&&(i[\"flag.metadata.variationGroupId\"]=`${this.data.flagMetadataVariationGroupId}`),void 0!==this.data.flagMetadataVariationGroupName&&(i[\"flag.metadata.variationGroupName\"]=`${this.data.flagMetadataVariationGroupName}`),void 0!==this.data.flagMetadataVariationId&&(i[\"flag.metadata.variationId\"]=`${this.data.flagMetadataVariationId}`),void 0!==this.data.flagMetadataVariationName&&(i[\"flag.metadata.variationName\"]=`${this.data.flagMetadataVariationName}`),void 0!==this.data.flagMetadataCampaignSlug&&(i[\"flag.metadata.campaignSlug\"]=`${this.data.flagMetadataCampaignSlug}`),void 0!==this.data.flagMetadataCampaignType&&(i[\"flag.metadata.campaignType\"]=`${this.data.flagMetadataCampaignType}`),void 0!==this.data.flagMetadataCampaignIsReference&&(i[\"flag.metadata.isReference\"]=`${this.data.flagMetadataCampaignIsReference}`),void 0!==this.data.hitContent)for(const t in this.data.hitContent){const e=this.data.hitContent[t];i[`hit.${t}`]=\"string\"==typeof e?e:JSON.stringify(e)}if(void 0!==this.data.batchTriggeredBy&&(i.batchTriggeredBy=`${fi[this.data.batchTriggeredBy]}`),void 0!==this.data.accountSettings)for(const t in this.data.accountSettings){const e=this.data.accountSettings[t];i[`accountSettings.${t}`]=\"string\"==typeof e?e:JSON.stringify(e)}return void 0!==this.data.eAIScore&&(i[\"eAIScore.eai.eas\"]=this.data.eAIScore.eai.eas),void 0!==this.data.isEAIScoreFromLocalCache&&(i.isEAIScoreFromLocalCache=`${this.data.isEAIScoreFromLocalCache}`),void 0!==this.data.eAIDataTimestamp&&(i.eAIDataTimestamp=`${this.data.eAIDataTimestamp}`),t.cv=i,t}isReady(t=!0){return!(t&&!super.isReady())}getErrorMessage(){return\"event category and event action are required\"}}class _i extends pi{constructor(t){super({...t,type:\"TROUBLESHOOTING\"})}}class vi{_config;_panic=!1;_httpClient;_statusChangedCallback;_troubleshooting;_lastBucketingTimestamp;_trackingManager;_flagshipInstanceId;get trackingManager(){return this._trackingManager}set trackingManager(t){this._trackingManager=t}get flagshipInstanceId(){return this._flagshipInstanceId}set flagshipInstanceId(t){this._flagshipInstanceId=t}get lastBucketingTimestamp(){return this._lastBucketingTimestamp}get troubleshooting(){return this._troubleshooting}set troubleshooting(t){this._troubleshooting=t}get config(){return this._config}set panic(t){this.updateFlagshipStatus(t?Ht.SDK_PANIC:Ht.SDK_INITIALIZED),this._panic=t,t&&Yt(this.config,\"Panic mode is enabled : all feature are disabled except fetchFlags.\",lt)}statusChangedCallback(t){this._statusChangedCallback=t}constructor({httpClient:t,config:i,trackingManager:e,flagshipInstanceId:s}){this._config=i,this._httpClient=t,this._trackingManager=e,this._flagshipInstanceId=s||\"\"}updateFlagshipStatus(t){\"function\"==typeof this._statusChangedCallback&&this._statusChangedCallback&&this._statusChangedCallback(t)}getModifications(t){const i=new Map;return t.forEach((t=>{const e=t.variation.modifications.value;for(const s in e){const a=e[s];i.set(s,{key:s,campaignId:t.id,campaignName:t.name||\"\",variationGroupId:t.variationGroupId,variationGroupName:t.variationGroupName||\"\",variationId:t.variation.id,variationName:t.variation.name||\"\",isReference:!!t.variation.reference,campaignType:t.type,slug:t.slug,value:a})}})),i}isPanic(){return this._panic}handleTroubleshootingError(t){const{error:i,visitor:e,requestBody:a,headers:o,url:n,now:r}=t,h=new _i({label:di.GET_CAMPAIGNS_ROUTE_RESPONSE_ERROR,logLevel:s.ERROR,visitorId:e.visitorId,flagshipInstanceId:this.flagshipInstanceId,anonymousId:e.anonymousId,visitorSessionId:e.instanceId,traffic:100,config:this.config,visitorContext:e.context,httpRequestBody:a,httpRequestHeaders:o,httpRequestMethod:\"POST\",httpRequestUrl:n,httpResponseBody:i?.message,httpResponseHeaders:i?.headers,httpResponseCode:i?.statusCode,httpResponseTime:Date.now()-r});this.trackingManager?.addTroubleshootingHit(h);const c=ii(i.message||i,{url:n,headers:o,body:a,duration:Date.now()-r});throw new Error(c)}async getDecisionApiCampaignsAsync(t){const i={[st]:`${this.config.apiKey}`,[ot]:o.name,[nt]:o.version,[at]:rt},e={visitorId:t.visitorId,anonymousId:t.anonymousId,trigger_hit:!1,context:t.context,visitor_consent:t.hasConsented},s=`${this.config.decisionApiUrl||r}${this.config.envId}/campaigns?exposeAllKeys=true&extras[]=accountSettings`,a=Date.now();try{const t=await this._httpClient.postAsync(s,{headers:i,timeout:this.config.timeout,body:e,nextFetchConfig:this.config.nextFetchConfig});this.panic=!!t?.body?.panic;let a=null;t?.body?.campaigns&&(a=t.body.campaigns);const o=t?.body?.extras?.accountSettings?.troubleshooting;return o&&(this.troubleshooting={startDate:new Date(o.startDate),endDate:new Date(o.endDate),timezone:o.timezone,traffic:o.traffic}),a}catch(o){this.handleTroubleshootingError({error:o,visitor:t,requestBody:e,headers:i,url:s,now:a})}}}class mi extends vi{async getCampaignsAsync(t){return this.getDecisionApiCampaignsAsync(t)}}class Ci extends Ii{_context;get context(){return this._context}set context(t){this._context=t}constructor(t){super({type:\"SEGMENT\",userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode,isActionTrackingHit:t.isActionTrackingHit}),this.context=t.context}isReady(t=!0){return!(t&&!super.isReady()||!this.context)}toApiKeys(){const t=super.toApiKeys();return t.s=this.context,t}toObject(){return{...super.toObject(),context:this.context}}getErrorMessage(){return\"data property is required\"}}var Ti;!function(t){t.ACTION_TRACKING=\"Action Tracking\",t.USER_ENGAGEMENT=\"User Engagement\"}(Ti||(Ti={}));class yi extends Ii{_category;_action;_label;_value;get category(){return this._category}set category(t){Object.values(Ti).includes(t)?this._category=t:Qt(this.config,\"The category value must be either EventCategory::ACTION_TRACKING or EventCategory::ACTION_TRACKING\",\"category\")}get action(){return this._action}set action(t){this.isNotEmptyString(t,\"action\")&&(this._action=t)}get label(){return this._label}set label(t){this.isNotEmptyString(t,\"label\")&&(this._label=t)}get value(){return this._value}set value(t){!Number.isInteger(t)||t<0?Qt(this.config,\"value must be an integer and be >= 0\",\"value\"):this._value=t}constructor(t){super({type:Vt.EVENT,userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode,isActionTrackingHit:t.isActionTrackingHit});const{category:i,action:e,label:s,value:a}=t;this.category=i,this.action=e,s&&(this.label=s),a&&(this.value=a)}toApiKeys(){const t=super.toApiKeys();return t.ec=this.category,t.ea=this.action,this.label&&(t.el=this.label),this.value&&(t.ev=this.value),t}toObject(){return{...super.toObject(),category:this.category,action:this.action,label:this.label,value:this.value}}isReady(t=!0){return!(t&&!super.isReady()||!this.category||!this.action)}getErrorMessage(){return\"event category and event action are required\"}}class Ei extends Ii{_documentLocation;get documentLocation(){return this._documentLocation}set documentLocation(t){this.isNotEmptyString(t,\"documentLocation\")&&(this._documentLocation=t)}constructor(t){super({type:Vt.SCREEN_VIEW,userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode,isActionTrackingHit:t.isActionTrackingHit}),this.documentLocation=t.documentLocation}isReady(t=!0){return!(t&&!super.isReady()||!this.documentLocation)}toApiKeys(){const t=super.toApiKeys();return t.dl=this.documentLocation,t}toObject(){return{...super.toObject(),documentLocation:this.documentLocation}}getErrorMessage(){return\"Screen name is required\"}}class Ai{_hits;_config;get hits(){return this._hits}get config(){return this._config}constructor(t,i){this._config=i,this._hits=t}toApiKeys(){return{[$]:`${this.config?.envId}`,[Q]:this.hits.map((t=>{const i=t.toApiKeys();return delete i[$],i}))}}}class Si extends Ii{_variationGroupId;_variationId;_flagKey;_flagValue;_flagDefaultValue;_flagMetadata;_visitorContext;constructor(t){super({type:\"ACTIVATE\",userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode});const{variationGroupId:i,variationId:e,flagKey:s,flagValue:a,flagDefaultValue:o,flagMetadata:n,visitorContext:r}=t;this.variationGroupId=i,this.variationId=e,this.flagKey=s,this.flagValue=a,this.flagDefaultValue=o,this.flagMetadata=n,this.visitorContext=r}get variationGroupId(){return this._variationGroupId}set variationGroupId(t){this._variationGroupId=t}get variationId(){return this._variationId}set variationId(t){this._variationId=t}get flagKey(){return this._flagKey}set flagKey(t){this._flagKey=t}get flagValue(){return this._flagValue}set flagValue(t){this._flagValue=t}get flagDefaultValue(){return this._flagDefaultValue}set flagDefaultValue(t){this._flagDefaultValue=t}get flagMetadata(){return this._flagMetadata}set flagMetadata(t){this._flagMetadata=t}get visitorContext(){return this._visitorContext}set visitorContext(t){this._visitorContext=t}isReady(t=!0){return!(t&&!super.isReady()||!this.variationGroupId||!this.variationId)}toApiKeys(){const t={[J]:this.anonymousId||this.visitorId,[Z]:this.variationId,[Y]:this.variationGroupId,[z]:this.config.envId,[j]:null,[it]:Date.now()-this.createdAt};return this.visitorId&&this.anonymousId&&(t[J]=this.visitorId,t.aid=this.anonymousId),this.qaMode&&(t.qa=this.qaMode),t}toObject(){return{...super.toObject(),variationGroupId:this.variationGroupId,variationId:this.variationId}}getErrorMessage(){return\"variationGroupId and variationId are required\"}}class ki extends Ii{_hits;get hits(){return this._hits}set hits(t){this._hits=t}constructor(t){super({...t,visitorId:\"\",anonymousId:\"\",type:\"BATCH\"}),this.hits=t.hits}isReady(){return!!(super.isReady()&&this.hits&&this.hits.length>0&&this.hits.every((t=>t.isReady(!1))))}toApiKeys(){const t={[X]:this.ds,[$]:`${this.config?.envId}`,[tt]:this.type,[it]:Date.now()-this.createdAt};return t.h=this.hits.map((t=>{const i=t.toApiKeys();return delete i[X],delete i[$],i})),t}getErrorMessage(){return\"Please check required fields\"}}class Ri{_config;_hitsPoolQueue;_activatePoolQueue;_httpClient;_troubleshootingQueue;_usageHitQueue;_flagshipInstanceId;_isUsageHitQueueSending;_isTroubleshootingQueueSending;_HitsToFsQa;_sendFsHitToQATimeoutId;_troubleshootingData;_initTroubleshootingHit;_hasInitTroubleshootingHitSent;_sharedActionTracking;get flagshipInstanceId(){return this._flagshipInstanceId}get troubleshootingData(){return this._troubleshootingData}set troubleshootingData(t){this._troubleshootingData=t}get config(){return this._config}get initTroubleshootingHit(){return this._initTroubleshootingHit}set initTroubleshootingHit(t){this._initTroubleshootingHit=t}constructor(t){const{config:i,hitsPoolQueue:e,httpClient:s,activatePoolQueue:a,troubleshootingQueue:o,flagshipInstanceId:n,analyticHitQueue:r,initTroubleshootingHit:h,sharedActionTracking:c}=t;this._HitsToFsQa=[],this._hasInitTroubleshootingHitSent=!1,this._config=i,this._hitsPoolQueue=e,this._httpClient=s,this._activatePoolQueue=a,this._troubleshootingQueue=o,this._flagshipInstanceId=n,this._usageHitQueue=r,this._isUsageHitQueueSending=!1,this._isTroubleshootingQueueSending=!1,this._initTroubleshootingHit=h,this._sharedActionTracking=c}dispatchHitsToTag(t){{if(!Zt())return;const i=[];for(const e of t)if(e.type===Vt.EVENT&&e.category===Ti.ACTION_TRACKING&&!e.isActionTrackingHit){const t=e;i.push({visitorId:t.visitorId,createdAt:t.createdAt,anonymousId:t.anonymousId,data:{ec:t.category,ea:t.action,el:t.label,ev:t.value}})}i.length&&this._sharedActionTracking?.dispatchEventHits(i)}}sendHitsToFsQa(t){Zt()&&this.config.isQAModeEnabled&&__webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_flagship_io_js-sdk_dist_chunks_browser_esm_DapSjH90_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./DapSjH90.js */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/DapSjH90.js\")).then((function(t){return t.i})).then((i=>{this._HitsToFsQa.push(...t);this._HitsToFsQa.length>=10&&(i.sendFsHitToQA(this._HitsToFsQa.map((t=>t.toApiKeys()))),this._HitsToFsQa=[]),this._sendFsHitToQATimeoutId&&clearTimeout(this._sendFsHitToQATimeoutId),this._HitsToFsQa.length&&(this._sendFsHitToQATimeoutId=setTimeout((()=>{i.sendFsHitToQA(this._HitsToFsQa.map((t=>t.toApiKeys()))),this._HitsToFsQa=[]}),3e3))}))}async addHit(t){const i=`${t.visitorId}:${ti()}`;t.key=i,await this.addHitInPoolQueue(t),t.type===Vt.EVENT&&t.action===E&&t.label===`${o.name}:false`&&await this.notConsent(t.visitorId),Jt(this.config,Rt,\"The HIT has been added into the pool queue : {0}\",t.toApiKeys()),this.config.trackingManagerConfig?.poolMaxSize&&this._hitsPoolQueue.size>=this.config.trackingManagerConfig.poolMaxSize&&this.config.decisionMode!==Ut.BUCKETING_EDGE&&this.sendBatch()}async activateFlag(t){const i=new Si(t);i.config=this.config;const e=`${i.visitorId}:${ti()}`;if(i.key=e,this.config.decisionMode===Ut.BUCKETING_EDGE)return await this.activateFlagEdgeMode(i),void Yt(this.config,qt(\"The ACTIVATE has been added to the pool queue : {0}\",JSON.stringify(i.toApiKeys())),\"ADD ACTIVATE\");let s=[];this._activatePoolQueue.size&&(s=Array.from(this._activatePoolQueue.values())),this._activatePoolQueue.clear(),await this.sendActivate({activateHitsPool:s,currentActivate:i,batchTriggeredBy:fi.ActivateLength})}async activateFlagEdgeMode(t){this._activatePoolQueue.set(t.key,t),await this.cacheHit(new Map([[t.key,t]]))}onVisitorExposed(t){const i=this.config.onVisitorExposed;if(\"function\"!=typeof i)return;const e={key:t.flagKey,value:t.flagValue,defaultValue:t.flagDefaultValue,metadata:t.flagMetadata};i({exposedVisitor:{id:t.visitorId,anonymousId:t.anonymousId,context:t.visitorContext},fromFlag:e})}async sendBatch(t=fi.BatchLength){if(this._activatePoolQueue.size){const i=Array.from(this._activatePoolQueue.values());this._activatePoolQueue.clear(),await this.sendActivate({activateHitsPool:i,batchTriggeredBy:t})}const i=new ki({hits:[],ds:et});i.config=this.config;const e=[];for(const[t,s]of this._hitsPoolQueue){if(Date.now()-s.createdAt>=w){e.push(t);continue}if(JSON.stringify(i).length>n)break;i.hits.push(s),e.push(t)}if(e.forEach((t=>{this._hitsPoolQueue.delete(t)})),!i.hits.length)return;const a={[at]:rt},o=i.toApiKeys(),r=Date.now();try{await this._httpClient.postAsync(h,{headers:a,body:o,timeout:this.config.timeout,nextFetchConfig:this.config.nextFetchConfig}),Jt(this.config,Rt,Dt,Ot,{url:h,body:o,headers:a,nextFetchConfig:this.config.nextFetchConfig,duration:Date.now()-r,batchTriggeredBy:fi[t]}),await this.flushHits(e),this.sendHitsToFsQa(i.hits),this.dispatchHitsToTag(i.hits)}catch(e){i.hits.forEach((t=>{this._hitsPoolQueue.set(t.key,t)})),Kt(this.config,Rt,Nt,Ot,{httpRequestBody:o,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:h,httpResponseBody:e?.message,httpResponseHeaders:e?.headers,httpResponseCode:e?.statusCode,duration:Date.now()-r,batchTriggeredBy:fi[t]});const n=new _i({label:di.SEND_BATCH_HIT_ROUTE_RESPONSE_ERROR,logLevel:s.ERROR,visitorId:`${this._flagshipInstanceId}`,flagshipInstanceId:this._flagshipInstanceId,traffic:0,config:this.config,httpRequestBody:i.hits,httpRequestHeaders:a,httpResponseBody:e?.message,httpResponseHeaders:e?.headers,httpResponseMethod:\"POST\",httpResponseUrl:h,httpResponseCode:e?.statusCode,httpResponseTime:Date.now()-r,batchTriggeredBy:t});this.sendTroubleshootingHit(n)}}async notConsent(t){const i=Array.from(this._hitsPoolQueue).filter((([,i])=>!(i?.type===Vt.EVENT&&i?.action===E||i.visitorId!==t&&i.anonymousId!==t))),e=Array.from(this._activatePoolQueue).filter((([,i])=>i.visitorId===t||i.anonymousId===t)),s=[];i.forEach((([t])=>{this._hitsPoolQueue.delete(t),s.push(t)})),e.forEach((([t])=>{this._activatePoolQueue.delete(t),s.push(t)})),s.length&&await this.flushHits(s)}async cacheHit(t){try{const i=this.config.hitCacheImplementation;if(this.config.disableCache||!i||\"function\"!=typeof i.cacheHit)return;const e={};t.forEach(((t,i)=>{const s={version:1,data:{visitorId:t.visitorId,anonymousId:t.anonymousId,type:t.type,content:t.toObject(),time:Date.now()}};e[i]=s})),await i.cacheHit(e),Jt(this.config,\"CACHE HIT\",\"Hit cache has been saved into database : {0}\",e)}catch(t){Kt(this.config,At,kt,\"cacheHit\",t.message||t)}}async flushHits(t){try{const i=this.config.hitCacheImplementation;if(this.config.disableCache||!i||\"function\"!=typeof i.flushHits)return;await i.flushHits(t),Jt(this.config,At,\"The following hit keys have been flushed from database : {0}\",t)}catch(t){Kt(this.config,At,kt,\"flushHits\",t.message||t)}}async flushAllHits(){try{const t=this.config.hitCacheImplementation;if(this.config.disableCache||!t||\"function\"!=typeof t.flushAllHits)return;await t.flushAllHits(),Yt(this.config,\"All hits cache has been flushed from database\",\"FLUSH HIT\")}catch(t){Kt(this.config,At,kt,\"flushAllHits\",t.message||t)}}isTroubleshootingActivated(){if(!this.troubleshootingData)return!1;const t=new Date;if(!(t>=this.troubleshootingData.startDate))return!1;return!(t>this.troubleshootingData.endDate)||(this._hasInitTroubleshootingHitSent=!1,!1)}async addTroubleshootingHit(t){if(!t.key){const i=`${t.visitorId}:${ti()}`;t.key=i}this._troubleshootingQueue.set(t.key,t),Yt(this.config,qt(\"The TROUBLESHOOTING HIT has been added to the pool queue : {0}\",JSON.stringify(t.toApiKeys())),\"ADD TROUBLESHOOTING HIT\")}async sendTroubleshootingHit(t){if(!this.isTroubleshootingActivated()||void 0===t.traffic||this.troubleshootingData.traffic<t.traffic)return;const i=t.toApiKeys(),e=Date.now();try{await this._httpClient.postAsync(c,{body:i}),Yt(this.config,qt(\"Troubleshooting hit has been sent : {0}\",JSON.stringify({...i,duration:Date.now()-e})),\"SEND TROUBLESHOOTING\"),t.key&&(this._troubleshootingQueue.delete(t.key),await this.flushHits([t.key]))}catch(s){this.isTroubleshootingActivated()&&await this.addTroubleshootingHit(t),Qt(this.config,ii(s.message||s,{url:c,headers:{},body:i,duration:Date.now()-e}),P)}}async sendInitTroubleshootingHit(){this.isTroubleshootingActivated()&&this._initTroubleshootingHit&&!this._hasInitTroubleshootingHitSent&&(await this.sendTroubleshootingHit(this._initTroubleshootingHit),this._hasInitTroubleshootingHitSent=!0)}async sendTroubleshootingQueue(){if(await this.sendInitTroubleshootingHit(),this.isTroubleshootingActivated()&&!this._isTroubleshootingQueueSending&&0!==this._troubleshootingQueue.size){this._isTroubleshootingQueueSending=!0;for(const[t,i]of Array.from(this._troubleshootingQueue))await this.sendTroubleshootingHit(i);this._isTroubleshootingQueueSending=!1}}async addUsageHit(t){if(!t.key){const i=`${t.visitorId}:${ti()}`;t.key=i}this._usageHitQueue.set(t.key,t),Yt(this.config,qt(\"The USAGE HIT has been added to the pool queue : {0}\",JSON.stringify(t.toApiKeys())),\"ADD USAGE HIT\")}async sendUsageHit(t){const i=t.toApiKeys(),e=Date.now();try{await this._httpClient.postAsync(g,{body:i}),Yt(this.config,qt(\"Usage hit has been sent : {0}\",JSON.stringify({...i,duration:Date.now()-e})),\"SEND USAGE HIT\"),t.key&&(this._usageHitQueue.delete(t.key),await this.flushHits([t.key]))}catch(s){await this.addUsageHit(t),Qt(this.config,ii(s.message||s,{url:g,headers:{},body:i,duration:Date.now()-e}),P)}}async sendUsageHitQueue(){if(!this._isUsageHitQueueSending&&0!==this._usageHitQueue.size){this._isUsageHitQueueSending=!0;for(const[,t]of Array.from(this._usageHitQueue))await this.sendUsageHit(t);this._isUsageHitQueueSending=!1}}}class Ni extends Ri{async addHitInPoolQueue(t){this._hitsPoolQueue.set(t.key,t),await this.cacheHit(new Map([[t.key,t]]))}async sendActivateHitBatch(t,i,e){const a={[st]:this.config.apiKey,[ot]:o.name,[nt]:o.version,[at]:rt};e&&t.hits.push(e);const n=t.toApiKeys(),h=r+d,c=Date.now();try{await this._httpClient.postAsync(h,{headers:a,body:n,timeout:this.config.timeout,nextFetchConfig:this.config.nextFetchConfig}),Jt(this.config,Rt,Dt,bt,{httpRequestBody:n,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:h,duration:Date.now()-c,batchTriggeredBy:fi[i]});const s=t.hits.filter((t=>t.key!==e?.key)).map((t=>t.key));t.hits.forEach((t=>{this.onVisitorExposed(t)})),s.length&&await this.flushHits(s),this.sendHitsToFsQa(t.hits)}catch(o){t.hits.forEach((t=>{this._activatePoolQueue.set(t.key,t)})),e&&await this.cacheHit(new Map([[e.key,e]])),Kt(this.config,Rt,Nt,bt,{httpRequestBody:n,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:h,httpResponseBody:o?.message,httpResponseHeaders:o?.headers,httpResponseCode:o?.statusCode,duration:Date.now()-c,batchTriggeredBy:fi[i]});const r=new _i({label:di.SEND_ACTIVATE_HIT_ROUTE_ERROR,logLevel:s.ERROR,visitorId:`${this._flagshipInstanceId}`,traffic:0,config:this.config,httpRequestBody:n,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:h,httpResponseBody:o?.message,httpResponseHeaders:o?.headers,httpResponseCode:o?.statusCode,httpResponseTime:Date.now()-c,batchTriggeredBy:i});this.sendTroubleshootingHit(r)}}async sendActivate({activateHitsPool:t,currentActivate:i,batchTriggeredBy:e}){const s=Array.from(t.filter((t=>Date.now()-t.createdAt<w)));if(s.length||!i)for(let t=0;t<s.length;t+=100){const a=new Ai(s.slice(t,t+100),this.config);this.sendActivateHitBatch(a,e,0===t?i:void 0)}else{const t=new Ai([],this.config);await this.sendActivateHitBatch(t,e,i)}}}class Di extends Ri{async addHitInPoolQueue(t){this._hitsPoolQueue.set(t.key,t)}async sendActivate({activateHitsPool:t,currentActivate:i,batchTriggeredBy:e}){const a={[st]:this.config.apiKey,[ot]:o.name,[nt]:o.version,[at]:rt},n=new Ai(Array.from(t.filter((t=>Date.now()-t.createdAt<w))),this.config);i&&n.hits.push(i);const h=n.toApiKeys(),c=r+d,g=Date.now();try{await this._httpClient.postAsync(c,{headers:a,body:h,timeout:this.config.timeout,nextFetchConfig:this.config.nextFetchConfig}),Jt(this.config,Rt,Dt,bt,{httpRequestBody:h,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:c,duration:Date.now()-g,batchTriggeredBy:fi[e]}),n.hits.forEach((t=>{this.onVisitorExposed(t)})),this.sendHitsToFsQa(n.hits)}catch(t){n.hits.forEach((t=>{this._activatePoolQueue.set(t.key,t)})),Kt(this.config,Rt,Nt,bt,{httpRequestBody:h,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:c,httpResponseBody:t?.message,httpResponseHeaders:t?.headers,httpResponseCode:t?.statusCode,duration:Date.now()-g,batchTriggeredBy:fi[e]});const i=new _i({label:di.SEND_ACTIVATE_HIT_ROUTE_ERROR,logLevel:s.ERROR,visitorId:`${this._flagshipInstanceId}`,traffic:0,config:this.config,httpRequestBody:h,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:c,httpResponseBody:t?.message,httpResponseHeaders:t?.headers,httpResponseCode:t?.statusCode,httpResponseTime:Date.now()-g,batchTriggeredBy:e});this.sendTroubleshootingHit(i)}}async sendBatch(t=fi.BatchLength){let i=!1;if(this._activatePoolQueue.size){const e=Array.from(this._activatePoolQueue.values());this._activatePoolQueue.clear(),await this.sendActivate({activateHitsPool:e,batchTriggeredBy:t}),i=!0}const e={[at]:rt},a=new ki({hits:[]});a.config=this.config;let o=0;const r=[];for(const[t,i]of this._hitsPoolQueue)if(Date.now()-i.createdAt>=w)r.push(t);else{if(o=JSON.stringify(a).length,o>n)break;a.hits.push(i),r.push(t)}if(r.forEach((t=>{this._hitsPoolQueue.delete(t)})),!a.hits.length)return void(i&&await this.cacheHit(this._activatePoolQueue));const c=a.toApiKeys(),g=Date.now();try{await this._httpClient.postAsync(h,{headers:e,body:c,timeout:this.config.timeout,nextFetchConfig:this.config.nextFetchConfig}),Jt(this.config,Rt,Dt,Ot,{httpRequestBody:c,httpRequestHeaders:e,httpRequestMethod:\"POST\",httpRequestUrl:h,duration:Date.now()-g,batchTriggeredBy:fi[t]}),this.sendHitsToFsQa(a.hits),this.dispatchHitsToTag(a.hits)}catch(i){a.hits.forEach((t=>{this._hitsPoolQueue.set(t.key,t)})),Kt(this.config,Rt,Nt,Ot,{httpRequestBody:c,httpRequestHeaders:e,httpRequestMethod:\"POST\",httpRequestUrl:h,httpResponseBody:i?.message,httpResponseHeaders:i?.headers,httpResponseCode:i?.statusCode,duration:Date.now()-g,batchTriggeredBy:fi[t]});const o=new _i({label:di.SEND_BATCH_HIT_ROUTE_RESPONSE_ERROR,logLevel:s.ERROR,visitorId:`${this._flagshipInstanceId}`,traffic:0,config:this.config,httpRequestBody:c,httpRequestHeaders:e,httpResponseBody:i?.message,httpResponseHeaders:i?.headers,httpResponseMethod:\"POST\",httpResponseUrl:h,httpResponseCode:i?.statusCode,httpResponseTime:Date.now()-g});this.addTroubleshootingHit(o)}const d=new Map([...this._hitsPoolQueue,...this._activatePoolQueue]);await this.flushAllHits(),await this.cacheHit(d)}}class bi extends Ri{cacheHitKeys;constructor(t){super(t),this.cacheHitKeys={}}async activateFlag(t){const i=`${t.visitorId}:${ti()}`;t.key=i,await this.sendActivate({activateHitsPool:[],currentActivate:t,batchTriggeredBy:fi.ActivateLength})}async addHit(t){const i=`${t.visitorId}:${ti()}`;t.key=i,t.type===Vt.EVENT&&t.action===E&&t.label===`${o.name}:false`&&await this.notConsent(t.visitorId),await this.sendHit(t)}addHitInPoolQueue(t){return Promise.resolve()}async sendHit(t){const i={[at]:rt},e=t.toApiKeys(),a=Date.now();try{await this._httpClient.postAsync(h,{headers:i,body:e,timeout:this.config.timeout,nextFetchConfig:this.config.nextFetchConfig}),Jt(this.config,Rt,Dt,\"HIT\",{httpRequestBody:e,httpRequestHeaders:i,httpRequestMethod:\"POST\",httpRequestUrl:h,duration:Date.now()-a,batchTriggeredBy:fi[fi.DirectHit]}),this.sendHitsToFsQa([t]),this.dispatchHitsToTag([t])}catch(o){t.type===Vt.EVENT&&t.action===E||(this.cacheHitKeys[t.key]=t.visitorId),await this.cacheHit((new Map).set(t.key,t)),Kt(this.config,Rt,Nt,\"HIT\",{httpRequestBody:e,httpRequestHeaders:i,httpRequestMethod:\"POST\",httpRequestUrl:h,httpResponseBody:o?.message,httpResponseHeaders:o?.headers,httpResponseCode:o?.statusCode,duration:Date.now()-a,batchTriggeredBy:fi[fi.DirectHit]});const n=new _i({label:di.SEND_HIT_ROUTE_ERROR,logLevel:s.ERROR,visitorId:`${this._flagshipInstanceId}`,traffic:0,config:this.config,httpRequestBody:e,httpRequestHeaders:i,httpRequestMethod:\"POST\",httpRequestUrl:h,httpResponseBody:o?.message,httpResponseHeaders:o?.headers,httpResponseCode:o?.statusCode,httpResponseTime:Date.now()-a,batchTriggeredBy:fi.DirectHit});this.sendTroubleshootingHit(n)}}async notConsent(t){const i=Object.entries(this.cacheHitKeys).filter((([i,e])=>e===t)),e=[];for(const[t]of i)e.push(t);const s=Array.from(this._hitsPoolQueue).filter((([i,e])=>!(e?.type===Vt.EVENT&&e?.action===E||e.visitorId!==t&&e.anonymousId!==t))),a=Array.from(this._activatePoolQueue).filter((([i,e])=>e.visitorId===t||e.anonymousId===t)),o=[];s.forEach((([t])=>{this._hitsPoolQueue.delete(t),o.push(t)})),a.forEach((([t])=>{this._activatePoolQueue.delete(t),o.push(t)}));const n=[...e,...o];n.length&&(await this.flushHits(n),this.cacheHitKeys={})}async sendActivate({activateHitsPool:t,currentActivate:i,batchTriggeredBy:e}){const a={[st]:this.config.apiKey,[ot]:o.name,[nt]:o.version,[at]:rt},n=new Ai(Array.from(t.filter((t=>Date.now()-t.createdAt<w))),this.config);i&&n.hits.push(i);const h=n.toApiKeys(),c=r+d,g=Date.now();try{await this._httpClient.postAsync(c,{headers:a,body:h,timeout:this.config.timeout,nextFetchConfig:this.config.nextFetchConfig}),Jt(this.config,Rt,Dt,bt,{httpRequestBody:h,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:c,duration:Date.now()-g,batchTriggeredBy:fi[e]});const i=t.map((t=>t.key));n.hits.forEach((t=>{this.onVisitorExposed(t)})),i.length&&await this.flushHits(i),this.sendHitsToFsQa(n.hits)}catch(t){n.hits.forEach((t=>{this.cacheHitKeys[t.key]=t.visitorId})),i&&await this.cacheHit(new Map([[i.key,i]])),Kt(this.config,Rt,Nt,bt,{httpRequestBody:h,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:c,httpResponseBody:t?.message,httpResponseHeaders:t?.headers,httpResponseCode:t?.statusCode,duration:Date.now()-g,batchTriggeredBy:fi[e]});const o=new _i({label:di.SEND_ACTIVATE_HIT_ROUTE_ERROR,logLevel:s.ERROR,visitorId:`${this._flagshipInstanceId}`,traffic:0,config:this.config,httpRequestBody:h,httpRequestHeaders:a,httpRequestMethod:\"POST\",httpRequestUrl:c,httpResponseBody:t?.message,httpResponseHeaders:t?.headers,httpResponseMethod:\"POST\",httpResponseUrl:c,httpResponseCode:t?.statusCode,httpResponseTime:Date.now()-g,batchTriggeredBy:e});this.sendTroubleshootingHit(o)}}}class Oi extends Ii{_transactionId;_productName;_productSku;_itemPrice;_itemQuantity;_itemCategory;get transactionId(){return this._transactionId}set transactionId(t){this.isNotEmptyString(t,\"transactionId\")&&(this._transactionId=t)}get productName(){return this._productName}set productName(t){this.isNotEmptyString(t,\"productName\")&&(this._productName=t)}get productSku(){return this._productSku}set productSku(t){this.isNotEmptyString(t,\"productSku\")&&(this._productSku=t)}get itemPrice(){return this._itemPrice}set itemPrice(t){this.isNumeric(t,\"itemPrice\")&&(this._itemPrice=t)}get itemQuantity(){return this._itemQuantity}set itemQuantity(t){this.isInteger(t,\"itemQuantity\")&&(this._itemQuantity=Math.trunc(t))}get itemCategory(){return this._itemCategory}set itemCategory(t){this.isNotEmptyString(t,\"itemCategory\")&&(this._itemCategory=t)}constructor(t){super({type:Vt.ITEM,userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode,isActionTrackingHit:t.isActionTrackingHit});const{transactionId:i,productName:e,productSku:s,itemCategory:a,itemPrice:o,itemQuantity:n}=t;this.transactionId=i,this.productName=e,this.productSku=s,a&&(this.itemCategory=a),o&&(this.itemPrice=o),n&&(this.itemQuantity=n)}isReady(t=!0){return!(t&&!super.isReady()||!this.transactionId||!this.productName||!this.productSku)}toApiKeys(){const t=super.toApiKeys();return t.tid=this.transactionId,t.in=this.productName,t.ic=this.productSku,this.itemPrice&&(t.ip=this.itemPrice),this.itemQuantity&&(t.iq=this.itemQuantity),this.itemCategory&&(t.iv=this.itemCategory),t}toObject(){return{...super.toObject(),transactionId:this.transactionId,productName:this.productName,productSku:this.productSku,itemPrice:this.itemPrice,itemQuantity:this.itemQuantity,itemCategory:this.itemCategory}}getErrorMessage(){return\"Transaction Id, Item name and item code are required\"}}class wi extends Ii{_documentLocation;get documentLocation(){return this._documentLocation}set documentLocation(t){this.isNotEmptyString(t,\"documentLocation\")&&(this._documentLocation=t)}constructor(t){super({type:Vt.PAGE_VIEW,userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode,isActionTrackingHit:t.isActionTrackingHit}),this.documentLocation=t.documentLocation}isReady(t=!0){return!(t&&!super.isReady()||!this.documentLocation)}toApiKeys(){const t=super.toApiKeys();return t.dl=this.documentLocation,t}toObject(){return{...super.toObject(),documentLocation:this.documentLocation}}getErrorMessage(){return\"documentLocation url is required\"}}class Mi extends Ii{_transactionId;_affiliation;_taxes;_currency;_couponCode;_itemCount;_shippingMethod;_paymentMethod;_totalRevenue;_shippingCosts;get transactionId(){return this._transactionId}set transactionId(t){this.isNotEmptyString(t,\"transactionId\")&&(this._transactionId=t)}get affiliation(){return this._affiliation}set affiliation(t){this.isNotEmptyString(t,\"affiliation\")&&(this._affiliation=t)}get taxes(){return this._taxes}set taxes(t){this.isNumeric(t,\"taxes\")&&(this._taxes=t)}get currency(){return this._currency}set currency(t){t&&\"string\"==typeof t&&3===t.length?this._currency=t:Qt(this.config,qt(\"{0} must be a string and have exactly 3 letters\",\"currency\"),\"currency\")}get couponCode(){return this._couponCode}set couponCode(t){this.isNotEmptyString(t,\"couponCode\")&&(this._couponCode=t)}get itemCount(){return this._itemCount}set itemCount(t){this.isInteger(t,\"itemCount\")&&(this._itemCount=Math.trunc(t))}get shippingMethod(){return this._shippingMethod}set shippingMethod(t){this.isNotEmptyString(t,\"shippingMethod\")&&(this._shippingMethod=t)}get paymentMethod(){return this._paymentMethod}set paymentMethod(t){this.isNotEmptyString(t,\"paymentMethod\")&&(this._paymentMethod=t)}get totalRevenue(){return this._totalRevenue}set totalRevenue(t){this.isNumeric(t,\"totalRevenue\")&&(this._totalRevenue=t)}get shippingCosts(){return this._shippingCosts}set shippingCosts(t){this.isNumeric(t,\"shippingCosts\")&&(this._shippingCosts=t)}constructor(t){super({type:Vt.TRANSACTION,userIp:t.userIp,screenResolution:t.screenResolution,locale:t.locale,sessionNumber:t.sessionNumber,visitorId:t.visitorId,anonymousId:t.anonymousId,qaMode:t.qaMode,isActionTrackingHit:t.isActionTrackingHit});const{transactionId:i,affiliation:e,taxes:s,currency:a,couponCode:o,itemCount:n,shippingMethod:r,paymentMethod:h,totalRevenue:c,shippingCosts:g}=t;this.transactionId=i,this.affiliation=e,s&&(this.taxes=s),a&&(this.currency=a),o&&(this.couponCode=o),n&&(this.itemCount=n),r&&(this.shippingMethod=r),h&&(this.paymentMethod=h),c&&(this.totalRevenue=c),g&&(this.shippingCosts=g)}isReady(t=!0){return!(t&&!super.isReady()||!this.transactionId||!this.affiliation)}toApiKeys(){const t=super.toApiKeys();return t.tid=this.transactionId,t.ta=this.affiliation,this.taxes&&(t.tt=this.taxes),this.currency&&(t.tc=this.currency),this.couponCode&&(t.tcc=this.couponCode),this.itemCount&&(t.icn=this.itemCount),this.shippingMethod&&(t.sm=this.shippingMethod),this.paymentMethod&&(t.pm=this.paymentMethod),this.totalRevenue&&(t.tr=this.totalRevenue),this.shippingCosts&&(t.ts=this.shippingCosts),t}toObject(){return{...super.toObject(),transactionId:this.transactionId,affiliation:this.affiliation,taxes:this.taxes,currency:this.currency,couponCode:this.couponCode,itemCount:this.itemCount,shippingMethod:this.shippingMethod,paymentMethod:this.paymentMethod,totalRevenue:this.totalRevenue,shippingCosts:this.shippingCosts}}getErrorMessage(){return\"Transaction Id and Transaction affiliation are required\"}}class Hi{_httpClient;_config;_hitsPoolQueue;_activatePoolQueue;_troubleshootingQueue;_analyticHitQueue;strategy;_intervalID;_isPooling=!1;_flagshipInstanceId;_initTroubleshootingHit;_sharedActionTracking;get initTroubleshootingHit(){return this._initTroubleshootingHit}set initTroubleshootingHit(t){this._initTroubleshootingHit=t,this.strategy.initTroubleshootingHit=t}get flagshipInstanceId(){return this._flagshipInstanceId}get troubleshootingData(){return this.strategy.troubleshootingData}set troubleshootingData(t){this.strategy.troubleshootingData=t}constructor(t,i,e,s){this._flagshipInstanceId=e,this._hitsPoolQueue=new Map,this._activatePoolQueue=new Map,this._troubleshootingQueue=new Map,this._analyticHitQueue=new Map,this._httpClient=t,this._config=i,this._sharedActionTracking=s,this.strategy=this.initStrategy(),this.lookupHits()}initStrategy(){let t;const i={config:this.config,httpClient:this.httpClient,hitsPoolQueue:this._hitsPoolQueue,activatePoolQueue:this._activatePoolQueue,troubleshootingQueue:this._troubleshootingQueue,analyticHitQueue:this._analyticHitQueue,flagshipInstanceId:this.flagshipInstanceId,initTroubleshootingHit:this.initTroubleshootingHit,sharedActionTracking:this._sharedActionTracking};switch(this.config.trackingManagerConfig?.cacheStrategy){case Ft.PERIODIC_CACHING:t=new Di(i);break;case Ft.CONTINUOUS_CACHING:t=new Ni(i);break;default:t=new bi(i)}return t}get httpClient(){return this._httpClient}get config(){return this._config}async sendTroubleshootingHit(t){await this.strategy.sendTroubleshootingHit(t)}startBatchingLoop(){const t=1e3*this.config.trackingManagerConfig?.batchIntervals;Wt(this.config,Rt,\"The Batch Loop has been started with a time interval of {0} ms\",t),this._intervalID=setInterval((()=>{this.batchingLoop()}),t)}stopBatchingLoop(){clearInterval(this._intervalID),this._isPooling=!1,jt(this.config,\"The Batch Loop has been stopped\",Rt)}async batchingLoop(){this._isPooling||(this._isPooling=!0,await this.strategy.sendBatch(fi.Timer),await this.strategy.sendTroubleshootingQueue(),await this.strategy.sendUsageHitQueue(),this._isPooling=!1)}checkLookupHitData(t){return!(1!==t?.version||!t?.data?.type||!t?.data?.content)||(Qt(this.config,\"JSON DATA must fit the type HitCacheDTO\",\"LOOKUP HIT\"),!1)}async extractHitData(t,i){let e;switch(i.data.type){case Vt.EVENT:e=new yi(i.data.content);break;case Vt.ITEM:e=new Oi(i.data.content);break;case Vt.PAGE:e=new wi(i.data.content);break;case Vt.SCREEN:e=new Ei(i.data.content);break;case\"SEGMENT\":e=new Ci(i.data.content);break;case Vt.TRANSACTION:e=new Mi(i.data.content)}return e}async processCachedHits(t){const i=[],e=Object.entries(t);for(const[t,a]of e){if(!(this.checkLookupHitData(a)&&(s=a.data.time,Date.now()-s<=w))){i.push(t);continue}if(\"ACTIVATE\"===a.data.type){const i=new Si(a.data.content);i.key=t,i.createdAt=a.data.content.createdAt,i.config=this.config,this._activatePoolQueue.set(t,i);continue}const e=await this.extractHitData(t,a);e?(e.key=t,e.createdAt=a.data.content.createdAt,e.config=this.config,this._hitsPoolQueue.set(t,e)):i.push(t)}var s;i.length&&await this.strategy.flushHits(i)}async lookupHits(){try{const t=this.config.hitCacheImplementation;if(this.config.disableCache||!t||\"function\"!=typeof t.lookupHits)return;const i=await t.lookupHits();if(Jt(this.config,At,\"Hits cache has been loaded from database: {0}\",i),!i||!Object.keys(i).length)return;await this.processCachedHits(i)}catch(t){Kt(this.config,At,kt,\"lookupHits\",t.message||t)}}async sendUsageHit(t){await this.strategy.sendUsageHit(t)}async addTroubleshootingHit(t){await this.strategy.addTroubleshootingHit(t)}}class Vi extends Hi{async activateFlag(t){await this.strategy.activateFlag(t)}async addHit(t){await this.strategy.addHit(t)}async sendBatch(){await this.strategy.sendBatch(fi.Flush)}}class Fi{consoleError;consoleWarn;consoleDebug;constructor(){this.consoleError=console.error??console.log,this.consoleWarn=console.warn??console.log,this.consoleDebug=console.debug??console.log}emergency(t,i){this.consoleError(ni(s.EMERGENCY,t,i))}alert(t,i){this.consoleError(ni(s.ALERT,t,i))}critical(t,i){this.consoleError(ni(s.CRITICAL,t,i))}error(t,i){this.consoleError(ni(s.ERROR,t,i))}warning(t,i){this.consoleWarn(ni(s.WARNING,t,i))}notice(t,i){this.log(s.NOTICE,t,i)}info(t,i){console.info(ni(s.INFO,t,i))}debug(t,i){this.consoleDebug(ni(s.DEBUG,t,i))}log(t,i,e){console.log(ni(t,i,e))}}class xi extends pi{constructor(t){super({...t,type:\"USAGE\"})}}const Pi=\"FS_DEFAULT_HIT_CACHE\";class Li{cacheHit(t){const i=localStorage.getItem(Pi)||\"{}\",e={...JSON.parse(i),...t};return localStorage.setItem(Pi,JSON.stringify(e)),Promise.resolve()}lookupHits(){const t=localStorage.getItem(Pi)||\"{}\",i=JSON.parse(t);return Promise.resolve(i)}flushHits(t){const i=localStorage.getItem(Pi)||\"{}\",e=JSON.parse(i);return t.forEach((t=>{delete e[t]})),localStorage.setItem(Pi,JSON.stringify(e)),Promise.resolve()}flushAllHits(){return localStorage.removeItem(Pi),Promise.resolve()}}const Ui=\"FS_VISITOR_CACHE_\";class Gi{cacheVisitor(t,i){return localStorage.setItem(Ui+t,JSON.stringify(i)),Promise.resolve()}lookupVisitor(t){const i=localStorage.getItem(Ui+t);return Promise.resolve(i?JSON.parse(i):null)}flushVisitor(t){return localStorage.removeItem(Ui+t),Promise.resolve()}}const Bi=\"Visitor ID mismatch: {0} vs {1}\";class qi{visitor;get configManager(){return this.visitor.configManager}get trackingManager(){return this.configManager.trackingManager}get decisionManager(){return this.configManager.decisionManager}get config(){return this.visitor.config}_murmurHash;constructor(t){const{visitor:i,murmurHash:e}=t;this.visitor=i,this._murmurHash=e}collectEAIEventsAsync(t){return this.visitor.emotionAi.collectEAIEventsAsync(t)}reportEaiVisitorEvent(t){Promise.resolve().then((function(){return Fe})).then((({VisitorEvent:i})=>{this.visitor.emotionAi.reportVisitorEvent(new i(t))}))}reportEaiPageView(t){Promise.resolve().then((function(){return we})).then((({PageView:i})=>{this.visitor.emotionAi.reportPageView(new i(t))}))}onEAICollectStatusChange(t){this.visitor.emotionAi.onEAICollectStatusChange(t)}cleanup(){this.visitor.emotionAi.cleanup()}updateCampaigns(t){try{this.visitor.campaigns=t,this.visitor.flagsData=this.decisionManager.getModifications(t)}catch(t){Qt(this.config,t.message||t,\"updateCampaigns\")}}hasTrackingManager(t){const i=this.trackingManager;return i||Qt(this.config,qt(\"trackerManager must not be null.\"),t),!!i}setConsent(t){if(this.visitor.hasConsented=t,t||this.flushVisitor(),!this.hasTrackingManager(\"setConsent\"))return;const i=new yi({visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,label:`${o.name}:${this.visitor.hasConsented}`,action:E,category:Ti.USER_ENGAGEMENT});i.qaMode=this.config.isQAModeEnabled,i.ds=et,i.config=this.config,this.trackingManager.addHit(i);const e=new _i({label:di.VISITOR_SEND_HIT,logLevel:s.INFO,traffic:this.visitor.traffic||0,visitorId:this.visitor.visitorId,visitorSessionId:this.visitor.instanceId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,anonymousId:this.visitor.anonymousId,config:this.config,hitContent:i.toApiKeys()});this.decisionManager.troubleshooting?this.trackingManager.sendTroubleshootingHit(e):(this.visitor.consentHitTroubleshooting=e,Jt(this.config,\"SET_CONSENT\",\"Visitor `{0}` consent has been changed : {1}\",this.visitor.visitorId,t))}checKLookupVisitorDataV1(t){if(!t||!t.data||!t.data.visitorId)return!1;const i=t.data.campaigns;return!i||!!Array.isArray(i)&&(this.visitor.visitorCacheStatus!==li.VISITOR_ID_CACHE&&this.visitor.visitorCacheStatus!==li.VISITOR_ID_CACHE_WITH_ANONYMOUS_ID_CACHE||t.data.visitorId===this.visitor.visitorId?this.visitor.visitorCacheStatus===li.ANONYMOUS_ID_CACHE&&t.data.visitorId!==this.visitor.anonymousId?(Wt(this.config,At,Bi,t.data.visitorId,this.visitor.anonymousId),!1):i.every((t=>t.campaignId&&t.type&&t.variationGroupId&&t.variationId)):(Wt(this.config,At,Bi,t.data.visitorId,this.visitor.visitorId),!1))}checKLookupVisitorData(t){return 1===t.version&&this.checKLookupVisitorDataV1(t)}async tryLookupCache(t){const i=this.config.visitorCacheImplementation;return i&&\"function\"==typeof i.lookupVisitor?await i.lookupVisitor(t):null}processValidCache(t){return this.checKLookupVisitorData(t)?(this.visitor.visitorCache=t,!0):(Kt(this.config,At,Et,1,this.visitor.visitorId),!1)}async lookupVisitor(){try{if(this.config.disableCache||this.visitor.visitorCache)return;this.visitor.visitorCacheStatus=li.NONE;let t=await this.tryLookupCache(this.visitor.visitorId);if(t?this.visitor.visitorCacheStatus=li.VISITOR_ID_CACHE:this.visitor.anonymousId&&(t=await this.tryLookupCache(this.visitor.anonymousId),t&&(this.visitor.visitorCacheStatus=li.ANONYMOUS_ID_CACHE)),Jt(this.config,At,\"Visitor {0}, visitor cache has been loaded from database: {1}\",this.visitor.visitorId,t),!t||!this.processValidCache(t))return;if(this.visitor.visitorCacheStatus===li.VISITOR_ID_CACHE&&this.visitor.anonymousId){await this.tryLookupCache(this.visitor.anonymousId)&&(this.visitor.visitorCacheStatus=li.VISITOR_ID_CACHE_WITH_ANONYMOUS_ID_CACHE)}}catch(t){Kt(this.config,At,St,this.visitor.visitorId,\"lookupVisitor\",t.message||t)}}createVisitorCacheDTO(t,i){const e={},s={version:1,data:{visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,consent:this.visitor.hasConsented,context:this.visitor.context,eAIScore:this.visitor.visitorCache?.data?.eAIScore||t,isEAIDataCollected:this.visitor.visitorCache?.data?.isEAIDataCollected||i,campaigns:this.visitor.campaigns.map((t=>(e[t.variationGroupId]=t.variation.id,{campaignId:t.id,slug:t.slug,variationGroupId:t.variationGroupId,variationId:t.variation.id,isReference:t.variation.reference,type:t.variation.modifications.type,activated:!1,flags:t.variation.modifications.value})))}};return s.data.assignmentsHistory={...this.visitor.visitorCache?.data?.assignmentsHistory,...e},s}async cacheAnonymousVisitor(t,i){const e=this.visitor.visitorCacheStatus;if(this.visitor.anonymousId&&(e===li.NONE||e===li.VISITOR_ID_CACHE)){const e={...i,data:{...i.data,visitorId:this.visitor.anonymousId,anonymousId:null}};await t.cacheVisitor(this.visitor.anonymousId,e)}}async cacheVisitor(t,i){try{const e=this.config.visitorCacheImplementation;if(this.config.disableCache||!e||\"function\"!=typeof e.cacheVisitor)return;const s=this.createVisitorCacheDTO(t,i);await e.cacheVisitor(this.visitor.visitorId,s),await this.cacheAnonymousVisitor(e,s),Jt(this.config,At,\"Visitor {0}, visitor cache has been saved into database : {0}\",this.visitor.visitorId,s),this.visitor.visitorCache=s}catch(t){Kt(this.config,At,St,this.visitor.visitorId,\"cacheVisitor\",t.message||t)}}async flushVisitor(){try{const t=this.config.visitorCacheImplementation;if(this.config.disableCache||!t||\"function\"!=typeof t.flushVisitor)return;await t.flushVisitor(this.visitor.visitorId),Jt(this.config,At,\"Visitor {0}, visitor cache has been flushed from database.\",this.visitor.visitorId)}catch(t){Kt(this.config,At,St,this.visitor.visitorId,\"flushVisitor\",t.message||t)}}addInTrackingManager(t){return this.trackingManager.addHit(t)}async sendTroubleshootingHit(t){await this.trackingManager.sendTroubleshootingHit(t)}async sendUsageHit(t){if(this.config.disableDeveloperUsageTracking)return;return this.visitor.analyticTraffic>1?void 0:this.trackingManager.sendUsageHit(t)}getCurrentDateTime(){return new Date}getSdkConfigDecisionMode(){return this.config.decisionMode===Ut.DECISION_API?\"DECISION_API\":this.config.decisionMode}async sendSdkConfigAnalyticHit(){if(this.config.disableDeveloperUsageTracking)return;const t=this.config.hitCacheImplementation,i=this.config.visitorCacheImplementation;let e=!1,a=!1;e=!(!t||t instanceof Li),a=!(!i||i instanceof Gi);const o=new xi({label:di.SDK_CONFIG,logLevel:s.INFO,visitorId:this.visitor.sdkInitialData?.instanceId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,config:this.config,sdkStatus:this.visitor.getSdkStatus(),lastBucketingTimestamp:this.configManager.decisionManager.lastBucketingTimestamp,lastInitializationTimestamp:this.visitor.sdkInitialData?.lastInitializationTimestamp,sdkConfigMode:this.getSdkConfigDecisionMode(),sdkConfigLogLevel:this.config.logLevel,sdkConfigTimeout:this.config.timeout,sdkConfigPollingInterval:this.config.pollingInterval,sdkConfigTrackingManagerStrategy:this.config.trackingManagerConfig?.cacheStrategy,sdkConfigTrackingManagerBatchIntervals:this.config.trackingManagerConfig?.batchIntervals,sdkConfigTrackingManagerPoolMaxSize:this.config.trackingManagerConfig?.poolMaxSize,sdkConfigFetchNow:this.config.fetchNow,sdkConfigReuseVisitorIds:this.config.reuseVisitorIds,sdkConfigInitialBucketing:this.config.initialBucketing,sdkConfigDecisionApiUrl:this.config.decisionApiUrl,sdkConfigHitDeduplicationTime:this.config.hitDeduplicationTime,sdkConfigUsingOnVisitorExposed:!!this.config.onVisitorExposed,sdkConfigUsingCustomHitCache:!!e,sdkConfigUsingCustomVisitorCache:!!a,sdkConfigFetchThirdPartyData:this.config.fetchThirdPartyData,sdkConfigFetchFlagsBufferingTime:this.config.fetchFlagsBufferingTime,sdkConfigDisableDeveloperUsageTracking:this.config.disableDeveloperUsageTracking,sdkConfigNextFetchConfig:this.config.nextFetchConfig,sdkConfigDisableCache:this.config.disableCache});this.sendUsageHit(o)}async sendFetchFlagsTroubleshooting({isFromCache:t,campaigns:i,now:e}){const a={};this.visitor.flagsData.forEach((t=>{a[t.variationGroupId]=t.variationId}));const o=this.visitor.visitorId+this.decisionManager.troubleshooting?.endDate.toUTCString(),n=this._murmurHash.murmurHash3Int32(o)%100;this.visitor.traffic=n;const r=this.config.hitCacheImplementation,h=this.config.visitorCacheImplementation;let c=!1,g=!1;c=!(!r||r instanceof Li),g=!(!h||h instanceof Gi);const d=new _i({label:di.VISITOR_FETCH_CAMPAIGNS,logLevel:s.INFO,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,visitorSessionId:this.visitor.instanceId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,traffic:n,config:this.config,sdkStatus:this.visitor.getSdkStatus(),visitorContext:this.visitor.context,visitorCampaigns:i,visitorCampaignFromCache:t?i:void 0,visitorConsent:this.visitor.hasConsented,visitorIsAuthenticated:!!this.visitor.anonymousId,visitorFlags:this.visitor.flagsData,visitorAssignmentHistory:a,visitorInitialCampaigns:this.visitor.sdkInitialData?.initialCampaigns,visitorInitialFlagsData:this.visitor.sdkInitialData?.initialFlagsData,lastBucketingTimestamp:this.configManager.decisionManager.lastBucketingTimestamp,lastInitializationTimestamp:this.visitor.sdkInitialData?.lastInitializationTimestamp,httpResponseTime:Date.now()-e,sdkConfigLogLevel:this.config.logLevel,sdkConfigMode:this.getSdkConfigDecisionMode(),sdkConfigTimeout:this.config.timeout,sdkConfigPollingInterval:this.config.pollingInterval,sdkConfigTrackingManagerStrategy:this.config.trackingManagerConfig?.cacheStrategy,sdkConfigTrackingManagerBatchIntervals:this.config.trackingManagerConfig?.batchIntervals,sdkConfigTrackingManagerPoolMaxSize:this.config.trackingManagerConfig?.poolMaxSize,sdkConfigFetchNow:this.config.fetchNow,sdkConfigReuseVisitorIds:this.config.reuseVisitorIds,sdkConfigInitialBucketing:this.config.initialBucketing,sdkConfigDecisionApiUrl:this.config.decisionApiUrl,sdkConfigHitDeduplicationTime:this.config.hitDeduplicationTime,sdkConfigUsingOnVisitorExposed:!!this.config.onVisitorExposed,sdkConfigUsingCustomHitCache:!!c,sdkConfigUsingCustomVisitorCache:!!g,sdkConfigFetchThirdPartyData:this.config.fetchThirdPartyData,sdkConfigFetchFlagsBufferingTime:this.config.fetchFlagsBufferingTime,sdkConfigDisableDeveloperUsageTracking:this.config.disableDeveloperUsageTracking,sdkConfigNextFetchConfig:this.config.nextFetchConfig,sdkConfigDisableCache:this.config.disableCache});await this.sendTroubleshootingHit(d)}sendConsentHitTroubleshooting(){const t=this.visitor.consentHitTroubleshooting;t&&(t.traffic=this.visitor.traffic,this.trackingManager.sendTroubleshootingHit(t),this.visitor.consentHitTroubleshooting=void 0)}sendSegmentHitTroubleshooting(){const t=this.visitor.segmentHitTroubleshooting;t&&(t.traffic=this.visitor.traffic,this.trackingManager.sendTroubleshootingHit(t),this.visitor.segmentHitTroubleshooting=void 0)}}const Ki=\"sdk_deviceLanguage\",Qi=\"sdk_deviceType\",$i=\"sdk_deviceModel\",zi=\"sdk_city\",Wi=\"sdk_region\",ji=\"sdk_country\",Ji=\"sdk_lat\",Yi=\"sdk_long\",Zi=\"sdk_ip\",Xi=\"sdk_osName\",te=\"sdk_osVersionName\",ie=\"sdk_osVersionCode\",ee=\"sdk_carrierName\",se=\"sdk_internetConnection\",ae=\"sdk_versionName\",oe=\"sdk_versionCode\",ne=\"sdk_interfaceName\",re=\"fs_client\",he=\"fs_version\",ce=\"fs_users\",ge={[Ki]:\"string\",[Qi]:\"string\",[$i]:\"string\",[zi]:\"string\",[Wi]:\"string\",[ji]:\"string\",[Ji]:\"number\",[Yi]:\"number\",[Zi]:\"string\",[Xi]:\"string\",[te]:\"string\",[ie]:\"string\",[ee]:\"string\",[se]:\"string\",[ae]:\"string\",[oe]:\"string\",[ne]:\"string\",[re]:\"string\",[he]:\"string\",[ce]:\"string\"};class de{campaignId;campaignName;variationGroupId;variationGroupName;variationId;variationName;isReference;campaignType;slug;constructor(t){const{campaignId:i,variationGroupId:e,variationId:s,isReference:a,campaignType:o,slug:n,variationGroupName:r,variationName:h,campaignName:c}=t;this.campaignId=i,this.variationGroupId=e,this.variationId=s,this.isReference=a,this.campaignType=o,this.campaignName=c,this.variationGroupName=r,this.variationName=h,this.slug=n}static Empty(){return new de({campaignId:\"\",campaignName:\"\",campaignType:\"\",variationId:\"\",variationName:\"\",variationGroupId:\"\",variationGroupName:\"\",isReference:!1,slug:null})}}class le extends qi{checkPredefinedContext(t,i){const e=ge[t];if(!e)return null;let s=!1;return\"string\"===e?s=\"string\"==typeof i:\"number\"===e&&(s=\"number\"==typeof i),s||Kt(this.config,B,dt,this.visitor.visitorId,t,e),s}updateContextKeyValue(t,i){const e=typeof i;if(\"string\"!=typeof t||\"\"===t)return void Kt(this.config,B,ct,this.visitor.visitorId,t);if(\"string\"!==e&&\"number\"!==e&&\"boolean\"!==e)return void Kt(this.config,B,gt,this.visitor.visitorId,t);if(t===re||t===he||t===ce)return;const s=this.checkPredefinedContext(t,i);(\"boolean\"!=typeof s||s)&&(this.visitor.context[t]=i)}checkAndUpdateContext(t,i,e){ai(t,i)||(this.visitor.hasContextBeenUpdated=!0,this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.UPDATE_CONTEXT},Jt(this.config,B,\"visitor `{0}`, context have been updated: key {1}, value {2}, Context {3}\",this.visitor.visitorId,i,e,this.visitor.context))}updateContext(t,i){const e={...this.visitor.context};if(\"string\"==typeof t){this.updateContextKeyValue(t,i);const s=this.visitor.context;return void this.checkAndUpdateContext(e,s,i)}if(!t)return void Qt(this.visitor.config,\"Context must not to be null\",B);for(const i in t){const e=t[i];this.updateContextKeyValue(i,e)}const s=this.visitor.context;this.checkAndUpdateContext(e,s,t)}clearContext(){const t={...this.visitor.context};this.visitor.context={},this.visitor.loadPredefinedContext();ai(t,this.visitor.context)||(this.visitor.hasContextBeenUpdated=!0,this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.UPDATE_CONTEXT},Jt(this.config,\"CLEAR_CONTEXT\",\"visitor `{0}`, context has been cleared cleared `{1}`\",this.visitor.visitorId,this.visitor.context))}isDeDuplicated(t,i){if(0===i)return!1;const e=this.visitor.deDuplicationCache[t];return!!(e&&Date.now()-e<=1e3*i)||(this.visitor.deDuplicationCache[t]=Date.now(),this.visitor.clearDeDuplicationCache(i),!1)}async sendActivate(t,i){const e={variationGroupId:t.variationGroupId,variationId:t.variationId,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,flagKey:t.key,flagValue:t.value,flagDefaultValue:i,visitorContext:this.visitor.context,flagMetadata:{campaignName:t.campaignName,campaignId:t.campaignId,campaignType:t.campaignType,variationGroupId:t.variationGroupId,variationGroupName:t.variationGroupName,variationId:t.variationId,variationName:t.variationName,slug:t.slug,isReference:t.isReference},qaMode:this.config.isQAModeEnabled};if(this.isDeDuplicated(JSON.stringify(e),this.config.hitDeduplicationTime)){const i={visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,flag:t,delay:0};return void Yt(this.config,qt(\"Activate {0} is deduplicated\",JSON.stringify(i)),K)}await this.trackingManager.activateFlag(e);const a=new _i({label:di.VISITOR_SEND_ACTIVATE,logLevel:s.INFO,traffic:this.visitor.traffic,visitorId:e.visitorId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,visitorSessionId:this.visitor.instanceId,anonymousId:e.anonymousId,config:this.config,hitContent:e});this.sendTroubleshootingHit(a)}async sendHit(t){this.hasTrackingManager(K)&&await this.prepareAndSendHit(t)}async sendHits(t){if(this.hasTrackingManager(K))for(const i of t)await this.prepareAndSendHit(i)}async getHit(t){let i=null;switch(t.type.toUpperCase()){case Vt.EVENT:i=new yi(t);break;case Vt.ITEM:i=new Oi(t);break;case Vt.PAGE_VIEW:i=new wi(t);break;case Vt.SCREEN_VIEW:i=new Ei(t);break;case Vt.TRANSACTION:i=new Mi(t)}return i}async prepareAndSendHit(t,i=K){let e;if(!t?.type)return void Qt(this.config,\"Hit must not be null\",i);if(t instanceof Ii)e=t;else{const s=await this.getHit(t);if(!s)return void Qt(this.config,\"property type is required and must \",i);e=s}e.visitorId=this.visitor.visitorId,e.ds=et,e.config=this.config,e.anonymousId=this.visitor.anonymousId,e.qaMode=this.config.isQAModeEnabled;const{createdAt:a,...o}=e.toObject();if(!this.isDeDuplicated(JSON.stringify(o),this.config.hitDeduplicationTime))if(e.isReady())try{if(await this.trackingManager.addHit(e),\"SEGMENT\"===e.type)return;const t=new _i({label:di.VISITOR_SEND_HIT,logLevel:s.INFO,traffic:this.visitor.traffic,visitorId:e.visitorId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,visitorSessionId:this.visitor.instanceId,anonymousId:e.anonymousId,config:this.config,hitContent:e.toApiKeys()});this.sendTroubleshootingHit(t)}catch(t){Qt(this.config,t.message||t,i)}else Qt(this.config,e.getErrorMessage(),i)}authenticate(t){if(!t)return void Kt(this.config,mt,Ct,this.visitor.visitorId);if(this.visitor.anonymousId)return void $t(this.config,mt,\"The visitor is already authenticated with visitor ID {0}\",this.visitor.visitorId,this.visitor.anonymousId);this.visitor.anonymousId=this.visitor.visitorId,this.visitor.visitorId=t;const i=new _i({label:di.VISITOR_AUTHENTICATE,logLevel:s.INFO,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,visitorContext:this.visitor.context,traffic:this.visitor.traffic,config:this.config});this.sendTroubleshootingHit(i),this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.AUTHENTICATE},Jt(this.config,mt,\"The visitor is authenticated with new visitor ID {0} anonymous ID {1}\",this.visitor.visitorId,this.visitor.anonymousId)}unauthenticate(){if(!this.visitor.anonymousId)return void Kt(this.config,Tt,\"Visitor {0} is not authenticated yet\",this.visitor.visitorId);this.visitor.visitorId=this.visitor.anonymousId,this.visitor.anonymousId=null;const t=new _i({label:di.VISITOR_UNAUTHENTICATE,logLevel:s.INFO,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,visitorContext:this.visitor.context,traffic:this.visitor.traffic,config:this.config});this.sendTroubleshootingHit(t),this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.UNAUTHENTICATE},Jt(this.config,Tt,\"The visitor is unauthenticated with visitor ID {0}\",this.visitor.visitorId)}handleFetchFlagsError(t,i,e){this.visitor.emit(M,t);const a=ii(t instanceof Error?t.message:t,{visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,context:this.visitor.context,statusReason:this.visitor.flagsStatus.reason,duration:Date.now()-i});Qt(this.config,a,lt),this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.FLAGS_FETCHING_ERROR};const o=new _i({label:di.VISITOR_FETCH_CAMPAIGNS_ERROR,logLevel:s.INFO,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,visitorSessionId:this.visitor.instanceId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,traffic:this.visitor.traffic,config:this.config,visitorContext:this.visitor.context,sdkStatus:this.visitor.getSdkStatus(),visitorCampaigns:e,visitorConsent:this.visitor.hasConsented,visitorIsAuthenticated:!!this.visitor.anonymousId,visitorFlags:this.visitor.flagsData,visitorInitialCampaigns:this.visitor.sdkInitialData?.initialCampaigns,visitorInitialFlagsData:this.visitor.sdkInitialData?.initialFlagsData,lastBucketingTimestamp:this.configManager.decisionManager.lastBucketingTimestamp,lastInitializationTimestamp:this.visitor.sdkInitialData?.lastInitializationTimestamp,httpResponseTime:Date.now()-i,sdkConfigMode:this.getSdkConfigDecisionMode(),sdkConfigTimeout:this.config.timeout,sdkConfigPollingInterval:this.config.pollingInterval,sdkConfigTrackingManagerStrategy:this.config.trackingManagerConfig?.cacheStrategy,sdkConfigTrackingManagerBatchIntervals:this.config.trackingManagerConfig?.batchIntervals,sdkConfigTrackingManagerPoolMaxSize:this.config.trackingManagerConfig?.poolMaxSize,sdkConfigFetchNow:this.config.fetchNow,sdkConfigReuseVisitorIds:this.config.reuseVisitorIds,sdkConfigInitialBucketing:this.config.initialBucketing,sdkConfigDecisionApiUrl:this.config.decisionApiUrl,sdkConfigHitDeduplicationTime:this.config.hitDeduplicationTime});this.trackingManager.addTroubleshootingHit(o)}async getCampaigns(t){let i=null;const e=lt;try{const s=Date.now()-this.visitor.lastFetchFlagsTimestamp,a=this.visitor.flagsStatus.status;if(a===Pt.FETCHING)return await this.visitor.getCampaignsPromise,{campaigns:i,isFetching:!0};const o=1e3*this.config.fetchFlagsBufferingTime;return a===Pt.FETCHED&&s<o?(Wt(this.config,e,\"Visitor {0}, fetchFlags has been ignored and will continue to be ignored for the next {1}ms, this delay can be changed with `fetchFlagsBufferingTime` option in the SDK config\",this.visitor.visitorId,o-s),{campaigns:i,isBuffered:!0}):(Jt(this.config,e,\"visitor `{0}` fetchFlags process is started\",this.visitor.visitorId),this.visitor.flagsStatus={status:Pt.FETCHING,reason:xt.NONE},await this.lookupVisitor(),await this.visitor.emotionAi.fetchEAIScore(),this.visitor.getCampaignsPromise=this.decisionManager.getCampaignsAsync(this.visitor),i=await this.visitor.getCampaignsPromise,this.visitor.lastFetchFlagsTimestamp=Date.now(),this.decisionManager.isPanic()&&(this.visitor.flagsStatus={status:Pt.PANIC,reason:xt.NONE}),this.configManager.trackingManager.troubleshootingData=this.decisionManager.troubleshooting,Jt(this.config,e,\"Visitor {0}, anonymousId {1} with context {2} has just fetched campaigns {3} in {4} ms\",this.visitor.visitorId,this.visitor.anonymousId,this.visitor.context,i,Date.now()-t),{campaigns:i})}catch(t){return Qt(this.config,t.message,lt),this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.FLAGS_FETCHING_ERROR},{error:t,campaigns:i}}}fetchCampaignsFromCache(t){return Array.isArray(t?.visitorCache?.data.campaigns)?t.visitorCache.data.campaigns.map((t=>({id:t.campaignId,variationGroupId:t.variationGroupId,slug:t.slug,variation:{id:t.variationId,reference:!!t.isReference,modifications:{type:t.type,value:t.flags}}}))):null}handleNoCampaigns(t){const i=this.fetchCampaignsFromCache(this.visitor);return i&&(this.visitor.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.FLAGS_FETCHED_FROM_CACHE},Jt(this.config,lt,\"Visitor {0}, anonymousId {1} with context {2} has just fetched campaigns from cache {3} in {4} ms\",this.visitor.visitorId,this.visitor.anonymousId,this.visitor.context,i,Date.now()-t)),i}sendVisitorAllocatedVariations(){{const t={};if(this.visitor.flagsData.forEach((i=>{t[i.campaignId]={variationId:i.variationId,variationGroupId:i.variationGroupId,campaignId:i.campaignId}})),this.visitor.visitorVariationState.visitorVariations=t,!this.config.isQAModeEnabled)return;__webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_flagship_io_js-sdk_dist_chunks_browser_esm_DapSjH90_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./DapSjH90.js */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/DapSjH90.js\")).then((function(t){return t.i})).then((t=>{t.sendVisitorAllocatedVariations(this.visitor.visitorVariationState)}))}}extractFlags(t){const i=new Map;return t.forEach((t=>{const e=t.variation.modifications.value;for(const s in e){const a=e[s];i.set(s,{key:s,campaignId:t.id,campaignName:t.name||\"\",variationGroupId:t.variationGroupId,variationGroupName:t.variationGroupName||\"\",variationId:t.variation.id,variationName:t.variation.name||\"\",isReference:!!t.variation.reference,campaignType:t.type,slug:t.slug,value:a})}})),i}async fetchFlags(){const t=Date.now();let i=null;const{campaigns:e,error:s,isFetching:a,isBuffered:o}=await this.getCampaigns(t);if(!a&&!o){i=e;try{i||(i=this.handleNoCampaigns(t)),i=i||[],this.visitor.campaigns=i,this.visitor.flagsData=this.extractFlags(this.visitor.campaigns),this.cacheVisitor(),this.visitor.emit(M,s),this.visitor.flagsStatus.status===Pt.FETCHING&&(this.visitor.flagsStatus={status:Pt.FETCHED,reason:xt.NONE}),this.sendVisitorAllocatedVariations(),Jt(this.config,lt,\"Visitor {0}, anonymousId {1} with context {2} has just fetched flags {3} from Campaigns\",this.visitor.visitorId,this.visitor.anonymousId,this.visitor.context,this.visitor.flagsData),this.decisionManager.troubleshooting&&(this.sendFetchFlagsTroubleshooting({campaigns:i,now:t,isFromCache:this.visitor.flagsStatus.reason===xt.FLAGS_FETCHED_FROM_CACHE}),this.sendConsentHitTroubleshooting(),this.sendSegmentHitTroubleshooting()),this.sendSdkConfigAnalyticHit()}catch(e){this.handleFetchFlagsError(e,t,i)}}}async visitorExposed(t){const{key:i,flag:e,defaultValue:s,hasGetValueBeenCalled:a}=t;return e?a?null==s||null===e.value||Xt(e.value,s)?void await this.sendActivate(e,s):($t(this.visitor.config,It,\"For the visitor `{0}, the flag with the key `{0}` has a different type compared to the default value. Therefore, the exposure is interrupted\",this.visitor.visitorId,i),void this.sendFlagTroubleshooting(di.VISITOR_EXPOSED_TYPE_WARNING,i,s)):($t(this.visitor.config,It,\"For the visitor `{0}`,assuming the getValue() method has not previously been invoked for the flag `{0}`. Therefore, the exposure is canceled\",this.visitor.visitorId,i),void this.sendFlagTroubleshooting(di.FLAG_VALUE_NOT_CALLED,i,s,!0)):($t(this.visitor.config,It,'For the visitor \"{0}\", no flags were found with the key \"{1}\". As a result, user exposure will not be sent.',this.visitor.visitorId,i),void this.sendFlagTroubleshooting(di.VISITOR_EXPOSED_FLAG_NOT_FOUND,i,s))}sendFlagTroubleshooting(t,i,e,a){const o=new _i({label:t,logLevel:s.WARNING,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,visitorSessionId:this.visitor.instanceId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,traffic:this.visitor.traffic,config:this.config,visitorContext:this.visitor.context,flagKey:i,flagDefault:e,visitorExposed:a});this.sendTroubleshootingHit(o)}getFlagValue(t){const{key:i,defaultValue:e,flag:s,visitorExposed:a}=t;return s?(a&&this.sendActivate(s,e),null===s.value?e:null==e||Xt(s.value,e)?(Jt(this.config,ut,\"Visitor {0}, Flag for key {1} returns value {2}\",this.visitor.visitorId,i,s.value),s.value):($t(this.config,ut,'For the visitor \"{0}\", the flag with key \"{1}\" has a different type compared to the default value. Therefore, the default value \"{2}\" has been returned.',this.visitor.visitorId,i,e),this.sendFlagTroubleshooting(di.GET_FLAG_VALUE_TYPE_WARNING,i,e,a),e)):($t(this.config,ut,'For the visitor \"{0}\", no flags were found with the key \"{1}\". Therefore, the default value \"{2}\" has been returned.',this.visitor.visitorId,i,e),this.sendFlagTroubleshooting(di.GET_FLAG_VALUE_FLAG_NOT_FOUND,i,e,a),e)}SendFlagMetadataTroubleshooting(t){$t(this.config,pt,_t,this.visitor.visitorId,t);const i=new _i({label:di.GET_FLAG_METADATA_TYPE_WARNING,logLevel:s.WARNING,visitorId:this.visitor.visitorId,anonymousId:this.visitor.anonymousId,visitorSessionId:this.visitor.instanceId,flagshipInstanceId:this.visitor.sdkInitialData?.instanceId,traffic:this.visitor.traffic,config:this.config,visitorContext:this.visitor.context,flagKey:t});this.sendTroubleshootingHit(i)}getFlagMetadata(t){const{key:i,flag:e}=t;if(!e)return $t(this.config,pt,_t,this.visitor.visitorId,i),this.SendFlagMetadataTroubleshooting(i),de.Empty();return new de({campaignId:e.campaignId,campaignName:e.campaignName,variationGroupId:e.variationGroupId,variationGroupName:e.variationGroupName,variationId:e.variationId,variationName:e.variationName,isReference:!!e.isReference,campaignType:e.campaignType,slug:e.slug})}}class ue extends le{async lookupHits(){}async lookupVisitor(){}async cacheVisitor(){}async collectEAIEventsAsync(){this.log(\"collectEAIData\")}onEAICollectStatusChange(){}reportEaiPageView(){}reportEaiVisitorEvent(){}sendVisitorAllocatedVariations(){}async sendHit(t){this.log(\"sendHit\")}async sendHits(t){this.log(\"sendHits\")}async fetchFlags(){this.log(\"fetchFlags\")}getFlagValue(t){return this.log(\"Flag.value\"),t.defaultValue}async visitorExposed(){this.log(It)}getFlagMetadata(t){const i=de.Empty();return Kt(this.config,pt,vt,this.visitor.visitorId,t.key,i),i}async sendActivate(t,i){}async sendTroubleshootingHit(){}async sendSdkConfigAnalyticHit(){}async addInTrackingManager(){}log(t){Kt(this.config,t,x,this.visitor.visitorId,t,Ht[Ht.SDK_NOT_INITIALIZED])}}class fe extends le{setConsent(t){this.visitor.hasConsented=t}updateContext(){this.log(\"updateContext\")}clearContext(){this.log(\"clearContext\")}async lookupHits(){}async lookupVisitor(){}async cacheVisitor(){}async cacheHit(){}fetchCampaignsFromCache(){return[]}sendVisitorAllocatedVariations(){}async sendHit(t){this.log(\"sendHit\")}async sendHits(t){this.log(\"sendHits\")}getFlagValue(t){return this.log(\"Flag.value\"),t.defaultValue}async visitorExposed(){this.log(It)}getFlagMetadata(t){const i=de.Empty();return Wt(this.config,pt,\"Visitor {0}, Flag for key {1} Method Flag.metadata is deactivated while SDK status is PANIC: Empty metadata object is returned {2}\\nLearn more: https://docs.developers.flagship.io/docs/glossary#panic-mode\",this.visitor.visitorId,t.key,i),i}async sendTroubleshootingHit(){}async sendSdkConfigAnalyticHit(){}async sendActivate(t,i){}async collectEAIEventsAsync(){this.log(\"collectEAIData\")}reportEaiPageView(){}reportEaiVisitorEvent(){}onEAICollectStatusChange(){}async addInTrackingManager(){}log(t){Wt(this.config,t,x,this.visitor.visitorId,t,Ht[Ht.SDK_PANIC])}}class Ie extends le{async lookupHits(){}async lookupVisitor(){}async cacheVisitor(){}async cacheHit(){}async collectEAIEventsAsync(){this.log(\"collectEAIData\")}reportEaiPageView(){}reportEaiVisitorEvent(){}onEAICollectStatusChange(){}fetchCampaignsFromCache(){return[]}async sendHit(t){this.log(\"sendHit\")}async sendHits(t){this.log(\"sendHits\")}async sendActivate(t,i){}async visitorExposed(){this.log(It)}async sendTroubleshootingHit(){}async addInTrackingManager(){}log(t){jt(this.config,qt(\"Method {0} is deactivated for visitor {1} : visitor did not consent.\",t,this.visitor.visitorId),t)}}class pe{murmurHash3Int32(t,i=0){let e,s,a,o;const n=3&t.length,r=t.length-n;e=i;const h=3432918353,c=461845907;for(o=0;o<r;)a=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24,++o,a=(65535&a)*h+(((a>>>16)*h&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*c+(((a>>>16)*c&65535)<<16)&4294967295,e^=a,e=e<<13|e>>>19,s=5*(65535&e)+((5*(e>>>16)&65535)<<16)&4294967295,e=27492+(65535&s)+((58964+(s>>>16)&65535)<<16);switch(a=0,n){case 3:a^=(255&t.charCodeAt(o+2))<<16;case 2:a^=(255&t.charCodeAt(o+1))<<8;case 1:a^=255&t.charCodeAt(o),a=(65535&a)*h+(((a>>>16)*h&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*c+(((a>>>16)*c&65535)<<16)&4294967295,e^=a}return e^=t.length,e^=e>>>16,e=2246822507*(65535&e)+((2246822507*(e>>>16)&65535)<<16)&4294967295,e^=e>>>13,e=3266489909*(65535&e)+((3266489909*(e>>>16)&65535)<<16)&4294967295,e^=e>>>16,e>>>0}}class _e extends events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter{_visitorId;_context;_flags;_configManager;_campaigns;_hasConsented;_anonymousId;deDuplicationCache;_isCleaningDeDuplicationCache;visitorCache;_exposedVariations;_sendExposedVariationTimeoutId;_instanceId;_traffic;_sdkInitialData;_consentHitTroubleshooting;_segmentHitTroubleshooting;_fetchStatus;_onFetchFlagsStatusChanged;_getCampaignsPromise;_hasContextBeenUpdated;_emotionAi;_analyticTraffic;_murmurHash;_visitorProfileCache;_isClientSuppliedID;_visitorVariationState;get visitorVariationState(){return this._visitorVariationState}get isClientSuppliedID(){return this._isClientSuppliedID}get hasContextBeenUpdated(){return this._hasContextBeenUpdated}set hasContextBeenUpdated(t){this._hasContextBeenUpdated=t}get getCampaignsPromise(){return this._getCampaignsPromise}set getCampaignsPromise(t){this._getCampaignsPromise=t}get onFetchFlagsStatusChanged(){return this._onFetchFlagsStatusChanged}set onFetchFlagsStatusChanged(t){this._onFetchFlagsStatusChanged=t}get flagsStatus(){return this._fetchStatus}set flagsStatus(t){this._fetchStatus=t,this.onFetchFlagsStatusChanged&&this.onFetchFlagsStatusChanged(t)}get segmentHitTroubleshooting(){return this._segmentHitTroubleshooting}set segmentHitTroubleshooting(t){this._segmentHitTroubleshooting=t}get consentHitTroubleshooting(){return this._consentHitTroubleshooting}set consentHitTroubleshooting(t){this._consentHitTroubleshooting=t}get sdkInitialData(){return this._sdkInitialData}static SdkStatus;getSdkStatus(){return _e.SdkStatus}lastFetchFlagsTimestamp=0;_visitorCacheStatus;get visitorCacheStatus(){return this._visitorCacheStatus}set visitorCacheStatus(t){this._visitorCacheStatus=t}get emotionAi(){return this._emotionAi}get analyticTraffic(){return this._analyticTraffic}initBaseProperties(t){const{configManager:i,emotionAi:e,monitoringData:s,visitorProfileCache:a}=t;this._murmurHash=t.murmurHash||new pe,this._emotionAi=e,this._hasContextBeenUpdated=!0,this._exposedVariations={},this._sdkInitialData=s,this._instanceId=ti(),this._isCleaningDeDuplicationCache=!1,this.deDuplicationCache={},this._context={},this._configManager=i,this.campaigns=[],this._visitorProfileCache=a}getVisitorIdFromTag(){{const t=window.ABTasty?.api?.internal?._isByoidConfigured?.();if(t)return;const i=window.ABTasty?.api?.v1?.getValue(\"visitorId\");return i&&Jt(this.config,q,\"The visitor ID '{0}' has been retrieved from ABTasty tag\",i),i}}hasVisitorProfileClientSuppliedId(t){return void 0===t.isClientSuppliedId||t.isClientSuppliedId}initVisitorId(t,i,e){const s=this.config.reuseVisitorIds&&!0===e?this._visitorProfileCache?.loadVisitorProfile():null;s&&Jt(this.config,q,\"Visitor profile has been loaded {0}\",s),this._isClientSuppliedID=!1,t?(this.visitorId=t,this._isClientSuppliedID=!0):!i&&s?.anonymousId?(this.visitorId=s.anonymousId,this._isClientSuppliedID=this.hasVisitorProfileClientSuppliedId(s)):s?.visitorId?(this.visitorId=s.visitorId,this._isClientSuppliedID=this.hasVisitorProfileClientSuppliedId(s)):this.visitorId=this.getVisitorIdFromTag()||this.generateVisitorId(),this._anonymousId=null,i&&(this._anonymousId=s?.anonymousId||ti())}constructor(t){const{visitorId:i,context:e,isAuthenticated:s,hasConsented:a,initialFlagsData:n,initialCampaigns:r,onFlagsStatusChanged:h}=t;super(),this._visitorVariationState=t.visitorVariationState||{},this.initBaseProperties(t),this.initVisitorId(i,s,a),this.initAnalyticTraffic(),this.setConsent(a||!1),this.updateContext(e),this.loadPredefinedContext(),Jt(this.config,q,\"Predefined Context have been loaded {0}\",{fs_client:o.name,fs_version:o.version,fs_users:this.visitorId}),this.updateCache();const c=this.getStrategy();this.setInitialFlags(n,c),this.setInitializeCampaigns(r,!!n,c),this.onFetchFlagsStatusChanged=h,this.flagsStatus={status:Pt.FETCH_REQUIRED,reason:xt.FLAGS_NEVER_FETCHED},this._emotionAi.init(this),Jt(this.config,q,\"Visitor {0} has been created with context {1}, isAuthenticated:{2} and hasConsented {3}\",this.visitorId,this.context,!!s,!!this.hasConsented)}updateCache(){const t=this.hasConsented?{visitorId:this.visitorId,anonymousId:this.anonymousId,isClientSuppliedId:this.isClientSuppliedID}:void 0;this._visitorProfileCache?.saveVisitorProfile(t)}get traffic(){return this._traffic}set traffic(t){this._traffic=t}get instanceId(){return this._instanceId}getCurrentDateTime(){return new Date}initAnalyticTraffic(){const t=this.visitorId+this.getCurrentDateTime().toDateString(),i=this._murmurHash.murmurHash3Int32(t);this._analyticTraffic=i%1e3}generateVisitorId(){const t=ti();return Jt(this.config,q,\"Visitor identifier is empty. A UUID {0} has been generated.\",t),t}clearDeDuplicationCache(t){if(this._isCleaningDeDuplicationCache)return;this._isCleaningDeDuplicationCache=!0;const i=Object.entries(this.deDuplicationCache);for(const[e,s]of i)Date.now()-s>1e3*t&&delete this.deDuplicationCache[e];this._isCleaningDeDuplicationCache=!1}setInitialFlags(t,i){this._flags=new Map,Array.isArray(t)&&(t.forEach((t=>{this._flags.set(t.key,{key:t.key,campaignId:t.campaignId,campaignName:t.campaignName,variationGroupId:t.variationGroupId,variationGroupName:t.variationGroupName,variationId:t.variationId,variationName:t.variationName,isReference:t.isReference,value:si(t.hex,this.config)?.v,slug:t.slug,campaignType:t.campaignType})})),i?.sendVisitorAllocatedVariations())}setInitializeCampaigns(t,i,e){t&&Array.isArray(t)&&!i&&(e?.updateCampaigns(t),e?.sendVisitorAllocatedVariations())}loadPredefinedContext(){this.context.fs_client=o.name,this.context.fs_version=o.version,this.context.fs_users=this.visitorId}get visitorId(){return this._visitorId}set visitorId(t){t&&\"string\"==typeof t?(this._visitorId=t,this.loadPredefinedContext(),this.visitorCache=void 0):Qt(this.config,\"visitorId must not be null or empty\",\"VISITOR ID\")}get hasConsented(){return this._hasConsented}set hasConsented(t){this._hasConsented=t}setConsent(t){this.hasConsented=t,this.getStrategy().setConsent(t)}get context(){return this._context}set context(t){this._context={},this.updateContext(t)}get flagsData(){return this._flags}set flagsData(t){this._flags=t}get configManager(){return this._configManager}get config(){return this.configManager.config}get campaigns(){return this._campaigns}set campaigns(t){this._campaigns=t}get anonymousId(){return this._anonymousId}set anonymousId(t){this._anonymousId=t}getStrategy(){let t;const i={visitor:this,murmurHash:new pe},e=this.getSdkStatus();return t=void 0===e||e===Ht.SDK_NOT_INITIALIZED?new ue(i):e===Ht.SDK_PANIC?new fe(i):this.hasConsented?new le(i):new Ie(i),t}async sendExposedVariation(t){{if(!t||!Zt())return;if(this._exposedVariations[t.campaignId]={campaignId:t.campaignId,variationGroupId:t.variationGroupId,variationId:t.variationId},this._visitorVariationState.exposedVariations=this._exposedVariations,!this.config.isQAModeEnabled)return;const i=10,e=100,s=await __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_flagship_io_js-sdk_dist_chunks_browser_esm_DapSjH90_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./DapSjH90.js */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/DapSjH90.js\")).then((function(t){return t.i}));if(Object.keys(this._exposedVariations).length>=i&&(s.sendVisitorExposedVariations(this._visitorVariationState),this._exposedVariations={}),this._sendExposedVariationTimeoutId&&clearTimeout(this._sendExposedVariationTimeoutId),0===Object.keys(this._exposedVariations).length)return;this._sendExposedVariationTimeoutId=setTimeout((()=>{s.sendVisitorExposedVariations(this._visitorVariationState),this._exposedVariations={}}),e)}}collectEAIEventsAsync(t){return this.getStrategy().collectEAIEventsAsync(t)}sendEaiVisitorEvent(t){this.getStrategy().reportEaiVisitorEvent(t)}sendEaiPageView(t){this.getStrategy().reportEaiPageView(t)}onEAICollectStatusChange(t){this.getStrategy().onEAICollectStatusChange(t)}cleanup(){this.getStrategy().cleanup()}async getCachedEAIScore(){return this.visitorCache||await this.getStrategy().lookupVisitor(),this.visitorCache?.data?.eAIScore}async isEAIDataCollected(){return this.visitorCache||await this.getStrategy().lookupVisitor(),this.visitorCache?.data?.isEAIDataCollected||!1}async setCachedEAIScore(t){this.getStrategy().cacheVisitor(t)}async setIsEAIDataCollected(t){this.getStrategy().cacheVisitor(void 0,t)}sendTroubleshooting(t){return this.getStrategy().sendTroubleshootingHit(t)}sendUsageHit(t){return this.getStrategy().sendUsageHit(t)}addInTrackingManager(t){return this.getStrategy().addInTrackingManager(t)}}function ve({flagDTO:t,config:i,visitorVariationState:e}){{if(!(i.isQAModeEnabled&&Zt()&&t&&e.forcedVariations))return;const s=e.forcedVariations[t.campaignId];if(!s)return;const{campaignId:a,campaignName:o,variationGroupId:n,variationGroupName:r,campaignType:h,CampaignSlug:c,variation:g}=s,d=g.modifications.value[t.key];return{key:t.key,campaignId:a,campaignName:o,variationGroupId:n,variationGroupName:r,variationId:g.id,variationName:g.name,isReference:!!g.reference,campaignType:h,slug:c,value:d}}}class me{_visitor;_key;_defaultValue;hasGetValueBeenCalled=!1;constructor(t){const{key:i,visitor:e}=t;this._key=i,this._visitor=e}exists(){if(!this._visitor)return!1;const t=this._visitor?.flagsData.get(this._key),i=ve({flagDTO:t,config:this._visitor.config,visitorVariationState:this._visitor.visitorVariationState})||t;return!!(i?.campaignId&&i?.variationId&&i?.variationGroupId)}get metadata(){if(!this._visitor)return de.Empty();const t=this._visitor.flagsData.get(this._key),i=ve({flagDTO:t,config:this._visitor.config,visitorVariationState:this._visitor.visitorVariationState});return this._visitor.getFlagMetadata({key:this._key,flag:i||t})}async visitorExposed(){if(!this._visitor)return;const t=this._visitor.flagsData.get(this._key),i=ve({flagDTO:t,config:this._visitor.config,visitorVariationState:this._visitor.visitorVariationState});return this._visitor.visitorExposed({key:this._key,flag:i||t,defaultValue:this._defaultValue,hasGetValueBeenCalled:this.hasGetValueBeenCalled})}getValue(t,i=!0){if(this._defaultValue=t,this.hasGetValueBeenCalled=!0,!this._visitor)return t;const e=this._visitor.flagsData.get(this._key),s=ve({flagDTO:e,config:this._visitor.config,visitorVariationState:this._visitor.visitorVariationState})||e;return this._visitor.sendExposedVariation(s),this._visitor.getFlagValue({key:this._key,defaultValue:t,flag:s,visitorExposed:i})}get status(){return this._visitor?.flagsStatus?.status===Pt.PANIC?Lt.PANIC:this.exists()?this._visitor?.flagsStatus?.status===Pt.FETCH_REQUIRED||this._visitor?.flagsStatus?.status===Pt.FETCHING?Lt.FETCH_REQUIRED:Lt.FETCHED:Lt.NOT_FOUND}}class Ce{_visitor;_keys=new Set;_flags;constructor(t){const{visitor:i,flags:e}=t;this._visitor=i,this._flags=e||new Map,0===this._flags.size?(this._keys=new Set(i?.flagsData.keys()),this._keys.forEach((t=>{this._flags.set(t,new me({key:t,visitor:i}))}))):this._keys=new Set(this._flags.keys())}get size(){return this._keys.size}get(t){const i=this._flags.get(t);return i||(this._visitor?.config&&$t(this._visitor.config,ft,'For the visitor \"{0}\", no flags were found with the key \"{1}\". Therefore, an empty flag has been returned.',this._visitor.visitorId,t),new me({key:t}))}has(t){return this._keys.has(t)}keys(){return this._keys}[Symbol.iterator](){let t=0;const i=Array.from(this._keys);return{next:()=>{if(t<i.length){const e=i[t++];return{value:[e,this._flags.get(e)],done:!1}}return{value:null,done:!0}}}}filter(t){const i=new Map;return this._flags.forEach(((e,s)=>{t(e,s,this)&&i.set(s,e)})),new Ce({visitor:this._visitor,flags:i})}async exposeAll(){await Promise.all(Array.from(this._flags.values(),(t=>t.visitorExposed())))}getMetadata(){const t=new Map;return this._flags.forEach(((i,e)=>{t.set(e,i.metadata)})),t}toJSON(){const t=[];return this._flags.forEach(((i,e)=>{const s=i.metadata;t.push({key:e,campaignId:s.campaignId,campaignName:s.campaignName,variationGroupId:s.variationGroupId,variationGroupName:s.variationGroupName,variationId:s.variationId,variationName:s.variationName,isReference:s.isReference,campaignType:s.campaignType,slug:s.slug,hex:ei({v:i.getValue(null,!1)})})})),t}forEach(t){this._flags.forEach(((i,e)=>{t(i,e,this)}))}}class Te extends _e{updateContext(t,i){this.getStrategy().updateContext(t,i),this.loadPredefinedContext()}clearContext(){this.getStrategy().clearContext()}getFlag(t){return this.flagsStatus.status!==Pt.FETCHED&&this.flagsStatus.status!==Pt.FETCHING&&$t(this.config,ft,function(t){let i=\"\";switch(t){case xt.FLAGS_NEVER_FETCHED:i=`Visitor \\`{0}\\` has been created ${L}`;break;case xt.UPDATE_CONTEXT:i=`Visitor context for visitor \\`{0}\\` has been updated ${L}`;break;case xt.AUTHENTICATE:i=`Visitor \\`{0}\\` has been authenticated ${L}`;break;case xt.UNAUTHENTICATE:i=`Visitor \\`{0}\\` has been unauthenticated ${L}`;break;case xt.FLAGS_FETCHING_ERROR:i='There was an error while fetching flags for visitor `{0}`. So the value of the flag `{1}` may be outdated\"';break;case xt.FLAGS_FETCHED_FROM_CACHE:i=\"Flags for visitor `{0}` have been fetched from cache\"}return i}(this.flagsStatus.reason),this.visitorId,t),new me({key:t,visitor:this})}getFlags(){return new Ce({visitor:this})}sendHit(t){return this.getStrategy().sendHit(t)}sendHits(t){return this.getStrategy().sendHits(t)}authenticate(t){this.getStrategy().authenticate(t),this.updateCache()}unauthenticate(){this.getStrategy().unauthenticate(),this.updateCache()}async fetchFlags(){await this.getStrategy().fetchFlags()}visitorExposed(t){return this.getStrategy().visitorExposed(t)}getFlagValue(t){return this.getStrategy().getFlagValue(t)}getFlagMetadata(t){return this.getStrategy().getFlagMetadata(t)}}class ye extends vi{_murmurHash;_sdkManager;get _bucketingContent(){return this._sdkManager.getBucketingContent()}constructor({httpClient:t,config:i,murmurHash:e,sdkManager:s,trackingManager:a,flagshipInstanceId:o}){super({httpClient:t,config:i,trackingManager:a,flagshipInstanceId:o}),this._murmurHash=e,this._sdkManager=s}async sendContext(t){try{if(Object.keys(t.context).length<=3||!t.hasConsented||!t.hasContextBeenUpdated)return;t.hasContextBeenUpdated=!1;const i=new Ci({context:t.context,visitorId:t.visitorId,anonymousId:t.anonymousId});await t.sendHit(i);const e=new _i({label:di.VISITOR_SEND_HIT,logLevel:s.INFO,traffic:t.traffic||0,visitorId:t.visitorId,visitorSessionId:t.instanceId,flagshipInstanceId:t.sdkInitialData?.instanceId,anonymousId:t.anonymousId,config:this.config,hitContent:i.toApiKeys()});t.segmentHitTroubleshooting=e}catch(t){Qt(this.config,t.message||t,\"sendContext\")}}async getThirdPartySegment(t){const i=qt(\"https://api-data-connector.flagship.io/accounts/{0}/segments/{1}\",this.config.envId,t),e=Date.now(),s={};try{const t=(await this._httpClient.getAsync(i,{nextFetchConfig:this.config.nextFetchConfig})).body;if(Array.isArray(t))for(const i of t)s[`${i.partner}::${i.segment}`]=i.value}catch(t){Qt(this.config,ii(t.message||t,{url:i,nextFetchConfig:this.config.nextFetchConfig,duration:Date.now()-e}),\"GET_THIRD_PARTY_SEGMENT\")}return s}async getCampaignsAsync(t){if(!this._bucketingContent)return null;const i=this._bucketingContent?.accountSettings?.troubleshooting;if(this.troubleshooting=void 0,i&&(this.troubleshooting={startDate:new Date(i.startDate),endDate:new Date(i.endDate),timezone:i.timezone,traffic:i.traffic}),this._bucketingContent.panic)return this.panic=!0,[];if(this.panic=!1,!this._bucketingContent.campaigns)return null;if(this.config.fetchThirdPartyData){const i=await this.getThirdPartySegment(t.visitorId);t.updateContext(i)}await this.sendContext(t);const e=[];return this._bucketingContent.campaigns.forEach((i=>{const s=this.getVisitorCampaigns(i.variationGroups,i.id,i.type,t);s&&(s.slug=i.slug??null,s.name=i.name,e.push(s))})),e}getVisitorCampaigns(t,i,e,s){for(const a of t){if(this.isMatchTargeting(a,s)){const t=this.getVariation(a,s);return t?{id:i,variation:t,variationGroupId:a.id,variationGroupName:a.name,type:e}:null}}return null}getVariation(t,i){const e=this._murmurHash.murmurHash3Int32(t.id+i.visitorId)%100;let s=0;for(const a of t.variations){const o=i.visitorCache?.data?.assignmentsHistory,n=o?o[t.id]:null;if(n){const e=t.variations.find((t=>t.id===n));if(!e)continue;return Jt(this.config,yt,\"Visitor {0}, Variation {1} selected from cache.\",i.visitorId,e.id),{id:e.id,name:e.name,modifications:e.modifications,reference:e.reference}}if(void 0!==a.allocation&&0!==a.allocation&&(s+=a.allocation,e<s))return Jt(this.config,yt,\"Visitor {0}, Variation {1} selected with allocation {2}.\",i.visitorId,a.id,s),{id:a.id,modifications:a.modifications,reference:a.reference,name:a.name}}return null}isMatchTargeting(t,i){return!!(t&&t.targeting&&t.targeting.targetingGroups)&&t.targeting.targetingGroups.some((t=>this.checkAndTargeting(t.targetings,i)))}isANDListOperator(t){return[\"NOT_EQUALS\",\"NOT_CONTAINS\"].includes(t)}checkAndTargeting(t,i){let e,s=!1;for(const{key:a,value:o,operator:n}of t){if(\"EXISTS\"===n){if(a in i.context){s=!0;continue}s=!1;break}if(\"NOT_EXISTS\"!==n)if(\"fs_all_users\"!==a){if(\"fs_users\"===a)e=i.visitorId;else{if(!(a in i.context)){s=!1;break}e=i.context[a]}if(s=this.testOperator(n,e,o),!s)break}else s=!0;else{if(a in i.context){s=!1;break}s=!0}}return s}testListOperatorLoop(t,i,e,s){let a=s;for(const o of e)if(a=this.testOperator(t,i,o),a!==s)break;return a}testListOperator(t,i,e){return this.isANDListOperator(t)?this.testListOperatorLoop(t,i,e,!0):this.testListOperatorLoop(t,i,e,!1)}testOperator(t,i,e){let s;if(Array.isArray(e))return this.testListOperator(t,i,e);switch(t){case\"EQUALS\":s=i===e;break;case\"NOT_EQUALS\":s=i!==e;break;case\"CONTAINS\":s=i.toString().includes(e.toString());break;case\"NOT_CONTAINS\":s=!i.toString().includes(e.toString());break;case\"GREATER_THAN\":s=i>e;break;case\"LOWER_THAN\":s=i<e;break;case\"GREATER_THAN_OR_EQUALS\":s=i>=e;break;case\"LOWER_THAN_OR_EQUALS\":s=i<=e;break;case\"STARTS_WITH\":s=i.toString().startsWith(e.toString());break;case\"ENDS_WITH\":s=i.toString().endsWith(e.toString());break;default:s=!1}return s}}class Ee extends Error{_statusCode;_headers;get headers(){return this._headers}get statusCode(){return this._statusCode}constructor(t,i,e){super(i),this._statusCode=t,this._headers=e}}class Ae{async getResponse(t){const i=t.headers.get(\"Content-Type\"),e=i?.includes(\"application/json\");let s;const a={};if(t.headers.forEach(((t,i)=>{a[i]=t})),e&&t.ok&&204!==t.status&&(s=await t.json()),t.status>=400){const i=await t.text();throw new Ee(t.status,i||t.statusText,a)}return{status:t.status,body:s,headers:a}}async getAsync(t,s){const a=new e,o=setTimeout((()=>a.abort()),1e3*(s?.timeout?s.timeout:2));try{const e=await i(t,{method:\"GET\",headers:s?.headers,signal:a.signal,keepalive:!0,next:s?.nextFetchConfig});return this.getResponse(e)}finally{clearTimeout(o)}}async postAsync(t,s){const a=new e,o=setTimeout((()=>a.abort()),s.timeout?1e3*s.timeout:2e3);try{const e=await i(t,{method:\"POST\",headers:s.headers,body:JSON.stringify(s.body),signal:a.signal,keepalive:!0,next:s?.nextFetchConfig});return this.getResponse(e)}finally{clearTimeout(o)}}}class Se extends ye{getCampaignsAsync(t){return super.getCampaignsAsync(t)}}class ke extends hi{constructor(t){super({...t,decisionMode:Ut.BUCKETING_EDGE})}}class Re{_httpClient;_config;_trackingManager;_intervalID;_lastModified;_isPooling;_EAIConfig;_bucketingContent;_lastBucketingTimestamp;_flagshipInstanceId;constructor({httpClient:t,sdkConfig:i,trackingManager:e,flagshipInstanceId:s}){this._httpClient=t,this._config=i,this._trackingManager=e,this._bucketingContent=i.initialBucketing,this._flagshipInstanceId=s,this._lastModified=\"\"}resetSdk(){this._intervalID&&clearInterval(this._intervalID),this._isPooling=!1,this._intervalID=void 0,this._lastModified=\"\",this._bucketingContent=void 0,this._EAIConfig=void 0,jt(this._config,\"Bucketing polling process has been stopped\",ht)}getBucketingContent(){return this._bucketingContent}async initSdk(){const t=1e3*this._config.pollingInterval;jt(this._config,\"Bucketing polling process has been started\",ht),await this.fetchBucketingFile(),0!==t&&(this._intervalID=setInterval((()=>{this.fetchBucketingFile()}),t))}getEAIConfig(){return this._EAIConfig}sendTroubleshooting(t,i,e,a){const o=new _i({visitorId:this._flagshipInstanceId,flagshipInstanceId:this._flagshipInstanceId,label:di.SDK_BUCKETING_FILE,traffic:0,logLevel:s.INFO,config:this._config,httpRequestHeaders:t,httpRequestMethod:\"POST\",httpRequestUrl:i,httpResponseBody:e?.body,httpResponseHeaders:e?.headers,httpResponseCode:e?.status,httpResponseTime:Date.now()-a});this._trackingManager.initTroubleshootingHit=o}sendErrorTroubleshooting(t,i,e,a){const o=new _i({visitorId:this._flagshipInstanceId,flagshipInstanceId:this._flagshipInstanceId,label:di.SDK_BUCKETING_FILE_ERROR,traffic:0,logLevel:s.INFO,config:this._config,httpRequestHeaders:t,httpRequestMethod:\"POST\",httpRequestUrl:i,httpResponseBody:e?.message,httpResponseHeaders:e?.headers,httpResponseCode:e?.statusCode,httpResponseTime:Date.now()-a});this._trackingManager.initTroubleshootingHit=o}handlePollingResponse(t){const{response:i}=t;200===i.status?(Jt(this._config,ht,\"Polling event with code status 200 : {0}\",i.body),this._bucketingContent=i.body,this._lastBucketingTimestamp=(new Date).toISOString(),this._EAIConfig={eaiCollectEnabled:!!this._bucketingContent?.accountSettings?.eaiActivationEnabled,eaiActivationEnabled:!!this._bucketingContent?.accountSettings?.eaiCollectEnabled},this.sendTroubleshooting(t.headers,t.url,i,t.now)):304===i.status&&Yt(this._config,\"Polling event with code status 304\",ht);const e=i?.headers?.[\"last-modified\"];e&&(this._lastModified!==e&&this._config.onBucketingUpdated&&this._config.onBucketingUpdated(new Date(e)),this._lastModified=e),this._isPooling=!1}async fetchBucketingFile(){if(this._isPooling)return;this._isPooling=!0;const t=qt(\"https://cdn.flagship.io/{0}/bucketing.json\",this._config.envId),i={[ot]:o.name,[nt]:o.version,[at]:rt},e=Date.now();try{this._lastModified&&(i[\"if-modified-since\"]=this._lastModified);const s=await this._httpClient.getAsync(t,{headers:i,timeout:this._config.timeout,nextFetchConfig:this._config.nextFetchConfig});this.handlePollingResponse({response:s,headers:i,url:t,now:e})}catch(s){this._isPooling=!1,Qt(this._config,ii(\"Polling event failed with error\",{url:t,headers:i,error:s,nextFetchConfig:this._config.nextFetchConfig,method:\"GET\",duration:Date.now()-e}),ht),this.sendErrorTroubleshooting(i,t,s,e)}}}class Ne{_httpClient;_config;_trackingManager;_bucketingContent;_flagshipInstanceId;constructor({httpClient:t,sdkConfig:i,trackingManager:e,flagshipInstanceId:s}){this._httpClient=t,this._config=i,this._trackingManager=e,this._bucketingContent=i.initialBucketing,this._flagshipInstanceId=s}resetSdk(){}getBucketingContent(){return this._bucketingContent}async initSdk(){}getEAIConfig(){}}class De{_httpClient;_config;_trackingManager;_EAIConfig;_flagshipInstanceId;constructor({httpClient:t,sdkConfig:i,trackingManager:e,flagshipInstanceId:s}){this._httpClient=t,this._config=i,this._trackingManager=e,this._flagshipInstanceId=s}resetSdk(){this._EAIConfig=void 0}getBucketingContent(){}sendTroubleshooting(t,i,e,a){const o=new _i({flagshipInstanceId:this._flagshipInstanceId,label:di.ACCOUNT_SETTINGS,logLevel:s.DEBUG,visitorId:this._flagshipInstanceId,config:this._config,accountSettings:t,traffic:0,httpRequestMethod:\"POST\",httpRequestUrl:i,httpResponseHeaders:e?.headers,httpResponseCode:e?.status,httpResponseTime:Date.now()-a});this._trackingManager.initTroubleshootingHit=o}sendErrorTroubleshooting(t,i,e){const a=new _i({visitorId:this._flagshipInstanceId,flagshipInstanceId:this._flagshipInstanceId,label:di.ACCOUNT_SETTINGS_ERROR,traffic:0,logLevel:s.ERROR,config:this._config,httpRequestMethod:\"POST\",httpRequestUrl:t,httpResponseBody:i?.message,httpResponseHeaders:i?.headers,httpResponseCode:i?.status,httpResponseTime:Date.now()-e});this._trackingManager.initTroubleshootingHit=a}async initSdk(){const t=Date.now(),i=qt(\"https://cdn.flagship.io/{0}/accountSettings.json\",this._config.envId);try{const e=await this._httpClient.getAsync(i);this._EAIConfig=e.body.accountSettings,this.sendTroubleshooting(e.body.accountSettings,i,e,t)}catch(e){Kt(this._config,\"Error while fetching EAI config: {0}\",e?.message||e),this.sendErrorTroubleshooting(i,e,t)}}getEAIConfig(){return this._EAIConfig}}class be{_EAIScore;_EAIScoreChecked;_httpClient;_sdkConfig;_eAIConfig;_isEAIDataCollecting;_fetchEAIScorePromise;_startScoringTimestamp;_scoringIntervalId;_onEAICollectStatusChange;_visitor;_startCollectingEAIDataTimestamp;constructor({httpClient:t,sdkConfig:i,eAIConfig:e}){this._EAIScoreChecked=!1,this._httpClient=t,this._sdkConfig=i,this._eAIConfig=e,this._isEAIDataCollecting=!1}init(t){this._visitor=t}onEAICollectStatusChange(t){this._onEAICollectStatusChange=t}get EAIScore(){return this._EAIScore}get EAIScoreChecked(){return this._EAIScoreChecked}setIsEAIDataCollected(t){return this._visitor.setIsEAIDataCollected(t)}isEAIDataCollected(){return this._visitor.isEAIDataCollected()}sendEAIScoreTroubleshooting(t,i){const e=new _i({flagshipInstanceId:this._visitor.sdkInitialData?.instanceId,visitorId:this._visitor.visitorId,label:di.EMOTION_AI_SCORE_FROM_LOCAL_CACHE,logLevel:s.DEBUG,eAIScore:t,isEAIScoreFromLocalCache:!0,config:this._sdkConfig,httpRequestUrl:i,traffic:this._visitor.traffic});this._visitor.sendTroubleshooting(e)}sendRequestTroubleshooting(t,i,e,a=\"GET\",o,n){const r=new _i({flagshipInstanceId:this._visitor.sdkInitialData?.instanceId,visitorId:this._visitor.visitorId,label:i,logLevel:s.DEBUG,hitContent:o,eAIScore:n,httpResponseBody:t.body,httpRequestMethod:a,httpRequestUrl:e,httpResponseCode:t.status,httpResponseHeaders:t.headers,traffic:this._visitor.traffic,config:this._sdkConfig});this._visitor.sendTroubleshooting(r)}sendRequestTroubleshootingError(t,i,e,a){const o=new _i({flagshipInstanceId:this._visitor.sdkInitialData?.instanceId,visitorId:this._visitor.visitorId,label:i,logLevel:s.ERROR,httpRequestMethod:\"GET\",httpRequestUrl:e,hitContent:a,traffic:this._visitor.traffic,httpResponseBody:t?.message,httpResponseHeaders:t?.headers,httpResponseCode:t?.statusCode,config:this._sdkConfig});this._visitor.sendTroubleshooting(o)}sendCollectingTroubleshooting(t,i,e){const a=new _i({flagshipInstanceId:this._visitor.sdkInitialData?.instanceId,visitorId:this._visitor.visitorId,label:i,logLevel:s.DEBUG,eAIDataTimestamp:new Date(t).toISOString(),config:this._sdkConfig,eAIScore:e,traffic:this._visitor.traffic});this._visitor.sendTroubleshooting(a)}sendCollectingUsageHit(t){const i=new xi({visitorId:this._visitor.sdkInitialData?.instanceId,label:t,config:this._sdkConfig,logLevel:s.DEBUG});this._visitor.sendUsageHit(i)}async fetchEAIScore(t=!1){if(!this._eAIConfig?.eaiActivationEnabled)return;if(this._EAIScoreChecked)return this._EAIScore;const i=await this._visitor.getCachedEAIScore();if(i)return this._EAIScore=i,this._EAIScoreChecked=!0,this._visitor.context[b]=this._EAIScore?.eai?.eas,this.sendEAIScoreTroubleshooting(this._EAIScore),this._EAIScore;if(this._fetchEAIScorePromise)return await this._fetchEAIScorePromise,this._EAIScore;const e=this._visitor.visitorId,s=`${qt(\"https://uc-info.flagship.io/v1/segments/clients/{0}/visitors/{1}\",this._sdkConfig.envId,e)}?partner=eai${t?`&v=${Date.now()}`:\"\"}`;try{this._fetchEAIScorePromise=this._httpClient.getAsync(s);const t=await this._fetchEAIScorePromise;this._EAIScore=t.body,this._EAIScoreChecked=!0,this.sendRequestTroubleshooting(t,di.EMOTION_AI_SCORE,s,\"GET\",void 0,this._EAIScore),this._EAIScore&&(this._visitor.setCachedEAIScore(this._EAIScore),this._visitor.updateContext(b,this._EAIScore?.eai?.eas)),Jt(this._sdkConfig,D,\"visitor {0}, EAIScore fetched: {1}\",e,this._EAIScore)}catch(t){Kt(this._sdkConfig,D,\"visitor {0}, Failed to fetch EAIScore: {1}\",e,t.message),this.sendRequestTroubleshootingError(t,di.EMOTION_AI_SCORE_ERROR,s)}finally{this._fetchEAIScorePromise=void 0}return this._EAIScore}async collectEAIEventsAsync(t){if(this._isEAIDataCollecting||!this._eAIConfig?.eaiCollectEnabled)return;const i=await this.isEAIDataCollected();if(!this._eAIConfig.eaiActivationEnabled&&i)return;if(await this.fetchEAIScore())return;const e=this._visitor.visitorId;await this.startCollectingEAIData(e,t)}async reportPageView(t){if(this._isEAIDataCollecting)return this.sendEAIEvent(t)}async sendEAIEvent(t){const i=t.toApiKeys();try{const e=await this._httpClient.postAsync(R,{body:i,headers:{[at]:rt}}),s=\"PAGEVIEW\"===i.t?di.EMOTION_AI_PAGE_VIEW:di.EMOTION_AI_VISITOR_EVENT;this.sendRequestTroubleshooting(e,s,R,\"POST\",t.toApiKeys()),Jt(this._sdkConfig,N,\"Emotion AI event sent: {0}\",t.toApiKeys())}catch(t){const e=\"PAGEVIEW\"===i.t?di.EMOTION_AI_PAGE_VIEW_ERROR:di.EMOTION_AI_VISITOR_EVENT_ERROR;this.sendRequestTroubleshootingError(t,e,R,i),Kt(this._sdkConfig,N,\"Failed to send Emotion AI event: {0}\",t.message)}}finalizeDataCollection(t){this._scoringIntervalId&&(clearInterval(this._scoringIntervalId),this._scoringIntervalId=void 0),this._isEAIDataCollecting=!1,this.setIsEAIDataCollected(t)}stopCollectingEAIData(){if(this.sendCollectingTroubleshooting(Date.now(),di.EMOTION_AI_STOP_COLLECTING),this.sendCollectingUsageHit(di.EMOTION_AI_STOP_COLLECTING),this.removeListeners(),!this._eAIConfig?.eaiActivationEnabled)return this._isEAIDataCollecting=!1,void this.setIsEAIDataCollected(!0);this._startScoringTimestamp=Date.now(),this.sendCollectingTroubleshooting(this._startScoringTimestamp,di.EMOTION_AI_START_SCORING),this._scoringIntervalId=setInterval((async()=>{if(Date.now()-this._startScoringTimestamp>12e4)return this.sendCollectingTroubleshooting(Date.now(),di.EMOTION_AI_SCORING_FAILED),void this.finalizeDataCollection(!1);this._EAIScoreChecked=!1;const t=await this.fetchEAIScore(!0);t&&(this.sendCollectingTroubleshooting(Date.now(),di.EMOTION_AI_SCORING_SUCCESS,t),this.finalizeDataCollection(!0))}),5e3)}async reportVisitorEvent(t){if(!this._isEAIDataCollecting)return;const i=Date.now()-this._startCollectingEAIDataTimestamp;i<=3e4?this.sendEAIEvent(t):i<=12e4?(this.sendEAIEvent(t),this.stopCollectingEAIData()):(this.removeListeners(),this._isEAIDataCollecting=!1,this.setIsEAIDataCollected(!1))}}class Oe{_customerAccountId;_visitorId;_hasAdBlocker;_screenDepth;_screenSize;_doNotTrack;_fonts;_hasFakeBrowserInfos;_hasFakeLanguageInfos;_hasFakeOsInfos;_hasFakeResolutionInfos;_userLanguage;_deviceCategory;_pixelRatio;_plugins;_documentReferer;_viewportSize;_touchSupport;_currentUrl;_userAgent;_customerUserId;_timezoneOffset;_eventCategory;get customerAccountId(){return this._customerAccountId}get visitorId(){return this._visitorId}get hasAdBlocker(){return this._hasAdBlocker}get screenDepth(){return this._screenDepth}get screenSize(){return this._screenSize}get doNotTrack(){return this._doNotTrack}get fonts(){return this._fonts}get hasFakeBrowserInfos(){return this._hasFakeBrowserInfos}get hasFakeLanguageInfos(){return this._hasFakeLanguageInfos}get hasFakeOsInfos(){return this._hasFakeOsInfos}get hasFakeResolutionInfos(){return this._hasFakeResolutionInfos}get userLanguage(){return this._userLanguage}get deviceCategory(){return this._deviceCategory}get pixelRatio(){return this._pixelRatio}get plugins(){return this._plugins}get documentReferer(){return this._documentReferer}get viewportSize(){return this._viewportSize}get touchSupport(){return this._touchSupport}get currentUrl(){return this._currentUrl}get userAgent(){return this._userAgent}get customerUserId(){return this._customerUserId}get timezoneOffset(){return this._timezoneOffset}get eventCategory(){return this._eventCategory}constructor({customerAccountId:t,visitorId:i,hasAdBlocker:e,screenDepth:s,screenSize:a,doNotTrack:o,fonts:n,hasFakeBrowserInfos:r,hasFakeLanguageInfos:h,hasFakeOsInfos:c,hasFakeResolutionInfos:g,userLanguage:d,deviceCategory:l,pixelRatio:u,plugins:f,documentReferer:I,viewportSize:p,touchSupport:_,currentUrl:v,userAgent:m,customerUserId:C,timezoneOffset:T,eventCategory:y}){this._customerAccountId=t,this._visitorId=i,this._hasAdBlocker=e,this._screenDepth=s,this._screenSize=a,this._doNotTrack=o,this._fonts=n,this._hasFakeBrowserInfos=r,this._hasFakeLanguageInfos=h,this._hasFakeOsInfos=c,this._hasFakeResolutionInfos=g,this._userLanguage=d,this._deviceCategory=l,this._pixelRatio=u,this._plugins=f,this._documentReferer=I,this._viewportSize=p,this._touchSupport=_,this._currentUrl=v,this._userAgent=m,this._customerUserId=C,this._timezoneOffset=T,this._eventCategory=y}toApiKeys(){const t={cid:this._customerAccountId,vid:this._visitorId,adb:this._hasAdBlocker,sd:this._screenDepth,sr:this._screenSize,dnt:this._doNotTrack,fnt:this._fonts,hlb:this._hasFakeBrowserInfos,hll:this._hasFakeLanguageInfos,hlo:this._hasFakeOsInfos,hlr:this._hasFakeResolutionInfos,ul:this._userLanguage,dc:this._deviceCategory,pxr:this._pixelRatio,dr:this._documentReferer,vp:this._viewportSize,tof:this._timezoneOffset,tsp:this._touchSupport,dl:this._currentUrl,ua:this._userAgent,ec:this._eventCategory,t:\"PAGEVIEW\"};return this._plugins&&(t.plu=this._plugins),this._customerUserId&&(t.cuid=this._customerUserId),t}}var we=Object.freeze({__proto__:null,PageView:Oe});class Me{_customerAccountId;_visitorId;_currentUrl;_clickPath;_clickPosition;_screenSize;_scrollPosition;get customerAccountId(){return this._customerAccountId}get visitorId(){return this._visitorId}get currentUrl(){return this._currentUrl}get clickPath(){return this._clickPath}get clickPosition(){return this._clickPosition}get screenSize(){return this._screenSize}get scrollPosition(){return this._scrollPosition}constructor({customerAccountId:t,visitorId:i,currentUrl:e,clickPath:s,clickPosition:a,screenSize:o,scrollPosition:n}){this._customerAccountId=t,this._visitorId=i,this._currentUrl=e,this._clickPath=s,this._clickPosition=a,this._screenSize=o,this._scrollPosition=n}toApiKeys(){const t={cid:this._customerAccountId,vid:this._visitorId,dl:this._currentUrl,sr:this._screenSize,t:\"VISITOREVENT\"};return this._clickPath&&(t.cp=this._clickPath),this._clickPosition&&(t.cpo=this._clickPosition),this._scrollPosition&&(t.sp=this._scrollPosition),t}}var He,Ve,Fe=Object.freeze({__proto__:null,VisitorEvent:Me});class xe extends be{onScroll;onMouseMove;onMouseDown;onMouseUp;onPopState;_originalPushState;_originalReplaceState;_clickPath=\"\";scrollTimeoutId=null;scrollEndDelay=200;_clickPathTimeoutId=null;_lastPageViewLocation;constructor(t){super(t),this._originalPushState=window.history.pushState,this._originalReplaceState=window.history.replaceState}cleanup(){this.removeListeners(),this._isEAIDataCollecting=!1,clearInterval(this._scoringIntervalId)}getDeviceCategory(){const t=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?\"iphone\":/android/.test(t)?\"android\":/windows nt/.test(t)?\"win32\":/macintosh|mac os x/.test(t)?\"darwin\":/linux/.test(t)?/armv8l/.test(t)?\"linux armv8l\":\"linux\":\"unknown\"}async processPageView(t){if(this._lastPageViewLocation===window.location.href)return;this._lastPageViewLocation=window.location.href;const i=navigator.maxTouchPoints||0,e=\"ontouchstart\"in window,s=\"ontouchstart\"in window||\"onmsgesturechange\"in window,a=JSON.stringify([i,e,s]),o=new Oe({visitorId:t,customerAccountId:this._sdkConfig.envId,currentUrl:window.location.href,hasAdBlocker:!1,screenDepth:`${window.screen.colorDepth}`,screenSize:`${window.innerWidth},${window.innerHeight};`,doNotTrack:navigator.doNotTrack||\"unspecified\",fonts:\"[]\",hasFakeBrowserInfos:!1,hasFakeLanguageInfos:!1,hasFakeOsInfos:!1,hasFakeResolutionInfos:!1,userLanguage:navigator.language,deviceCategory:this.getDeviceCategory(),pixelRatio:window.devicePixelRatio,documentReferer:document.referrer,viewportSize:`[${document.documentElement.clientWidth},${document.documentElement.clientHeight}]`,timezoneOffset:(new Date).getTimezoneOffset(),touchSupport:a,eventCategory:\"click tunnel auto\",userAgent:navigator.userAgent});await this.reportPageView(o)}async startCollectingEAIData(t){this._isEAIDataCollecting=!0,await this.processPageView(t),this._startCollectingEAIDataTimestamp=Date.now(),this.sendCollectingTroubleshooting(this._startCollectingEAIDataTimestamp,di.EMOTION_AI_START_COLLECTING),this.sendCollectingUsageHit(di.EMOTION_AI_START_COLLECTING);let i=null;this.onScroll=()=>this.handleScroll(t),this.onMouseMove=i=>this.handleMouseMove(i,t),this.onMouseDown=()=>{i=Date.now()},this.onMouseUp=e=>{if(i){const s=Date.now()-i;this.handleClick(e,t,s),i=null}},this.onPopState=()=>{this.processPageView(t)},oi((()=>{window.history.pushState=(...i)=>{this._originalPushState.apply(window.history,i),this.processPageView(t)},window.history.replaceState=(...i)=>{this._originalReplaceState.apply(window.history,i),this.processPageView(t)},window.addEventListener(\"scroll\",this.onScroll),document.addEventListener(\"mousemove\",this.onMouseMove),document.addEventListener(\"mousedown\",this.onMouseDown),document.addEventListener(\"mouseup\",this.onMouseUp),window.addEventListener(\"popstate\",this.onPopState)}))}removeListeners(){oi((()=>{window.removeEventListener(\"scroll\",this.onScroll),document.removeEventListener(\"mousemove\",this.onMouseMove),document.removeEventListener(\"mousedown\",this.onMouseDown),document.removeEventListener(\"mouseup\",this.onMouseUp),window.removeEventListener(\"popstate\",this.onPopState),window.history.pushState=this._originalPushState,window.history.replaceState=this._originalReplaceState})),null!==this.scrollTimeoutId&&(clearTimeout(this.scrollTimeoutId),this.scrollTimeoutId=null),null!==this._clickPathTimeoutId&&(clearTimeout(this._clickPathTimeoutId),this._clickPathTimeoutId=null)}onScrollEnd(t){const i=Date.now().toString().slice(-5),e=`${window.scrollY},${i};`,s=new Me({visitorId:t,customerAccountId:this._sdkConfig.envId,scrollPosition:e,screenSize:`${window.innerWidth},${window.innerHeight};`,currentUrl:window.location.href});this.reportVisitorEvent(s)}handleScroll=t=>{null!==this.scrollTimeoutId&&clearTimeout(this.scrollTimeoutId),this.scrollTimeoutId=window.setTimeout((()=>{this.onScrollEnd(t),this.scrollTimeoutId=null}),200)};sendClickPath(t){const i=new Me({visitorId:t,customerAccountId:this._sdkConfig.envId,clickPath:this._clickPath,screenSize:`${window.innerWidth},${window.innerHeight};`,currentUrl:window.location.href});this._clickPath=\"\",this.reportVisitorEvent(i)}handleMouseMove=(t,i)=>{null!==this._clickPathTimeoutId&&clearTimeout(this._clickPathTimeoutId),this._clickPath+=`${t.clientX},${t.clientY},${Date.now().toString().slice(-5)};`,this._clickPath.length>=1900?this.sendClickPath(i):this._clickPathTimeoutId=window.setTimeout((()=>{this.sendClickPath(i)}),500)};handleClick=(t,i,e)=>{const s=Date.now().toString().slice(-5),a=new Me({visitorId:i,customerAccountId:this._sdkConfig.envId,clickPosition:`${t.clientX},${t.clientY},${s},${e};`,screenSize:`${window.innerWidth},${window.innerHeight};`,currentUrl:window.location.href});this.reportVisitorEvent(a)}}class Pe{_sdkConfig;constructor(t){this._sdkConfig=t}saveVisitorProfile(t){try{if(!t)return void localStorage.removeItem(O);localStorage.setItem(O,JSON.stringify(t))}catch(t){Kt(this._sdkConfig,\"VisitorProfileCache.saveVisitorProfile\",t?.message)}}loadVisitorProfile(){try{const t=localStorage.getItem(O);return t?JSON.parse(t):null}catch(t){Kt(this._sdkConfig,\"VisitorProfileCache.loadVisitorProfile\",t?.message)}return null}}!function(t){t.ABT_TAG_TRACK_ACTION=\"ABT_TAG_TRACK_ACTION\",t.ABT_WEB_SDK_TRACK_ACTION=\"ABT_WEB_SDK_TRACK_ACTION\"}(He||(He={})),function(t){t.Event=\"Event\",t.Item=\"Item\",t.Page=\"Page\",t.Screen=\"Screen\",t.Transaction=\"Transaction\",t.Segment=\"Segment\",t.Activate=\"Activate\",t.Troubleshooting=\"Troubleshooting\",t.UsageHit=\"UsageHit\",t.ActivateBatch=\"ActivateBatch\",t.Batch=\"Batch\",t.HitAbstract=\"HitAbstract\",t.Diagnostic=\"Diagnostic\"}(Ve||(Ve={}));class Le{visitor=null;onMessageReceived;trustedNonces;initTimestamp;sdkConfig;constructor({sdkConfig:t}){this.trustedNonces={},this.sdkConfig=t}generateNonce(){if(!Zt()||!this.visitor||!this.visitor.hasConsented)return;const t=Math.random().toString(36).substring(2)+Date.now().toString(36);return this.trustedNonces[t]=!1,t}initialize(t){this.visitor=t,this.initTimestamp=Date.now(),Zt()&&(this.onMessageReceived&&window?.removeEventListener(\"message\",this.onMessageReceived),this.onMessageReceived=t=>{this.handleMessage(t)},window?.addEventListener(\"message\",this.onMessageReceived))}async processHit(t){if(t?.ec!==Ti.ACTION_TRACKING||!t.ea)return void Jt(this.sdkConfig,wt,\"Invalid hit data: {0}\",t);const i=new yi({category:t.ec,action:t.ea,label:t.el,value:t.ev,visitorId:this.visitor?.visitorId,anonymousId:this.visitor?.anonymousId,isActionTrackingHit:!0});this.visitor?.addInTrackingManager(i),Jt(this.sdkConfig,wt,\"Hit received: {0}\",t)}handleMessage(t){if(!t?.data||t?.origin!==window.location.origin||!this.visitor?.hasConsented)return;const i=t.data;if(i.action!==He.ABT_TAG_TRACK_ACTION||!i.nonce)return;const{nonce:e}=i;if(void 0===this.trustedNonces[e]||this.trustedNonces[e])return void Jt(this.sdkConfig,wt,\"Invalid nonce: {0}\",e);this.trustedNonces[e]=!0;const s=i.data;if(s&&s.length)for(const t of s)this.processHit(t)}dispatchEventHits(t){if(!this.shouldProcessHits(t))return;const i=this.getNonce();if(!i)return;const e=this.filterHitsToDispatch(t);e.length&&this.postHits(e,i)}shouldProcessHits(t){return Zt()&&!!this.visitor&&!!t&&t.length>0}getNonce(){return window.ABTasty?.api?.internal?._getActionTrackingNonce?.()}filterHitsToDispatch(t){return t.filter((t=>{const i=this.initTimestamp&&t.createdAt>=this.initTimestamp,e=t.visitorId===this.visitor?.visitorId||t.visitorId===this.visitor?.anonymousId;return t.data.ec===Ti.ACTION_TRACKING&&i&&e})).map((t=>t.data))}postHits(t,i){const e={action:He.ABT_WEB_SDK_TRACK_ACTION,data:t,nonce:i,timestamp:Date.now()};window?.postMessage(e,window.location.origin),Jt(this.sdkConfig,wt,\"action tracking hits have been dispatched {0}\",t)}}class Ue{sharedActionTracking;visitor;constructor({sharedActionTracking:t}){this.sharedActionTracking=t}setVisitor(t){this.visitor=t}getApiV1(){return{_getActionTrackingNonce:()=>this.sharedActionTracking?.generateNonce(),_getVisitorId:()=>!0!==this.visitor?.isClientSuppliedID?this.visitor?.visitorId:void 0}}}class Ge{static _instance;_configManager;_config;_status;_visitorInstance;instanceId;lastInitializationTimestamp;_sdkManager;static visitorProfile;static onSaveVisitorProfile;_sdkApi;_visitorVariationState;set configManager(t){this._configManager=t}get configManager(){return this._configManager}constructor(){this.instanceId=ti(),this._status=Ht.SDK_NOT_INITIALIZED;const t=Ge;t.setVisitorProfile=function(t){Ge.visitorProfile=t},t.getVisitorProfile=function(){return Ge.visitorProfile},t.setOnSaveVisitorProfile=function(t){Ge.onSaveVisitorProfile=t},t.getOnSaveVisitorProfile=function(){return Ge.onSaveVisitorProfile},this._visitorVariationState={}}static getInstance(){return this._instance||(this._instance=new this),this._instance}setStatus(t){if(this._status===t)return;this._status=t,_e.SdkStatus=t;const i=this.getConfig()?.onSdkStatusChanged;Wt(this._config,\"SDK STATUS\",\"SDK status has changed:  {0}\",Ht[t]),this.getConfig().decisionMode!==Ut.BUCKETING_EDGE&&(t===Ht.SDK_INITIALIZED&&this.configManager?.trackingManager?.startBatchingLoop(),t===Ht.SDK_NOT_INITIALIZED&&this.configManager?.trackingManager?.stopBatchingLoop()),i&&i(t)}static getStatus(){return this.getInstance()._status}getStatus(){return this._status}static getConfig(){return this.getInstance()._config}getConfig(){return this._config}getVisitor(){return this._visitorInstance}static getVisitor(){return this.getInstance().getVisitor()}buildConfig(t){let i;switch(t?.decisionMode){case Ut.BUCKETING:i=new gi(t);break;case Ut.BUCKETING_EDGE:i=new ke(t);break;default:i=new ci(t)}return i}createManagers(t,i,e){let s;switch(i.decisionMode){case Ut.BUCKETING:return s=new Re({httpClient:t,sdkConfig:i,trackingManager:e,flagshipInstanceId:this.instanceId}),{sdkManager:s,decisionManager:new ye({httpClient:t,config:i,murmurHash:new pe,sdkManager:s,trackingManager:e,flagshipInstanceId:this.instanceId})};case Ut.BUCKETING_EDGE:return s=new Ne({httpClient:t,sdkConfig:i,trackingManager:e,flagshipInstanceId:this.instanceId}),{sdkManager:s,decisionManager:new Se({httpClient:t,config:i,murmurHash:new pe,sdkManager:s,trackingManager:e,flagshipInstanceId:this.instanceId})};default:return s=new De({httpClient:t,sdkConfig:i,trackingManager:e,flagshipInstanceId:this.instanceId}),{sdkManager:s,decisionManager:new mi({trackingManager:e,httpClient:t,config:i,flagshipInstanceId:this.instanceId})}}}buildSdkApi(t,i){this._sdkApi=new Ue({sharedActionTracking:t}),window.ABTastyWebSdk={envId:i.envId,internal:this._sdkApi.getApiV1()}}sendInitializedPostMessage(){oi((()=>{window.postMessage({action:ui.AB_TASTY_WEB_SDK_INITIALIZED},\"*\")}))}async initializeSdk(t){this.setStatus(Ht.SDK_INITIALIZING),this._sdkManager?.resetSdk();let i=this.configManager?.sharedActionTracking;!i&&Zt()&&(i=new Le({sdkConfig:t}),this.buildSdkApi(i,t));const e=new Ae,s=this.configManager?.trackingManager||new Vi(e,t,this.instanceId,i),{sdkManager:a,decisionManager:o}=this.createManagers(e,t,s);this._sdkManager=a,o.statusChangedCallback(this.setStatus.bind(this)),o.flagshipInstanceId=this.instanceId,this.configManager=new Bt(t,o,s,i),await(this._sdkManager?.initSdk()),this.setStatus(Ht.SDK_INITIALIZED)}static async start(t,i,e){const s=this.getInstance(),a=s.buildConfig(e);return a.envId=t,a.apiKey=i,s._config=a,a.onLog||a.logManager||(a.logManager=new Fi),t&&i?(Jt(a,G,\"Flagship SDK version {0} is starting in {1} mode with config {2}\",o.version,a.decisionMode,a),!a.hitCacheImplementation&&Zt()&&(a.hitCacheImplementation=new Li),!a.visitorCacheImplementation&&Zt()&&(a.visitorCacheImplementation=new Gi),await s.initializeSdk(a),jt(a,qt(\"Flagship SDK (version: {0}) {1} in **{2}** mode\",o.version,Ht[s._status],a.decisionMode),G),__webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_flagship_io_js-sdk_dist_chunks_browser_esm_DB4bC5Bl_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./DB4bC5Bl.js */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/DB4bC5Bl.js\")).then((t=>{t.launchQaAssistant(a,s._visitorVariationState)})),s.lastInitializationTimestamp=(new Date).toISOString(),s.sendInitializedPostMessage(),s):(s.setStatus(Ht.SDK_NOT_INITIALIZED),Qt(a,V,G),s)}async close(){await Ge.close()}static async close(){await(this._instance?.configManager?.trackingManager?.sendBatch())}newVisitor(t){return Ge.newVisitor(t)}initializeConfigManager(){const t=new ci;t.logManager=new Fi;const i=new Ae,e=new Vi(i,t),s=new mi({httpClient:i,config:t,trackingManager:e});this._config=t,this.configManager=new Bt(t,s,e)}static newVisitor({visitorId:t,context:i,isAuthenticated:e,hasConsented:s,initialCampaigns:a,initialFlagsData:o,shouldSaveInstance:n,onFlagsStatusChanged:r}){const h=n??Zt(),c=this.getInstance();c.configManager||(c.initializeConfigManager(),Qt(c.getConfig(),U,q));const g=c.getConfig(),d=c.configManager;void 0===s&&zt(g,\"Consent has not been specified. By default, consent is set to false, which may result in some features being deactivated.\",q);const l=new xe({sdkConfig:g,httpClient:new Ae,eAIConfig:c._sdkManager?.getEAIConfig()}),u=new Pe(g),f=new Te({visitorId:t,context:i||{},isAuthenticated:e??!1,hasConsented:s??!1,configManager:d,initialCampaigns:a,initialFlagsData:o,onFlagsStatusChanged:r,emotionAi:l,visitorProfileCache:u,monitoringData:{instanceId:this.getInstance().instanceId,lastInitializationTimestamp:this.getInstance().lastInitializationTimestamp,initialCampaigns:a,initialFlagsData:o},murmurHash:new pe,visitorVariationState:c._visitorVariationState});oi((()=>{Zt()&&(c._sdkApi?.setVisitor(f),d.sharedActionTracking&&d.sharedActionTracking.initialize(f))}));const I=new Gt(f);return this.getInstance()._visitorInstance=h?I:void 0,h&&Jt(g,q,\"Visitor {0} has been saved in SDK instance\",I.visitorId),g.fetchNow&&g.decisionMode!==Ut.BUCKETING_EDGE&&I.fetchFlags(),I}}\n//# sourceMappingURL=nsX90zke.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vanMtc2RrL2Rpc3QvY2h1bmtzL2Jyb3dzZXIvZXNtL25zWDkwemtlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzQyw0Q0FBNEMsTUFBTSxhQUFhLDhOQUE4TixTQUFTLEdBQUcsbUJBQW1CLDRCQUE0QixrNUJBQWs1QixFQUFFLHFCQUFxQixHQUFHLFdBQVcsRUFBRSxjQUFjLEVBQUUsVUFBVSxHQUFHLHFDQUFxQyxFQUFFLGlHQUFpRyxFQUFFLHlIQUF5SCxFQUFFLGlUQUFpVCxFQUFFLFlBQVksRUFBRSw0Q0FBNEMsRUFBRSw0Q0FBNEMsRUFBRSxvQkFBb0IsRUFBRSxnRkFBZ0YsRUFBRSw0Q0FBNEMsRUFBRSxzQkFBc0IsR0FBRyxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSx5SUFBeUksRUFBRSwwQkFBMEIsRUFBRSxtREFBbUQsRUFBRSxnQkFBZ0IsR0FBRyxzR0FBc0csRUFBRSxnQkFBZ0IsRUFBRSxrRUFBa0UsRUFBRSxxREFBcUQsRUFBRSw4R0FBOEcsRUFBRSxlQUFlLEVBQUUsaUJBQWlCLEVBQUUsaURBQWlELEVBQUUsR0FBRyxHQUFHLG9CQUFvQixFQUFFLE9BQU8sR0FBRyxvQkFBb0IsRUFBRSw2QkFBNkIsR0FBRywyQkFBMkIsRUFBRSxPQUFPLEdBQUcsaUJBQWlCLEVBQUUscVRBQXFULHlCQUF5QixhQUFhLGtLQUFrSyxXQUFXLGVBQWUsb0pBQW9KLFdBQVcsZUFBZSwwRkFBMEYsV0FBVyxlQUFlLGdRQUFnUSxXQUFXLGVBQWUsNEZBQTRGLFdBQVcsZUFBZSw4RkFBOEYsV0FBVyxHQUFHLGlCQUFpQixnREFBQyxDQUFDLGdCQUFnQixTQUFTLGVBQWUsaURBQWlELGVBQWUsMENBQTBDLGFBQWEsMEJBQTBCLDRDQUE0Qyx1QkFBdUIsd0NBQXdDLGdDQUFnQyxr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QUFHLGtCQUFrQixFQUFFLHNPQUFzTyxFQUFFLEdBQUcsR0FBRyxNQUFNLEVBQUUsb0RBQW9ELHNTQUF1QixXQUFXLGdEQUFnRCw4SUFBOEksY0FBYyxpQkFBaUIscUJBQXFCLG1FQUFtRSxjQUFjLHdCQUF3QiwwQkFBMEIsZUFBZSxvQkFBb0IsdUNBQXVDLHdDQUF3QyxFQUFFLGdEQUFnRCxtQkFBbUIseUlBQXlJLEVBQUUscUNBQXFDLHFFQUFxRSx3Q0FBd0MsZ0pBQWdKLGdCQUFnQixzRUFBc0Usd0JBQXdCLHlCQUF5Qix5S0FBeUssMEpBQTBKLGtFQUFrRSxFQUFFLFNBQVMsOEZBQThGLEdBQUcsa0JBQWtCLDBFQUEwRSxHQUFHLCtHQUFzakI7QUFDOXk4SSIsInNvdXJjZXMiOlsiL1VzZXJzL3ZhbGVyaWFuLmthcnNlbnR5L0RvY3VtZW50cy9BcHAvbXktbmV4dGpzLWFwcC9ub2RlX21vZHVsZXMvQGZsYWdzaGlwLmlvL2pzLXNkay9kaXN0L2NodW5rcy9icm93c2VyL2VzbS9uc1g5MHprZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7RXZlbnRFbWl0dGVyIGFzIHR9ZnJvbVwiZXZlbnRzXCI7Y29uc3QgaT0odCxpKT0+ZmV0Y2godCxpKSxlPUFib3J0Q29udHJvbGxlcjt2YXIgczshZnVuY3Rpb24odCl7dFt0Lk5PTkU9MF09XCJOT05FXCIsdFt0LkVNRVJHRU5DWT0xXT1cIkVNRVJHRU5DWVwiLHRbdC5BTEVSVD0yXT1cIkFMRVJUXCIsdFt0LkNSSVRJQ0FMPTNdPVwiQ1JJVElDQUxcIix0W3QuRVJST1I9NF09XCJFUlJPUlwiLHRbdC5XQVJOSU5HPTVdPVwiV0FSTklOR1wiLHRbdC5OT1RJQ0U9Nl09XCJOT1RJQ0VcIix0W3QuSU5GTz03XT1cIklORk9cIix0W3QuREVCVUc9OF09XCJERUJVR1wiLHRbdC5BTEw9OV09XCJBTExcIn0oc3x8KHM9e30pKTtjb25zdCBhPVwiNS4xLjJcIixvPXtuYW1lOlwiVHlwZVNjcmlwdFwiLHZlcnNpb246YX0sbj0yNWU1LHI9XCJodHRwczovL2RlY2lzaW9uLmZsYWdzaGlwLmlvL3YyL1wiLGg9XCJodHRwczovL2V2ZW50cy5mbGFnc2hpcC5pb1wiLGM9XCJodHRwczovL2V2ZW50cy5mbGFnc2hpcC5pby90cm91Ymxlc2hvb3RpbmdcIixnPVwiaHR0cHM6Ly9ldmVudHMuZmxhZ3NoaXAuaW8vYW5hbHl0aWNzXCIsZD1cImFjdGl2YXRlXCIsbD1cImh0dHBzOi8vcWEtYXNzaXN0YW50LmZsYWdzaGlwLmlvL2J1bmRsZS5qc1wiLHU9XCJodHRwczovL3N0YWdpbmctcWEtYXNzaXN0YW50LmZsYWdzaGlwLmlvL2J1bmRsZS5qc1wiLGY9XCJodHRwczovL2xvY2FsLXFhLWFzc2lzdGFudC5mbGFnc2hpcC5pbzo1MDAwL2J1bmRsZS5qc1wiLEk9XCJmc19xYV9hc3Npc3RhbnRcIixwPVwiZnNfcWFfYXNzaXN0YW50X3N0YWdpbmdcIixfPVwiZnNfcWFfYXNzaXN0YW50X2xvY2FsXCIsdj1cImFidGFzdHlfcWFfYXNzaXN0YW50XCIsbT1cImFidGFzdHlfcWFfYXNzaXN0YW50X3N0YWdpbmdcIixDPVwiYWJ0YXN0eV9xYV9hc3Npc3RhbnRfbG9jYWxcIixUPVwicWEtYXNzaXN0YW50LmFidGFzdHkuY29tXCIseT1cInFhLWFzc2lzdGFudC5mbGFnc2hpcC5pb1wiLEU9XCJmc19jb25zZW50XCIsQT1cIkZTX0lTX1FBX01PREVfRU5BQkxFRFwiLFM9XCJGU19GT1JDRURfVkFSSUFUSU9OU1wiLGs9XCJGU19RQV9BU1NJU1RBTlRfU0NSSVBUX1RBR19JRFwiLFI9XCJodHRwczovL2V2ZW50cy5mbGFnc2hpcC5pby9lbW90aW9uc2FpXCIsTj1cInNlbmRFQUlFdmVudFwiLEQ9XCJmZXRjaEVBSVNjb3JlXCIsYj1cImVhaTo6ZWFzXCIsTz1cIkZTX0NMSUVOVF9WSVNJVE9SXCIsdz0xNDRlNSxNPVwicmVhZHlcIixIPVwiaHR0cHM6Ly9kb2NzLmRldmVsb3BlcnMuZmxhZ3NoaXAuaW8vZG9jcy9qcy12M1wiLFY9YFBhcmFtcyAnZW52SWQnIGFuZCAnYXBpS2V5JyBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5LlxcbiAgTGVhcm4gbW9yZTogJHtIfSNpbml0aWFsaXphdGlvbmAsRj1cInswfSBtdXN0IGJlIGEgezF9XCIseD1cIlZpc2l0b3IgezB9LCBtZXRob2QgezF9IGlzIGRlYWN0aXZhdGVkIHdoaWxlIFNESyBzdGF0dXMgaXM6IHsyfS5cIixQPVwiU0VORCBCQVRDSFwiLEw9XCJ3aXRob3V0IGNhbGxpbmcgYGZldGNoRmxhZ3NgIG1ldGhvZCBhZnRlcndhcmRzLiBTbywgdGhlIHZhbHVlIG9mIHRoZSBmbGFnIGB7MX1gIG1pZ2h0IGJlIG91dGRhdGVkXCIsVT1gWW91IGNhbid0IGNyZWF0ZSBhIG5ldyB2aXNpdG9yIHdpdGhvdXQgZmlyc3QgY2FsbGluZyB0aGUgXCJGbGFnc2hpcC5zdGFydFwiIG1ldGhvZC5cXG5MZWFybiBtb3JlOiAke0h9I2luaXRpYWxpemF0aW9uXFxuYCxHPVwiSU5JVElBTElaQVRJT05cIixCPVwiVVBEQVRFIENPTlRFWFRcIixxPVwiTkVXIFZJU0lUT1JcIixLPVwiQUREIEhJVFwiLFE9XCJiYXRjaFwiLCQ9XCJjaWRcIix6PVwiY2lkXCIsVz1cImN1aWRcIixqPVwiYWlkXCIsSj1cInZpZFwiLFk9XCJjYWlkXCIsWj1cInZhaWRcIixYPVwiZHNcIix0dD1cInRcIixpdD1cInF0XCIsZXQ9XCJBUFBcIixzdD1cIngtYXBpLWtleVwiLGF0PVwiQ29udGVudC1UeXBlXCIsb3Q9XCJ4LXNkay1jbGllbnRcIixudD1cIngtc2RrLXZlcnNpb25cIixydD1cImFwcGxpY2F0aW9uL2pzb25cIixodD1cIkJVQ0tFVElOR1wiLGN0PWBWaXNpdG9yIHswfSwgdGhlIGtleSAnezF9JyBtdXN0IGJlIGEgbm9uIG51bGwgU3RyaW5nLlxcbkxlYXJuIG1vcmU6ICR7SH0jdXBkYXRpbmctdGhlLXZpc2l0b3ItY29udGV4dGAsZ3Q9YFZpc2l0b3IgezB9LCAndmFsdWUnIGZvciBrZXkgJ3sxfVtdLCBtdXN0IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR5cGVzIDogU3RyaW5nLCBOdW1iZXIsIEJvb2xlYW5cXG5MZWFybiBtb3JlOiAke0h9I3VwZGF0aW5nLXRoZS12aXNpdG9yLWNvbnRleHRgLGR0PWB2aXNpdG9yIHswfSwgUHJlZGVmaW5lZCBDb250ZXh0IHswfSBtdXN0IGJlIG9mIHR5cGUgezF9XFxuTGVhcm4gbW9yZTogJHtIfSNwcmVkZWZpbmVkLXVzZXItY29udGV4dC1rZXlzLWAsbHQ9XCJGRVRDSF9GTEFHU1wiLHV0PVwiRkxBR19WQUxVRVwiLGZ0PVwiR0VUX0ZMQUdcIixJdD1cIkZMQUdfVklTSVRPUl9FWFBPU0VEXCIscHQ9XCJGTEFHX01FVEFEQVRBXCIsX3Q9XCJWaXNpdG9yIHswfSwgTm8gRmxhZ3MgZm91bmQgZm9yIGtleSB7MX06ICBFbXB0eSBtZXRhZGF0YSBvYmplY3QgaXMgcmV0dXJuZWRcIix2dD1gVmlzaXRvciB7MH0sIEZsYWcgZm9yIGtleSB7MX0gTWV0aG9kIEZsYWcubWV0YWRhdGEgaXMgZGVhY3RpdmF0ZWQgd2hpbGUgU0RLIHN0YXR1cyBpcyBOT1RfUkVBRFk6IEVtcHR5IG1ldGFkYXRhIG9iamVjdCBpcyByZXR1cm5lZCB7Mn1cXG5MZWFybiBtb3JlOiAke0h9I2dldHRpbmctZmxhZ3MtY2FtcGFpZ25zLW1ldGFkYXRhYCxtdD1cIkFVVEhFTlRJQ0FURVwiLEN0PWBWaXNpdG9yIHswfSwgdmlzaXRvcklkIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcXG5MZWFybiBtb3JlOiAke0h9I2F1dGhlbnRpY2F0ZWAsVHQ9XCJVTkFVVEhFTlRJQ0FURVwiLHl0PVwiQUxMT0NBVElPTlwiLEV0PWBsb29rdXBWaXNpdG9yIG1ldGhvZCBoYXMgbG9hZGVkIGEgYmFkIGZvcm1hdCB2ZXJzaW9uICh7MH0pIGZvciB2aXNpdG9yIHsxfS5cXG5MZWFybiBtb3JlOiAke0h9I21hbmFnaW5nLXZpc2l0b3ItY2FjaGVgLEF0PVwiQ0FDSEVcIixTdD1cInZpc2l0b3IgezB9LiB7MX0gdGhyZXcgYW4gZXhjZXB0aW9uIHsyfVwiLGt0PVwiezB9IHRocmV3IGFuIGV4Y2VwdGlvbiB7MX1cIixSdD1cIlRSQUNLSU5HX01BTkFHRVJcIixOdD1cInswfSBVbmV4cGVjdGVkIEVycm9yIG9jY3VycmVkIHsxfVwiLER0PVwiezB9IGhhcyBiZWVuIHNlbnQgOiB7MX1cIixidD1cIkFDVElWQVRFIEhJVFwiLE90PVwiQkFUQ0ggSElUXCIsd3Q9XCJBY3Rpb24gVHJhY2tpbmdcIixNdD1bXCJodHRwczovL2xvY2FsLXFhLWFzc2lzdGFudC5hYnRhc3R5LmNvbTo1MDAwXCIsXCJodHRwczovL3N0YWdpbmctcWEtYXNzaXN0YW50LmFidGFzdHkuY29tXCIsXCJodHRwczovL3FhLWFzc2lzdGFudC5hYnRhc3R5LmNvbVwiLFwiaHR0cHM6Ly9xYS1hc3Npc3RhbnQuZmxhZ3NoaXAuaW9cIixcImh0dHBzOi8vbG9jYWwtcWEtYXNzaXN0YW50LmZsYWdzaGlwLmlvOjUwMDBcIixcImh0dHBzOi8vc3RhZ2luZy1xYS1hc3Npc3RhbnQuZmxhZ3NoaXAuaW9cIl07dmFyIEh0LFZ0LEZ0LHh0LFB0LEx0LFV0OyFmdW5jdGlvbih0KXt0W3QuU0RLX05PVF9JTklUSUFMSVpFRD0wXT1cIlNES19OT1RfSU5JVElBTElaRURcIix0W3QuU0RLX0lOSVRJQUxJWklORz0xXT1cIlNES19JTklUSUFMSVpJTkdcIix0W3QuU0RLX1BBTklDPTJdPVwiU0RLX1BBTklDXCIsdFt0LlNES19JTklUSUFMSVpFRD0zXT1cIlNES19JTklUSUFMSVpFRFwifShIdHx8KEh0PXt9KSksZnVuY3Rpb24odCl7dC5QQUdFX1ZJRVc9XCJQQUdFVklFV1wiLHQuUEFHRT1cIlBBR0VWSUVXXCIsdC5TQ1JFRU5fVklFVz1cIlNDUkVFTlZJRVdcIix0LlNDUkVFTj1cIlNDUkVFTlZJRVdcIix0LlRSQU5TQUNUSU9OPVwiVFJBTlNBQ1RJT05cIix0LklURU09XCJJVEVNXCIsdC5FVkVOVD1cIkVWRU5UXCJ9KFZ0fHwoVnQ9e30pKSxmdW5jdGlvbih0KXt0W3QuQ09OVElOVU9VU19DQUNISU5HPTBdPVwiQ09OVElOVU9VU19DQUNISU5HXCIsdFt0LlBFUklPRElDX0NBQ0hJTkc9MV09XCJQRVJJT0RJQ19DQUNISU5HXCJ9KEZ0fHwoRnQ9e30pKSxmdW5jdGlvbih0KXt0LlVQREFURV9DT05URVhUPVwiVVBEQVRFX0NPTlRFWFRcIix0LkFVVEhFTlRJQ0FURT1cIkFVVEhFTlRJQ0FURVwiLHQuVU5BVVRIRU5USUNBVEU9XCJVTkFVVEhFTlRJQ0FURVwiLHQuRkxBR1NfRkVUQ0hJTkdfRVJST1I9XCJGTEFHU19GRVRDSElOR19FUlJPUlwiLHQuRkxBR1NfRkVUQ0hFRF9GUk9NX0NBQ0hFPVwiRkxBR1NfRkVUQ0hFRF9GUk9NX0NBQ0hFXCIsdC5GTEFHU19ORVZFUl9GRVRDSEVEPVwiRkxBR1NfTkVWRVJfRkVUQ0hFRFwiLHQuTk9ORT1cIk5PTkVcIn0oeHR8fCh4dD17fSkpLGZ1bmN0aW9uKHQpe3QuRkVUQ0hFRD1cIkZFVENIRURcIix0LkZFVENISU5HPVwiRkVUQ0hJTkdcIix0LkZFVENIX1JFUVVJUkVEPVwiRkVUQ0hfUkVRVUlSRURcIix0LlBBTklDPVwiUEFOSUNcIn0oUHR8fChQdD17fSkpLGZ1bmN0aW9uKHQpe3QuRkVUQ0hFRD1cIkZFVENIRURcIix0LkZFVENIX1JFUVVJUkVEPVwiRkVUQ0hfUkVRVUlSRURcIix0Lk5PVF9GT1VORD1cIk5PVF9GT1VORFwiLHQuUEFOSUM9XCJQQU5JQ1wifShMdHx8KEx0PXt9KSk7Y2xhc3MgR3QgZXh0ZW5kcyB0e3Zpc2l0b3JEZWxlZ2F0ZTtfb25SZWFkeTtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudmlzaXRvckRlbGVnYXRlPXQsdGhpcy5fb25SZWFkeT10PT57dGhpcy5lbWl0KE0sdCl9LHRoaXMudmlzaXRvckRlbGVnYXRlLm9uKE0sdGhpcy5fb25SZWFkeSk7Y29uc3QgaT10aGlzO2kuc2VuZEVhaVZpc2l0b3JFdmVudD10PT57dGhpcy52aXNpdG9yRGVsZWdhdGUuc2VuZEVhaVZpc2l0b3JFdmVudCh0KX0saS5zZW5kRWFpUGFnZVZpZXc9dD0+e3RoaXMudmlzaXRvckRlbGVnYXRlLnNlbmRFYWlQYWdlVmlldyh0KX0saS5vbkVBSUNvbGxlY3RTdGF0dXNDaGFuZ2U9dD0+e3RoaXMudmlzaXRvckRlbGVnYXRlLm9uRUFJQ29sbGVjdFN0YXR1c0NoYW5nZSh0KX19Z2V0IHZpc2l0b3JJZCgpe3JldHVybiB0aGlzLnZpc2l0b3JEZWxlZ2F0ZS52aXNpdG9ySWR9c2V0IHZpc2l0b3JJZCh0KXt0aGlzLnZpc2l0b3JEZWxlZ2F0ZS52aXNpdG9ySWQ9dH1nZXQgYW5vbnltb3VzSWQoKXtyZXR1cm4gdGhpcy52aXNpdG9yRGVsZWdhdGUuYW5vbnltb3VzSWR9Z2V0IGNvbmZpZygpe3JldHVybiB0aGlzLnZpc2l0b3JEZWxlZ2F0ZS5jb25maWd9Z2V0IGNvbnRleHQoKXtyZXR1cm4gdGhpcy52aXNpdG9yRGVsZWdhdGUuY29udGV4dH1nZXQgZmxhZ3NTdGF0dXMoKXtyZXR1cm4gdGhpcy52aXNpdG9yRGVsZWdhdGUuZmxhZ3NTdGF0dXN9Z2V0IGhhc0NvbnNlbnRlZCgpe3JldHVybiB0aGlzLnZpc2l0b3JEZWxlZ2F0ZS5oYXNDb25zZW50ZWR9c2V0Q29uc2VudCh0KXt0aGlzLnZpc2l0b3JEZWxlZ2F0ZS5zZXRDb25zZW50KHQpfXVwZGF0ZUNvbnRleHQodCxpKXt0aGlzLnZpc2l0b3JEZWxlZ2F0ZS51cGRhdGVDb250ZXh0KHQsaSl9Y2xlYXJDb250ZXh0KCl7dGhpcy52aXNpdG9yRGVsZWdhdGUuY2xlYXJDb250ZXh0KCl9Z2V0RmxhZyh0KXtyZXR1cm4gdGhpcy52aXNpdG9yRGVsZWdhdGUuZ2V0RmxhZyh0KX1nZXRGbGFncygpe3JldHVybiB0aGlzLnZpc2l0b3JEZWxlZ2F0ZS5nZXRGbGFncygpfWZldGNoRmxhZ3MoKXtyZXR1cm4gdGhpcy52aXNpdG9yRGVsZWdhdGUuZmV0Y2hGbGFncygpfXNlbmRIaXQodCl7cmV0dXJuIHRoaXMudmlzaXRvckRlbGVnYXRlLnNlbmRIaXQodCl9c2VuZEhpdHModCl7cmV0dXJuIHRoaXMudmlzaXRvckRlbGVnYXRlLnNlbmRIaXRzKHQpfWF1dGhlbnRpY2F0ZSh0KXt0aGlzLnZpc2l0b3JEZWxlZ2F0ZS5hdXRoZW50aWNhdGUodCl9dW5hdXRoZW50aWNhdGUoKXt0aGlzLnZpc2l0b3JEZWxlZ2F0ZS51bmF1dGhlbnRpY2F0ZSgpfWNvbGxlY3RFQUlFdmVudHNBc3luYyguLi50KXtsZXQgaTtyZXR1cm4gdC5sZW5ndGg+MCYmKGk9dFswXSksdGhpcy52aXNpdG9yRGVsZWdhdGUuY29sbGVjdEVBSUV2ZW50c0FzeW5jKGkpfWNsZWFudXAoKXt0aGlzLnZpc2l0b3JEZWxlZ2F0ZS5jbGVhbnVwKCksdGhpcy52aXNpdG9yRGVsZWdhdGUub2ZmKE0sdGhpcy5fb25SZWFkeSl9fWNsYXNzIEJ0e19jb25maWc7X2RlY2lzaW9uTWFuYWdlcjtfdHJhY2tpbmdNYW5hZ2VyO19zaGFyZWRBY3Rpb25UcmFja2luZztjb25zdHJ1Y3Rvcih0LGksZSxzKXt0aGlzLl9jb25maWc9dCx0aGlzLl9kZWNpc2lvbk1hbmFnZXI9aSx0aGlzLl90cmFja2luZ01hbmFnZXI9ZSx0aGlzLl9zaGFyZWRBY3Rpb25UcmFja2luZz1zfWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5fY29uZmlnfXNldCBjb25maWcodCl7dGhpcy5fY29uZmlnPXR9Z2V0IGRlY2lzaW9uTWFuYWdlcigpe3JldHVybiB0aGlzLl9kZWNpc2lvbk1hbmFnZXJ9c2V0IGRlY2lzaW9uTWFuYWdlcih0KXt0aGlzLl9kZWNpc2lvbk1hbmFnZXI9dH1nZXQgdHJhY2tpbmdNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX3RyYWNraW5nTWFuYWdlcn1zZXQgdHJhY2tpbmdNYW5hZ2VyKHQpe3RoaXMuX3RyYWNraW5nTWFuYWdlcj10fWdldCBzaGFyZWRBY3Rpb25UcmFja2luZygpe3JldHVybiB0aGlzLl9zaGFyZWRBY3Rpb25UcmFja2luZ319ZnVuY3Rpb24gcXQodCwuLi5pKXtsZXQgZT10O2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBzPWlbdF0sYT1cInN0cmluZ1wiPT10eXBlb2Ygcz9zOkpTT04uc3RyaW5naWZ5KHMgaW5zdGFuY2VvZiBNYXA/QXJyYXkuZnJvbShzLnZhbHVlcygpKTpzKTtlPWUucmVwbGFjZShuZXcgUmVnRXhwKGBcXFxceyR7dH1cXFxcfWAsXCJnXCIpLGEpfXJldHVybiBlfWZ1bmN0aW9uIEt0KHQsaSxlLC4uLmEpe2lmKCF0fHwhdC5sb2dMZXZlbHx8dC5sb2dMZXZlbDxzLkVSUk9SKXJldHVybjtRdCh0LHF0KGUsLi4uYSksaSl9ZnVuY3Rpb24gUXQodCxpLGUpeyF0fHwhdC5sb2dMZXZlbHx8dC5sb2dMZXZlbDxzLkVSUk9SfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbkxvZyYmdC5vbkxvZyhzLkVSUk9SLGUsaSksdC5sb2dNYW5hZ2VyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmxvZ01hbmFnZXIuZXJyb3ImJnQubG9nTWFuYWdlci5lcnJvcihpLGUpKX1mdW5jdGlvbiAkdCh0LGksZSwuLi5hKXtpZighdHx8IXQubG9nTGV2ZWx8fHQubG9nTGV2ZWw8cy5XQVJOSU5HKXJldHVybjt6dCh0LHF0KGUsLi4uYSksaSl9ZnVuY3Rpb24genQodCxpLGUpeyF0fHwhdC5sb2dMZXZlbHx8dC5sb2dMZXZlbDxzLldBUk5JTkd8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9uTG9nJiZ0Lm9uTG9nKHMuV0FSTklORyxlLGkpLHQubG9nTWFuYWdlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5sb2dNYW5hZ2VyLndhcm5pbmcmJnQubG9nTWFuYWdlci53YXJuaW5nKGksZSkpfWZ1bmN0aW9uIFd0KHQsaSxlLC4uLmEpe2lmKCF0fHwhdC5sb2dMZXZlbHx8dC5sb2dMZXZlbDxzLklORk8pcmV0dXJuO2p0KHQscXQoZSwuLi5hKSxpKX1mdW5jdGlvbiBqdCh0LGksZSl7IXR8fCF0LmxvZ0xldmVsfHx0LmxvZ0xldmVsPHMuSU5GT3x8KFwiZnVuY3Rpb25cIj09dHlwZW9mIHQub25Mb2cmJnQub25Mb2cocy5JTkZPLGUsaSksdC5sb2dNYW5hZ2VyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmxvZ01hbmFnZXIuaW5mbyYmdC5sb2dNYW5hZ2VyLmluZm8oaSxlKSl9ZnVuY3Rpb24gSnQodCxpLGUsLi4uYSl7aWYoIXR8fCF0LmxvZ0xldmVsfHx0LmxvZ0xldmVsPHMuREVCVUcpcmV0dXJuO1l0KHQscXQoZSwuLi5hKSxpKX1mdW5jdGlvbiBZdCh0LGksZSl7IXR8fCF0LmxvZ0xldmVsfHx0LmxvZ0xldmVsPHMuREVCVUd8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm9uTG9nJiZ0Lm9uTG9nKHMuREVCVUcsZSxpKSx0LmxvZ01hbmFnZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubG9nTWFuYWdlci5kZWJ1ZyYmdC5sb2dNYW5hZ2VyLmRlYnVnKGksZSkpfWZ1bmN0aW9uIFp0KCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LmRvY3VtZW50fWZ1bmN0aW9uIFh0KHQsaSl7cmV0dXJuIHR5cGVvZiB0PT10eXBlb2YgaSYmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHxcIm9iamVjdFwiIT10eXBlb2YgaXx8QXJyYXkuaXNBcnJheSh0KT09PUFycmF5LmlzQXJyYXkoaSkpfWZ1bmN0aW9uIHRpKCl7cmV0dXJuXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csKGZ1bmN0aW9uKHQpe2NvbnN0IGk9MTYqTWF0aC5yYW5kb20oKXwwO3JldHVybihcInhcIj09PXQ/aTozJml8OCkudG9TdHJpbmcoMTYpfSkpfWZ1bmN0aW9uIGlpKHQsaSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOnQsZGF0YTppfSl9ZnVuY3Rpb24gZWkodCl7Y29uc3QgaT1KU09OLnN0cmluZ2lmeSh0KTtyZXR1cm4gQXJyYXkuZnJvbShpLCh0PT50LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKSkuam9pbihcIlwiKX1mdW5jdGlvbiBzaSh0LGkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiBLdChpLFwiaGV4VG9WYWx1ZVwiLFwiSW52YWxpZCBoZXggc3RyaW5nOiB7MH1cIix0KSxudWxsO2xldCBlPVwiXCI7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKz0yKXtjb25zdCBhPXQuc2xpY2UocyxzKzIpLG89cGFyc2VJbnQoYSwxNik7aWYoaXNOYU4obykpcmV0dXJuIEt0KGksXCJoZXhUb1ZhbHVlXCIsXCJJbnZhbGlkIGhleCBjaGFyYWN0ZXI6IHswfVwiLGEpLG51bGw7ZSs9U3RyaW5nLmZyb21DaGFyQ29kZShvKX10cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2godCl7cmV0dXJuIEt0KGksXCJoZXhUb1ZhbHVlXCIsXCJFcnJvciB3aGlsZSBwYXJzaW5nIEpTT046IHswfVwiLHQpLG51bGx9fWZ1bmN0aW9uIGFpKHQsaSl7aWYodD09PWkpcmV0dXJuITA7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fFwib2JqZWN0XCIhPXR5cGVvZiBpfHxudWxsPT10fHxudWxsPT1pKXJldHVybiExO2NvbnN0IGU9T2JqZWN0LmtleXModCkscz1PYmplY3Qua2V5cyhpKTtpZihlLmxlbmd0aCE9PXMubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBhIG9mIGUpaWYoIXMuaW5jbHVkZXMoYSl8fCFhaSh0W2FdLGlbYV0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG9pKHQpe3tpZighWnQoKSlyZXR1cm4hMTtjb25zdCBpPVwiaW50ZXJhY3RpdmVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gaTtpZihpKXQoKTtlbHNle2NvbnN0IGk9KCk9Pntkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGkpLHQoKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixpKX1yZXR1cm4gaX19ZnVuY3Rpb24gbmkodCxpLGUpe2NvbnN0IGE9bmV3IERhdGUsbz10PT50LnRvU3RyaW5nKCkucGFkU3RhcnQoMixcIjBcIik7cmV0dXJuYCR7e1tzLkVNRVJHRU5DWV06XCJcdTAwMWJbMTszNzs0MW1cIixbcy5BTEVSVF06XCJcdTAwMWJbMTszNzs0NW1cIixbcy5DUklUSUNBTF06XCJcdTAwMWJbMTszNzs0MW1cIixbcy5FUlJPUl06XCJcdTAwMWJbMTszNzs0MW1cIixbcy5XQVJOSU5HXTpcIlx1MDAxYlszMzsxbVwiLFtzLk5PVElDRV06XCJcdTAwMWJbMzY7MW1cIixbcy5JTkZPXTpcIlx1MDAxYlszMjsxbVwiLFtzLkRFQlVHXTpcIlx1MDAxYls5MDsxbVwiLFtzLk5PTkVdOlwiXCIsW3MuQUxMXTpcIlx1MDAxYls5MDsxbVwifVt0XXx8XCJcIn1bJHtgJHthLmdldEZ1bGxZZWFyKCl9LSR7byhhLmdldE1vbnRoKCkrMSl9LSR7byhhLmdldERhdGUoKSl9ICR7byhhLmdldEhvdXJzKCkpfToke28oYS5nZXRNaW51dGVzKCkpfToke28oYS5nZXRTZWNvbmRzKCkpfS4ke2EuZ2V0TWlsbGlzZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgzLFwiMFwiKX1gfV0gW0ZsYWdzaGlwIFNES10gWyR7c1t0XS5wYWRFbmQoMil9XSBbJHtlfV0gJHtpfVx1MDAxYlswbWB9IWZ1bmN0aW9uKHQpe3QuREVDSVNJT05fQVBJPVwiREVDSVNJT04tQVBJXCIsdC5CVUNLRVRJTkc9XCJCVUNLRVRJTkdcIix0LkJVQ0tFVElOR19FREdFPVwiQlVDS0VUSU5HX0VER0VcIn0oVXR8fChVdD17fSkpO2NsYXNzIHJpe19iYXRjaEludGVydmFscztfcG9vbE1heFNpemU7X2JhdGNoU3RyYXRlZ3k7Y29uc3RydWN0b3IodCl7dGhpcy5iYXRjaEludGVydmFscz10Py5iYXRjaEludGVydmFscyx0aGlzLnBvb2xNYXhTaXplPXQ/LnBvb2xNYXhTaXplLHRoaXMuX2JhdGNoU3RyYXRlZ3k9dGhpcy5nZXRDYWNoZVN0cmF0ZWd5KHQ/LmNhY2hlU3RyYXRlZ3kpfWdldENhY2hlU3RyYXRlZ3kodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dDpadCgpP0Z0LkNPTlRJTlVPVVNfQ0FDSElORzpGdC5QRVJJT0RJQ19DQUNISU5HfWdldCBiYXRjaEludGVydmFscygpe3JldHVybiB0aGlzLl9iYXRjaEludGVydmFsc31zZXQgYmF0Y2hJbnRlcnZhbHModCl7KFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDF8fHQ+MTA4MDApJiYodD1adCgpPzU6MTApLHRoaXMuX2JhdGNoSW50ZXJ2YWxzPXR9Z2V0IHBvb2xNYXhTaXplKCl7cmV0dXJuIHRoaXMuX3Bvb2xNYXhTaXplfXNldCBwb29sTWF4U2l6ZSh0KXsoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQ8NSkmJih0PVp0KCk/MTA6MTAwKSx0aGlzLl9wb29sTWF4U2l6ZT10fWdldCBjYWNoZVN0cmF0ZWd5KCl7cmV0dXJuIHRoaXMuX2JhdGNoU3RyYXRlZ3l9fWNsYXNzIGhpe19lbnZJZDtfYXBpS2V5O19kZWNpc2lvbk1vZGU7X3RpbWVvdXQ7X2xvZ0xldmVsO19vblNka1N0YXR1c0NoYW5nZWQ7X2xvZ01hbmFnZXI7X2ZldGNoTm93O19wb2xsaW5nSW50ZXJ2YWw7X29uQnVja2V0aW5nVXBkYXRlZDtfcmV1c2VWaXNpdG9ySWRzO19pbml0aWFsQnVja2V0aW5nO19kZWNpc2lvbkFwaVVybDtfaGl0RGVkdXBsaWNhdGlvblRpbWU7X3Zpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uO19oaXRDYWNoZUltcGxlbWVudGF0aW9uO19kaXNhYmxlQ2FjaGU7X3RyYWNraW5nTWFuYWdlckNvbmZpZztfb25WaXNpdG9yRXhwb3NlZDtfZmV0Y2hUaGlyZFBhcnR5RGF0YTtfbmV4dEZldGNoQ29uZmlnO19mZXRjaEZsYWdzQnVmZmVyaW5nVGltZTtfZGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmc7X29uTG9nO19pc1FBTW9kZUVuYWJsZWQ7Z2V0IGlzUUFNb2RlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pc1FBTW9kZUVuYWJsZWR9c2V0IGlzUUFNb2RlRW5hYmxlZCh0KXt0aGlzLl9pc1FBTW9kZUVuYWJsZWQ9dH1fZW5hYmxlQW5hbHl0aWNzO2dldCBkaXNhYmxlRGV2ZWxvcGVyVXNhZ2VUcmFja2luZygpe3JldHVybiB0aGlzLl9kaXNhYmxlRGV2ZWxvcGVyVXNhZ2VUcmFja2luZ31zZXQgZGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmcodCl7dGhpcy5fZGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmc9dH1nZXQgZmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWUoKXtyZXR1cm4gdGhpcy5fZmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWV9c2V0IGZldGNoRmxhZ3NCdWZmZXJpbmdUaW1lKHQpe3RoaXMuX2ZldGNoRmxhZ3NCdWZmZXJpbmdUaW1lPXR9Z2V0IG5leHRGZXRjaENvbmZpZygpe3JldHVybiB0aGlzLl9uZXh0RmV0Y2hDb25maWd9c2V0IG5leHRGZXRjaENvbmZpZyh0KXt0aGlzLl9uZXh0RmV0Y2hDb25maWc9dH1nZXQgZmV0Y2hUaGlyZFBhcnR5RGF0YSgpe3JldHVybiB0aGlzLl9mZXRjaFRoaXJkUGFydHlEYXRhfXNldCBmZXRjaFRoaXJkUGFydHlEYXRhKHQpe3RoaXMuX2ZldGNoVGhpcmRQYXJ0eURhdGE9dH1nZXQgdHJhY2tpbmdNYW5hZ2VyQ29uZmlnKCl7cmV0dXJuIHRoaXMuX3RyYWNraW5nTWFuYWdlckNvbmZpZ31nZXQgb25Mb2coKXtyZXR1cm4gdGhpcy5fb25Mb2d9c2V0IG9uTG9nKHQpe3RoaXMuX29uTG9nPXR9Z2V0IG9uVmlzaXRvckV4cG9zZWQoKXtyZXR1cm4gdGhpcy5fb25WaXNpdG9yRXhwb3NlZH1jb25zdHJ1Y3Rvcih0KXtjb25zdHtlbnZJZDppLGFwaUtleTplLHRpbWVvdXQ6YSxsb2dMZXZlbDpvLGxvZ01hbmFnZXI6bixvblNka1N0YXR1c0NoYW5nZWQ6aCxmZXRjaE5vdzpjLGRlY2lzaW9uTW9kZTpnLHJldXNlVmlzaXRvcklkczpkLGluaXRpYWxCdWNrZXRpbmc6bCxkZWNpc2lvbkFwaVVybDp1LGhpdERlZHVwbGljYXRpb25UaW1lOmYsdmlzaXRvckNhY2hlSW1wbGVtZW50YXRpb246SSxoaXRDYWNoZUltcGxlbWVudGF0aW9uOnAsZGlzYWJsZUNhY2hlOl8sbGFuZ3VhZ2U6dixzZGtWZXJzaW9uOm0sdHJhY2tpbmdNYW5hZ2VyQ29uZmlnOkMsb25Mb2c6VCxvblZpc2l0b3JFeHBvc2VkOnksbmV4dEZldGNoQ29uZmlnOkUsZmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWU6QSxkaXNhYmxlRGV2ZWxvcGVyVXNhZ2VUcmFja2luZzpTfT10O3RoaXMuaW5pdFFhTW9kZSgpLHRoaXMuaW5pdFNES0luZm8odixtKSxuJiYodGhpcy5sb2dNYW5hZ2VyPW4pLHRoaXMuZmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWU9QT8/Mix0aGlzLm5leHRGZXRjaENvbmZpZz1FfHx7cmV2YWxpZGF0ZToyMH0sdGhpcy5fdHJhY2tpbmdNYW5hZ2VyQ29uZmlnPW5ldyByaShDfHx7fSksdGhpcy5vbkxvZz1ULHRoaXMuZGVjaXNpb25BcGlVcmw9dXx8cix0aGlzLl9lbnZJZD1pLHRoaXMuX2FwaUtleT1lLHRoaXMubG9nTGV2ZWw9bz8/cy5JTkZPLHRoaXMudGltZW91dD1hfHwyLHRoaXMuZmV0Y2hOb3c9dm9pZCAwPT09Y3x8Yyx0aGlzLnJldXNlVmlzaXRvcklkcz12b2lkIDA9PT1kfHxkLHRoaXMuX2RlY2lzaW9uTW9kZT1nfHxVdC5ERUNJU0lPTl9BUEksdGhpcy5faW5pdGlhbEJ1Y2tldGluZz1sLHRoaXMuaGl0RGVkdXBsaWNhdGlvblRpbWU9Zj8/Mi41LHRoaXMuZGlzYWJsZUNhY2hlPSEhXyx0aGlzLmRpc2FibGVEZXZlbG9wZXJVc2FnZVRyYWNraW5nPVN8fCExLEkmJih0aGlzLnZpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uPUkpLHAmJih0aGlzLmhpdENhY2hlSW1wbGVtZW50YXRpb249cCksdGhpcy5vblNka1N0YXR1c0NoYW5nZWQ9aCx0aGlzLl9vblZpc2l0b3JFeHBvc2VkPXl9aW5pdFFhTW9kZSgpe2lmKFp0KCkpdHJ5e2NvbnN0IHQ9c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShBKTt0aGlzLmlzUUFNb2RlRW5hYmxlZD10P0pTT04ucGFyc2UodCk6dm9pZCAwfWNhdGNoKHQpe1F0KHRoaXMsaWkodC5tZXNzYWdlfHx0KSxcImluaXRRYU1vZGVcIiksdGhpcy5pc1FBTW9kZUVuYWJsZWQ9ITF9fWluaXRTREtJbmZvKHQsaSl7c3dpdGNoKHQpe2Nhc2UgMTpvLm5hbWU9XCJSZWFjdEpTXCIsby52ZXJzaW9uPWk/P2E7YnJlYWs7Y2FzZSAyOm8ubmFtZT1cIlJlYWN0LU5hdGl2ZVwiLG8udmVyc2lvbj1pPz9hO2JyZWFrO2RlZmF1bHQ6by5uYW1lPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwiRGVub1wiaW4gd2luZG93P1wiRGVub1wiOlwiVHlwZVNjcmlwdFwiLG8udmVyc2lvbj1hfX1nZXQgaW5pdGlhbEJ1Y2tldGluZygpe3JldHVybiB0aGlzLl9pbml0aWFsQnVja2V0aW5nfXNldCBpbml0aWFsQnVja2V0aW5nKHQpe3RoaXMuX2luaXRpYWxCdWNrZXRpbmc9dH1nZXQgcmV1c2VWaXNpdG9ySWRzKCl7cmV0dXJuIHRoaXMuX3JldXNlVmlzaXRvcklkc31zZXQgcmV1c2VWaXNpdG9ySWRzKHQpe3RoaXMuX3JldXNlVmlzaXRvcklkcz10fWdldCBvbkJ1Y2tldGluZ1VwZGF0ZWQoKXtyZXR1cm4gdGhpcy5fb25CdWNrZXRpbmdVcGRhdGVkfXNldCBvbkJ1Y2tldGluZ1VwZGF0ZWQodCl7dGhpcy5fb25CdWNrZXRpbmdVcGRhdGVkPXR9c2V0IGVudklkKHQpe3RoaXMuX2VudklkPXR9Z2V0IGVudklkKCl7cmV0dXJuIHRoaXMuX2VudklkfXNldCBhcGlLZXkodCl7dGhpcy5fYXBpS2V5PXR9Z2V0IGFwaUtleSgpe3JldHVybiB0aGlzLl9hcGlLZXl9Z2V0IGRlY2lzaW9uTW9kZSgpe3JldHVybiB0aGlzLl9kZWNpc2lvbk1vZGV9Z2V0IHRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fdGltZW91dH1zZXQgdGltZW91dCh0KXt0aGlzLl90aW1lb3V0PXR9Z2V0IGxvZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2xvZ0xldmVsfXNldCBsb2dMZXZlbCh0KXt0aGlzLl9sb2dMZXZlbD10fWdldCBmZXRjaE5vdygpe3JldHVybiB0aGlzLl9mZXRjaE5vd31zZXQgZmV0Y2hOb3codCl7dGhpcy5fZmV0Y2hOb3c9dH1nZXQgcG9sbGluZ0ludGVydmFsKCl7cmV0dXJuIHRoaXMuX3BvbGxpbmdJbnRlcnZhbH1zZXQgcG9sbGluZ0ludGVydmFsKHQpe3RoaXMuX3BvbGxpbmdJbnRlcnZhbD10fWdldCBoaXREZWR1cGxpY2F0aW9uVGltZSgpe3JldHVybiB0aGlzLl9oaXREZWR1cGxpY2F0aW9uVGltZX1zZXQgaGl0RGVkdXBsaWNhdGlvblRpbWUodCl7XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5faGl0RGVkdXBsaWNhdGlvblRpbWU9dDpRdCh0aGlzLHF0KEYsXCJoaXREZWR1cGxpY2F0aW9uVGltZVwiLFwibnVtYmVyXCIpLFwiaGl0RGVkdXBsaWNhdGlvblRpbWVcIil9Z2V0IHZpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX3Zpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9ufXNldCB2aXNpdG9yQ2FjaGVJbXBsZW1lbnRhdGlvbih0KXt0aGlzLl92aXNpdG9yQ2FjaGVJbXBsZW1lbnRhdGlvbj10fWdldCBoaXRDYWNoZUltcGxlbWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX2hpdENhY2hlSW1wbGVtZW50YXRpb259c2V0IGhpdENhY2hlSW1wbGVtZW50YXRpb24odCl7dGhpcy5faGl0Q2FjaGVJbXBsZW1lbnRhdGlvbj10fWdldCBkaXNhYmxlQ2FjaGUoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUNhY2hlfXNldCBkaXNhYmxlQ2FjaGUodCl7dGhpcy5fZGlzYWJsZUNhY2hlPXR9Z2V0IG9uU2RrU3RhdHVzQ2hhbmdlZCgpe3JldHVybiB0aGlzLl9vblNka1N0YXR1c0NoYW5nZWR9c2V0IG9uU2RrU3RhdHVzQ2hhbmdlZCh0KXt0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P1F0KHRoaXMsXCJzdGF0dXNDaGFuZ2VkQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIsXCJvblNka1N0YXR1c0NoYW5nZWRcIik6dGhpcy5fb25TZGtTdGF0dXNDaGFuZ2VkPXR9Z2V0IGxvZ01hbmFnZXIoKXtyZXR1cm4gdGhpcy5fbG9nTWFuYWdlcn1zZXQgbG9nTWFuYWdlcih0KXt0aGlzLl9sb2dNYW5hZ2VyPXR9Z2V0IGRlY2lzaW9uQXBpVXJsKCl7cmV0dXJuIHRoaXMuX2RlY2lzaW9uQXBpVXJsfXNldCBkZWNpc2lvbkFwaVVybCh0KXtcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLl9kZWNpc2lvbkFwaVVybD10OlF0KHRoaXMscXQoRixcImRlY2lzaW9uQXBpVXJsXCIsXCJzdHJpbmdcIiksXCJkZWNpc2lvbkFwaVVybFwiKX19Y2xhc3MgY2kgZXh0ZW5kcyBoaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih7Li4udCxkZWNpc2lvbk1vZGU6VXQuREVDSVNJT05fQVBJfSl9fWNsYXNzIGdpIGV4dGVuZHMgaGl7Y29uc3RydWN0b3IodCl7c3VwZXIoey4uLnQsZGVjaXNpb25Nb2RlOlV0LkJVQ0tFVElOR30pLHRoaXMucG9sbGluZ0ludGVydmFsPXQ/LnBvbGxpbmdJbnRlcnZhbD8/NSx0aGlzLm9uQnVja2V0aW5nVXBkYXRlZD10Py5vbkJ1Y2tldGluZ1VwZGF0ZWQsdGhpcy5mZXRjaFRoaXJkUGFydHlEYXRhPXQ/LmZldGNoVGhpcmRQYXJ0eURhdGF9fXZhciBkaSxsaSx1aSxmaTshZnVuY3Rpb24odCl7dC5WSVNJVE9SX1NFTkRfSElUPVwiVklTSVRPUl9TRU5EX0hJVFwiLHQuVklTSVRPUl9GRVRDSF9DQU1QQUlHTlNfRVJST1I9XCJWSVNJVE9SX0ZFVENIX0NBTVBBSUdOU19FUlJPUlwiLHQuVklTSVRPUl9GRVRDSF9DQU1QQUlHTlM9XCJWSVNJVE9SX0ZFVENIX0NBTVBBSUdOU1wiLHQuVklTSVRPUl9BVVRIRU5USUNBVEU9XCJWSVNJVE9SX0FVVEhFTlRJQ0FURVwiLHQuVklTSVRPUl9VTkFVVEhFTlRJQ0FURT1cIlZJU0lUT1JfVU5BVVRIRU5USUNBVEVcIix0LlZJU0lUT1JfRVhQT1NFRF9GTEFHX05PVF9GT1VORD1cIlZJU0lUT1JfRVhQT1NFRF9GTEFHX05PVF9GT1VORFwiLHQuRkxBR19WQUxVRV9OT1RfQ0FMTEVEPVwiRkxBR19WQUxVRV9OT1RfQ0FMTEVEXCIsdC5HRVRfRkxBR19WQUxVRV9GTEFHX05PVF9GT1VORD1cIkdFVF9GTEFHX1ZBTFVFX0ZMQUdfTk9UX0ZPVU5EXCIsdC5HRVRfRkxBR19NRVRBREFUQV9UWVBFX1dBUk5JTkc9XCJHRVRfRkxBR19NRVRBREFUQV9UWVBFX1dBUk5JTkdcIix0LkdFVF9GTEFHX1ZBTFVFX1RZUEVfV0FSTklORz1cIkdFVF9GTEFHX1ZBTFVFX1RZUEVfV0FSTklOR1wiLHQuVklTSVRPUl9FWFBPU0VEX1RZUEVfV0FSTklORz1cIlZJU0lUT1JfRVhQT1NFRF9UWVBFX1dBUk5JTkdcIix0LlZJU0lUT1JfU0VORF9BQ1RJVkFURT1cIlZJU0lUT1JfU0VORF9BQ1RJVkFURVwiLHQuR0VUX0NBTVBBSUdOU19ST1VURV9SRVNQT05TRV9FUlJPUj1cIkdFVF9DQU1QQUlHTlNfUk9VVEVfUkVTUE9OU0VfRVJST1JcIix0LkdFVF9DQU1QQUlHTlNfUk9VVEVfUkVTUE9OU0U9XCJHRVRfQ0FNUEFJR05TX1JPVVRFX1JFU1BPTlNFXCIsdC5TREtfQlVDS0VUSU5HX0ZJTEU9XCJTREtfQlVDS0VUSU5HX0ZJTEVcIix0LlNFTkRfQUNUSVZBVEVfSElUX1JPVVRFX0VSUk9SPVwiU0VORF9BQ1RJVkFURV9ISVRfUk9VVEVfRVJST1JcIix0LlNFTkRfQkFUQ0hfSElUX1JPVVRFX1JFU1BPTlNFX0VSUk9SPVwiU0VORF9CQVRDSF9ISVRfUk9VVEVfUkVTUE9OU0VfRVJST1JcIix0LlNFTkRfSElUX1JPVVRFX0VSUk9SPVwiU0VORF9ISVRfUk9VVEVfRVJST1JcIix0LlNES19CVUNLRVRJTkdfRklMRV9FUlJPUj1cIlNES19CVUNLRVRJTkdfRklMRV9FUlJPUlwiLHQuU0RLX0NPTkZJRz1cIlNES19DT05GSUdcIix0LkFDQ09VTlRfU0VUVElOR1M9XCJBQ0NPVU5UX1NFVFRJTkdTXCIsdC5BQ0NPVU5UX1NFVFRJTkdTX0VSUk9SPVwiQUNDT1VOVF9TRVRUSU5HU19FUlJPUlwiLHQuRU1PVElPTl9BSV9TQ09SRT1cIkVNT1RJT05fRUFJX1NDT1JFXCIsdC5FTU9USU9OX0FJX1NDT1JFX0ZST01fTE9DQUxfQ0FDSEU9XCJFTU9USU9OX0FJX1NDT1JFX0ZST01fTE9DQUxfQ0FDSEVcIix0LkVNT1RJT05fQUlfU0NPUkVfRVJST1I9XCJFTU9USU9OX0VBSV9TQ09SRV9FUlJPUlwiLHQuRU1PVElPTl9BSV9WSVNJVE9SX0VWRU5UPVwiRU1PVElPTl9BSV9WSVNJVE9SX0VWRU5UXCIsdC5FTU9USU9OX0FJX1ZJU0lUT1JfRVZFTlRfRVJST1I9XCJFTU9USU9OX0FJX1ZJU0lUT1JfRVZFTlRfRVJST1JcIix0LkVNT1RJT05fQUlfUEFHRV9WSUVXPVwiRU1PVElPTl9BSV9QQUdFX1ZJRVdcIix0LkVNT1RJT05fQUlfUEFHRV9WSUVXX0VSUk9SPVwiRU1PVElPTl9BSV9QQUdFX1ZJRVdfRVJST1JcIix0LkVNT1RJT05fQUlfU1RBUlRfQ09MTEVDVElORz1cIkVNT1RJT05fQUlfU1RBUlRfQ09MTEVDVElOR1wiLHQuRU1PVElPTl9BSV9TVE9QX0NPTExFQ1RJTkc9XCJFTU9USU9OX0FJX1NUT1BfQ09MTEVDVElOR1wiLHQuRU1PVElPTl9BSV9TVEFSVF9TQ09SSU5HPVwiRU1PVElPTl9BSV9TVEFSVF9TQ09SSU5HXCIsdC5FTU9USU9OX0FJX1NDT1JJTkdfRkFJTEVEPVwiRU1PVElPTl9BSV9TQ09SSU5HX0ZBSUxFRFwiLHQuRU1PVElPTl9BSV9TQ09SSU5HX1NVQ0NFU1M9XCJFTU9USU9OX0FJX1NDT1JJTkdfU1VDQ0VTU1wifShkaXx8KGRpPXt9KSksZnVuY3Rpb24odCl7dC5OT05FPVwiTk9ORVwiLHQuQU5PTllNT1VTX0lEX0NBQ0hFPVwiQU5PTllNT1VTX0lEX0NBQ0hFXCIsdC5WSVNJVE9SX0lEX0NBQ0hFPVwiVklTSVRPUl9JRF9DQUNIRVwiLHQuVklTSVRPUl9JRF9DQUNIRV9XSVRIX0FOT05ZTU9VU19JRF9DQUNIRT1cIlZJU0lUT1JfSURfQ0FDSEVfV0lUSF9BTk9OWU1PVVNfSURfQ0FDSEVcIn0obGl8fChsaT17fSkpLGZ1bmN0aW9uKHQpe3QuQUJfVEFTVFlfV0VCX1NES19JTklUSUFMSVpFRD1cIkFCX1RBU1RZX1dFQl9TREtfSU5JVElBTElaRURcIn0odWl8fCh1aT17fSkpO2NsYXNzIElpe192aXNpdG9ySWQ7X2NvbmZpZztfdHlwZTtfZHM7X2Fub255bW91c0lkO191c2VySXA7X3NjcmVlblJlc29sdXRpb247X2xvY2FsZTtfc2Vzc2lvbk51bWJlcjtfa2V5O19jcmVhdGVkQXQ7X3FhTW9kZTtfaXNBY3Rpb25UcmFja2luZ0hpdDtnZXQgaXNBY3Rpb25UcmFja2luZ0hpdCgpe3JldHVybiB0aGlzLl9pc0FjdGlvblRyYWNraW5nSGl0fXNldCBpc0FjdGlvblRyYWNraW5nSGl0KHQpe3RoaXMuX2lzQWN0aW9uVHJhY2tpbmdIaXQ9dH1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX2tleX1zZXQga2V5KHQpe3RoaXMuX2tleT10fWdldCBzZXNzaW9uTnVtYmVyKCl7cmV0dXJuIHRoaXMuX3Nlc3Npb25OdW1iZXJ9c2V0IHNlc3Npb25OdW1iZXIodCl7dGhpcy5fc2Vzc2lvbk51bWJlcj10fWdldCBsb2NhbGUoKXtyZXR1cm4gdGhpcy5fbG9jYWxlfXNldCBsb2NhbGUodCl7dGhpcy5fbG9jYWxlPXR9Z2V0IHNjcmVlblJlc29sdXRpb24oKXtyZXR1cm4gdGhpcy5fc2NyZWVuUmVzb2x1dGlvbn1zZXQgc2NyZWVuUmVzb2x1dGlvbih0KXt0aGlzLl9zY3JlZW5SZXNvbHV0aW9uPXR9Z2V0IHVzZXJJcCgpe3JldHVybiB0aGlzLl91c2VySXB9c2V0IHVzZXJJcCh0KXt0aGlzLl91c2VySXA9dH1nZXQgYW5vbnltb3VzSWQoKXtyZXR1cm4gdGhpcy5fYW5vbnltb3VzSWR9c2V0IGFub255bW91c0lkKHQpe3RoaXMuX2Fub255bW91c0lkPXR9Z2V0IHZpc2l0b3JJZCgpe3JldHVybiB0aGlzLl92aXNpdG9ySWR9c2V0IHZpc2l0b3JJZCh0KXt0aGlzLl92aXNpdG9ySWQ9dH1nZXQgZHMoKXtyZXR1cm4gdGhpcy5fZHN9c2V0IGRzKHQpe3RoaXMuX2RzPXR9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5fdHlwZX1nZXQgY29uZmlnKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ31zZXQgY29uZmlnKHQpe3RoaXMuX2NvbmZpZz10fWdldCBjcmVhdGVkQXQoKXtyZXR1cm4gdGhpcy5fY3JlYXRlZEF0fXNldCBjcmVhdGVkQXQodCl7dGhpcy5fY3JlYXRlZEF0PXR9Z2V0IHFhTW9kZSgpe3JldHVybiB0aGlzLl9xYU1vZGV9c2V0IHFhTW9kZSh0KXt0aGlzLl9xYU1vZGU9dH1jb25zdHJ1Y3Rvcih0KXtjb25zdHt0eXBlOmksdXNlcklwOmUsc2NyZWVuUmVzb2x1dGlvbjpzLGxvY2FsZTphLHNlc3Npb25OdW1iZXI6byx2aXNpdG9ySWQ6bixhbm9ueW1vdXNJZDpyLGRzOmgscWFNb2RlOmMsaXNBY3Rpb25UcmFja2luZ0hpdDpnfT10O3RoaXMuX3R5cGU9aSxlJiYodGhpcy51c2VySXA9ZSkscyYmKHRoaXMuc2NyZWVuUmVzb2x1dGlvbj1zKSxhJiYodGhpcy5sb2NhbGU9YSksbyYmKHRoaXMuc2Vzc2lvbk51bWJlcj1vKSx0aGlzLnZpc2l0b3JJZD1uLHRoaXMuX2Fub255bW91c0lkPXJ8fG51bGwsdGhpcy5jcmVhdGVkQXQ9RGF0ZS5ub3coKSx0aGlzLmRzPWh8fGV0LHRoaXMucWFNb2RlPWMsdGhpcy5pc0FjdGlvblRyYWNraW5nSGl0PWd9aXNOb3RFbXB0eVN0cmluZyh0LGkpe3JldHVybiEoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXx8KFF0KHRoaXMuY29uZmlnLHF0KEYsaSxcInN0cmluZ1wiKSxpKSwhMSl9aXNOdW1lcmljKHQsaSl7cmV0dXJuISghdHx8XCJudW1iZXJcIiE9dHlwZW9mIHQpfHwoUXQodGhpcy5jb25maWcscXQoRixpLFwibnVtYmVyXCIpLGkpLCExKX1pc0ludGVnZXIodCxpKXtyZXR1cm4hIU51bWJlci5pc0ludGVnZXIodCl8fChRdCh0aGlzLmNvbmZpZyxxdChGLGksXCJpbnRlZ2VyXCIpLGkpLCExKX10b0FwaUtleXMoKXtjb25zdCB0PXtbSl06dGhpcy52aXNpdG9ySWQsW1hdOnRoaXMuZHMsWyRdOmAke3RoaXMuY29uZmlnPy5lbnZJZH1gLFt0dF06dGhpcy50eXBlLFtXXTpudWxsLFtpdF06RGF0ZS5ub3coKS10aGlzLl9jcmVhdGVkQXR9O3JldHVybiB0aGlzLnFhTW9kZSYmKHQucWE9ITApLHRoaXMudXNlcklwJiYodC51aXA9dGhpcy51c2VySXApLHRoaXMuc2NyZWVuUmVzb2x1dGlvbiYmKHQuc3I9dGhpcy5zY3JlZW5SZXNvbHV0aW9uKSx0aGlzLmxvY2FsZSYmKHQudWw9dGhpcy5sb2NhbGUpLHRoaXMuc2Vzc2lvbk51bWJlciYmKHQuc249dGhpcy5zZXNzaW9uTnVtYmVyKSx0aGlzLnZpc2l0b3JJZCYmdGhpcy5hbm9ueW1vdXNJZCYmKHRbSl09dGhpcy5hbm9ueW1vdXNJZCx0W1ddPXRoaXMudmlzaXRvcklkKSx0fXRvT2JqZWN0KCl7cmV0dXJue2tleTp0aGlzLmtleSx2aXNpdG9ySWQ6dGhpcy52aXNpdG9ySWQsZHM6dGhpcy5kcyx0eXBlOnRoaXMudHlwZSx1c2VySXA6dGhpcy51c2VySXAsc2NyZWVuUmVzb2x1dGlvbjp0aGlzLnNjcmVlblJlc29sdXRpb24sbG9jYWxlOnRoaXMubG9jYWxlLHNlc3Npb25OdW1iZXI6dGhpcy5zZXNzaW9uTnVtYmVyLGFub255bW91c0lkOnRoaXMuYW5vbnltb3VzSWQsY3JlYXRlZEF0OnRoaXMuY3JlYXRlZEF0LHFhTW9kZTp0aGlzLnFhTW9kZX19aXNSZWFkeSh0PSEwKXtyZXR1cm4hISh0aGlzLnZpc2l0b3JJZCYmdGhpcy5kcyYmdGhpcy5jb25maWcmJnRoaXMuY29uZmlnLmVudklkJiZ0aGlzLnR5cGUpfX0hZnVuY3Rpb24odCl7dFt0LlRpbWVyPTBdPVwiVGltZXJcIix0W3QuQmF0Y2hMZW5ndGg9MV09XCJCYXRjaExlbmd0aFwiLHRbdC5GbHVzaD0yXT1cIkZsdXNoXCIsdFt0LkFjdGl2YXRlTGVuZ3RoPTNdPVwiQWN0aXZhdGVMZW5ndGhcIix0W3QuRGlyZWN0SGl0PTRdPVwiRGlyZWN0SGl0XCIsdFt0LkRpcmVjdEFjdGl2YXRlPTVdPVwiRGlyZWN0QWN0aXZhdGVcIn0oZml8fChmaT17fSkpO2NsYXNzIHBpIGV4dGVuZHMgSWl7ZGF0YTtfdHJhZmZpYztnZXQgdHJhZmZpYygpe3JldHVybiB0aGlzLl90cmFmZmljfXNldCB0cmFmZmljKHQpe3RoaXMuX3RyYWZmaWM9dH1jb25zdHJ1Y3Rvcih0KXtzdXBlcih7dHlwZTp0LnR5cGUsdXNlcklwOnQudXNlcklwLHNjcmVlblJlc29sdXRpb246dC5zY3JlZW5SZXNvbHV0aW9uLGxvY2FsZTp0LmxvY2FsZSxzZXNzaW9uTnVtYmVyOnQuc2Vzc2lvbk51bWJlcix2aXNpdG9ySWQ6dC52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZH0pLHRoaXMuZGF0YT17Li4udCx2ZXJzaW9uOnQudmVyc2lvbnx8XCIxXCIsc3RhY2tUeXBlOnQuc3RhY2tUeXBlfHxcIlNES1wiLHN0YWNrTmFtZTp0LnN0YWNrTmFtZXx8by5uYW1lLHN0YWNrVmVyc2lvbjp0LnN0YWNrVmVyc2lvbnx8by52ZXJzaW9uLGxhYmVsOnQubGFiZWwsbG9nTGV2ZWw6dC5sb2dMZXZlbCx0aW1lc3RhbXA6dC50aW1lc3RhbXB8fG5ldyBEYXRlKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCksdGltZVpvbmU6dGhpcy5nZXRUaW1lem9uZSgpLGRzOmV0LGVudklkOnQuZW52SWR8fHQuY29uZmlnLmVudklkfSx0aGlzLl90cmFmZmljPXQudHJhZmZpYyx0aGlzLmNvbmZpZz10LmNvbmZpZ31nZXRUaW1lem9uZSgpe3JldHVybihcIm9iamVjdFwiPT10eXBlb2YgSW50bD9JbnRsLkRhdGVUaW1lRm9ybWF0KCk/LnJlc29sdmVkT3B0aW9ucygpPy50aW1lWm9uZTp2b2lkIDApfHxcIlwiKyhuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKS82MH10b0FwaUtleXMoKXtjb25zdCB0PXtbSl06dGhpcy52aXNpdG9ySWQsW1hdOnRoaXMuZGF0YS5kcyxbJF06YCR7dGhpcy5kYXRhLmNvbmZpZz8uZW52SWR9YCxbdHRdOnRoaXMudHlwZSxjdjp7fX0saT17dmVyc2lvbjpgJHt0aGlzLmRhdGEudmVyc2lvbn1gLGxvZ0xldmVsOmAke3NbdGhpcy5kYXRhLmxvZ0xldmVsXX1gLHRpbWVzdGFtcDpgJHt0aGlzLmRhdGEudGltZXN0YW1wfWAsdGltZVpvbmU6YCR7dGhpcy5kYXRhLnRpbWVab25lfWAsbGFiZWw6YCR7dGhpcy5kYXRhLmxhYmVsfWAsXCJzdGFjay50eXBlXCI6YCR7dGhpcy5kYXRhLnN0YWNrVHlwZX1gLFwic3RhY2submFtZVwiOmAke3RoaXMuZGF0YS5zdGFja05hbWV9YCxcInN0YWNrLnZlcnNpb25cIjpgJHt0aGlzLmRhdGEuc3RhY2tWZXJzaW9ufWB9O2lmKHZvaWQgMCE9PXRoaXMuZGF0YS5sYXN0QnVja2V0aW5nVGltZXN0YW1wJiYoaS5sYXN0QnVja2V0aW5nVGltZXN0YW1wPWAke3RoaXMuZGF0YS5sYXN0QnVja2V0aW5nVGltZXN0YW1wfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5sYXN0SW5pdGlhbGl6YXRpb25UaW1lc3RhbXAmJihpLmxhc3RJbml0aWFsaXphdGlvblRpbWVzdGFtcD1gJHt0aGlzLmRhdGEubGFzdEluaXRpYWxpemF0aW9uVGltZXN0YW1wfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5mbGFnc2hpcEluc3RhbmNlSWQmJihpLmZsYWdzaGlwSW5zdGFuY2VJZD1gJHt0aGlzLmRhdGEuZmxhZ3NoaXBJbnN0YW5jZUlkfWApLHRoaXMuZGF0YS5hY2NvdW50SWQmJihpLmFjY291bnRJZD1gJHt0aGlzLmRhdGEuYWNjb3VudElkfWApLHRoaXMuZGF0YS5lbnZJZCYmKGkuZW52SWQ9YCR7dGhpcy5kYXRhLmVudklkfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtCdWNrZXRpbmdGaWxlJiYoaS5zZGtCdWNrZXRpbmdGaWxlPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5zZGtCdWNrZXRpbmdGaWxlKSksdm9pZCAwIT09dGhpcy5kYXRhLnN0YWNrT3JpZ2luTmFtZSYmKGlbXCJzdGFjay5vcmlnaW4ubmFtZVwiXT1gJHt0aGlzLmRhdGEuc3RhY2tPcmlnaW5OYW1lfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5zdGFja09yaWdpblZlcnNpb24mJihpW1wic3RhY2sub3JpZ2luLnZlcnNpb25cIl09YCR7dGhpcy5kYXRhLnN0YWNrT3JpZ2luVmVyc2lvbn1gKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrU3RhdHVzJiYoaVtcInNkay5zdGF0dXNcIl09YCR7SHRbdGhpcy5kYXRhLnNka1N0YXR1c119YCksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ0xvZ0xldmVsJiYoaVtcInNkay5jb25maWcubG9nTGV2ZWxcIl09YCR7c1t0aGlzLmRhdGEuc2RrQ29uZmlnTG9nTGV2ZWxdfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdNb2RlJiYoaVtcInNkay5jb25maWcubW9kZVwiXT1gJHt0aGlzLmRhdGEuc2RrQ29uZmlnTW9kZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnQ3VzdG9tTG9nTWFuYWdlciYmKGlbXCJzZGsuY29uZmlnLmN1c3RvbUxvZ01hbmFnZXJcIl09YCR7dGhpcy5kYXRhLnNka0NvbmZpZ0N1c3RvbUxvZ01hbmFnZXJ9YCksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ0N1c3RvbUNhY2hlTWFuYWdlciYmKGlbXCJzZGsuY29uZmlnLmN1c3RvbUNhY2hlTWFuYWdlclwiXT1gJHt0aGlzLmRhdGEuc2RrQ29uZmlnQ3VzdG9tQ2FjaGVNYW5hZ2VyfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdTdGF0dXNMaXN0ZW5lciYmKGlbXCJzZGsuY29uZmlnLmN1c3RvbS5TdGF0dXNMaXN0ZW5lclwiXT1gJHt0aGlzLmRhdGEuc2RrQ29uZmlnU3RhdHVzTGlzdGVuZXJ9YCksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ1RpbWVvdXQmJihpW1wic2RrLmNvbmZpZy50aW1lb3V0XCJdPVwiXCIrMWUzKnRoaXMuZGF0YS5zZGtDb25maWdUaW1lb3V0KSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnUG9sbGluZ0ludGVydmFsJiYoaVtcInNkay5jb25maWcucG9sbGluZ1RpbWVcIl09XCJcIisxZTMqdGhpcy5kYXRhLnNka0NvbmZpZ1BvbGxpbmdJbnRlcnZhbCksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ1RyYWNraW5nTWFuYWdlclN0cmF0ZWd5JiYoaVtcInNkay5jb25maWcudHJhY2tpbmdNYW5hZ2VyLnN0cmF0ZWd5XCJdPWAke0Z0W3RoaXMuZGF0YS5zZGtDb25maWdUcmFja2luZ01hbmFnZXJTdHJhdGVneV19YCksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ1RyYWNraW5nTWFuYWdlckJhdGNoSW50ZXJ2YWxzJiYoaVtcInNkay5jb25maWcudHJhY2tpbmdNYW5hZ2VyLmJhdGNoSW50ZXJ2YWxzXCJdPVwiXCIrMWUzKnRoaXMuZGF0YS5zZGtDb25maWdUcmFja2luZ01hbmFnZXJCYXRjaEludGVydmFscyksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ1RyYWNraW5nTWFuYWdlclBvb2xNYXhTaXplJiYoaVtcInNkay5jb25maWcudHJhY2tpbmdNYW5hZ2VyLnBvb2xNYXhTaXplXCJdPWAke3RoaXMuZGF0YS5zZGtDb25maWdUcmFja2luZ01hbmFnZXJQb29sTWF4U2l6ZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnRmV0Y2hOb3cmJihpW1wic2RrLmNvbmZpZy5mZXRjaE5vd1wiXT1gJHt0aGlzLmRhdGEuc2RrQ29uZmlnRmV0Y2hOb3d9YCksdm9pZCAwIT09dGhpcy5kYXRhLnNka0NvbmZpZ1JldXNlVmlzaXRvcklkcyYmKGlbXCJzZGsuY29uZmlnLnJldXNlVmlzaXRvcklkc1wiXT1gJHt0aGlzLmRhdGEuc2RrQ29uZmlnUmV1c2VWaXNpdG9ySWRzfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdJbml0aWFsQnVja2V0aW5nJiYoaVtcInNkay5jb25maWcuaW5pdGlhbEJ1Y2tldGluZ1wiXT1KU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuc2RrQ29uZmlnSW5pdGlhbEJ1Y2tldGluZykpLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdEZWNpc2lvbkFwaVVybCYmKGlbXCJzZGsuY29uZmlnLmRlY2lzaW9uQXBpVXJsXCJdPWAke3RoaXMuZGF0YS5zZGtDb25maWdEZWNpc2lvbkFwaVVybH1gKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnSGl0RGVkdXBsaWNhdGlvblRpbWUmJihpW1wic2RrLmNvbmZpZy5oaXREZWR1cGxpY2F0aW9uVGltZVwiXT1cIlwiKzFlMyp0aGlzLmRhdGEuc2RrQ29uZmlnSGl0RGVkdXBsaWNhdGlvblRpbWUpLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdVc2luZ0N1c3RvbUhpdENhY2hlJiYoaVtcInNkay5jb25maWcudXNpbmdDdXN0b21IaXRDYWNoZVwiXT1KU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuc2RrQ29uZmlnVXNpbmdDdXN0b21IaXRDYWNoZSkpLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdVc2luZ0N1c3RvbVZpc2l0b3JDYWNoZSYmKGlbXCJzZGsuY29uZmlnLnVzaW5nQ3VzdG9tVmlzaXRvckNhY2hlXCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5zZGtDb25maWdVc2luZ0N1c3RvbVZpc2l0b3JDYWNoZSkpLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdVc2luZ09uVmlzaXRvckV4cG9zZWQmJihpW1wic2RrLmNvbmZpZy51c2luZ09uVmlzaXRvckV4cG9zZWRcIl09SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnNka0NvbmZpZ1VzaW5nT25WaXNpdG9yRXhwb3NlZCkpLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdGZXRjaFRoaXJkUGFydHlEYXRhJiYoaVtcInNkay5jb25maWcuZmV0Y2hUaGlyZFBhcnR5RGF0YVwiXT1KU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuc2RrQ29uZmlnRmV0Y2hUaGlyZFBhcnR5RGF0YSkpLHZvaWQgMCE9PXRoaXMuZGF0YS5zZGtDb25maWdGZXRjaEZsYWdzQnVmZmVyaW5nVGltZSYmKGlbXCJzZGsuY29uZmlnLmZldGNoRmxhZ3NCdWZmZXJpbmdUaW1lXCJdPUpTT04uc3RyaW5naWZ5KDFlMyp0aGlzLmRhdGEuc2RrQ29uZmlnRmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWUpKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnTmV4dEZldGNoQ29uZmlnJiYoaVtcInNkay5jb25maWcubmV4dEZldGNoQ29uZmlnXCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5zZGtDb25maWdOZXh0RmV0Y2hDb25maWcpKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnRGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmcmJihpW1wic2RrLmNvbmZpZy5kaXNhYmxlRGV2ZWxvcGVyVXNhZ2VUcmFja2luZ1wiXT1KU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuc2RrQ29uZmlnRGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmcpKSx2b2lkIDAhPT10aGlzLmRhdGEuc2RrQ29uZmlnRGlzYWJsZUNhY2hlJiYoaVtcInNkay5jb25maWcuZGlzYWJsZUNhY2hlXCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5zZGtDb25maWdEaXNhYmxlQ2FjaGUpKSx2b2lkIDAhPT10aGlzLmRhdGEuaHR0cFJlcXVlc3RVcmwmJihpW1wiaHR0cC5yZXF1ZXN0LnVybFwiXT1gJHt0aGlzLmRhdGEuaHR0cFJlcXVlc3RVcmx9YCksdm9pZCAwIT09dGhpcy5kYXRhLmh0dHBSZXF1ZXN0TWV0aG9kJiYoaVtcImh0dHAucmVxdWVzdC5tZXRob2RcIl09YCR7dGhpcy5kYXRhLmh0dHBSZXF1ZXN0TWV0aG9kfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5odHRwUmVxdWVzdEhlYWRlcnMmJihpW1wiaHR0cC5yZXF1ZXN0LmhlYWRlcnNcIl09SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLmh0dHBSZXF1ZXN0SGVhZGVycykpLHZvaWQgMCE9PXRoaXMuZGF0YS5odHRwUmVxdWVzdEJvZHkmJihpW1wiaHR0cC5yZXF1ZXN0LmJvZHlcIl09SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLmh0dHBSZXF1ZXN0Qm9keSkpLHZvaWQgMCE9PXRoaXMuZGF0YS5odHRwUmVzcG9uc2VVcmwmJihpW1wiaHR0cC5yZXNwb25zZS51cmxcIl09YCR7dGhpcy5kYXRhLmh0dHBSZXNwb25zZVVybH1gKSx2b2lkIDAhPT10aGlzLmRhdGEuaHR0cFJlc3BvbnNlTWV0aG9kJiYoaVtcImh0dHAucmVzcG9uc2UubWV0aG9kXCJdPWAke3RoaXMuZGF0YS5odHRwUmVzcG9uc2VNZXRob2R9YCksdm9pZCAwIT09dGhpcy5kYXRhLmh0dHBSZXNwb25zZUhlYWRlcnMmJihpW1wiaHR0cC5yZXNwb25zZS5oZWFkZXJzXCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5odHRwUmVzcG9uc2VIZWFkZXJzKSksdm9pZCAwIT09dGhpcy5kYXRhLmh0dHBSZXNwb25zZUNvZGUmJihpW1wiaHR0cC5yZXNwb25zZS5jb2RlXCJdPWAke3RoaXMuZGF0YS5odHRwUmVzcG9uc2VDb2RlfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5odHRwUmVzcG9uc2VCb2R5JiYoaVtcImh0dHAucmVzcG9uc2UuYm9keVwiXT1KU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEuaHR0cFJlc3BvbnNlQm9keSkpLHZvaWQgMCE9PXRoaXMuZGF0YS5odHRwUmVzcG9uc2VUaW1lJiYoaVtcImh0dHAucmVzcG9uc2UudGltZVwiXT1gJHt0aGlzLmRhdGEuaHR0cFJlc3BvbnNlVGltZX1gKSx2b2lkIDAhPT10aGlzLnZpc2l0b3JJZCYmKGlbXCJ2aXNpdG9yLnZpc2l0b3JJZFwiXT1gJHt0aGlzLnZpc2l0b3JJZH1gKSx2b2lkIDAhPT10aGlzLmFub255bW91c0lkJiYoaVtcInZpc2l0b3IuYW5vbnltb3VzSWRcIl09YCR7dGhpcy5hbm9ueW1vdXNJZH1gKSx2b2lkIDAhPT10aGlzLmRhdGEudmlzaXRvclNlc3Npb25JZCYmKGlbXCJ2aXNpdG9yLnNlc3Npb25JZFwiXT1gJHt0aGlzLmRhdGEudmlzaXRvclNlc3Npb25JZH1gKSx2b2lkIDAhPT10aGlzLmRhdGEudmlzaXRvclN0YXR1cyYmKGlbXCJ2aXNpdG9yLnN0YXR1c1wiXT1gJHt0aGlzLmRhdGEudmlzaXRvclN0YXR1c31gKSx2b2lkIDAhPT10aGlzLmRhdGEudmlzaXRvckluc3RhbmNlVHlwZSYmKGlbXCJ2aXNpdG9yLmluc3RhbmNlVHlwZVwiXT1gJHt0aGlzLmRhdGEudmlzaXRvckluc3RhbmNlVHlwZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEudmlzaXRvckNvbnRleHQpZm9yKGNvbnN0IHQgaW4gdGhpcy5kYXRhLnZpc2l0b3JDb250ZXh0KXtjb25zdCBlPXRoaXMuZGF0YS52aXNpdG9yQ29udGV4dFt0XTtpW2B2aXNpdG9yLmNvbnRleHQuWyR7dH1dYF09YCR7ZX1gfWlmKHZvaWQgMCE9PXRoaXMuZGF0YS52aXNpdG9yQ29uc2VudCYmKGlbXCJ2aXNpdG9yLmNvbnNlbnRcIl09YCR7dGhpcy5kYXRhLnZpc2l0b3JDb25zZW50fWApLHZvaWQgMCE9PXRoaXMuZGF0YS52aXNpdG9yQXNzaWdubWVudEhpc3RvcnkpZm9yKGNvbnN0IHQgaW4gdGhpcy5kYXRhLnZpc2l0b3JBc3NpZ25tZW50SGlzdG9yeSl7Y29uc3QgZT10aGlzLmRhdGEudmlzaXRvckFzc2lnbm1lbnRIaXN0b3J5W3RdO2lbYHZpc2l0b3IuYXNzaWdubWVudHMuWyR7dH1dYF09ZX1pZih2b2lkIDAhPT10aGlzLmRhdGEudmlzaXRvckZsYWdzJiZ0aGlzLmRhdGEudmlzaXRvckZsYWdzLmZvckVhY2goKCh0LGUpPT57Zm9yKGNvbnN0IHMgaW4gdCl7Y29uc3QgYT10W3NdLG89XCJ2YWx1ZVwiPT09c3x8XCJrZXlcIj09PXMsbj1cInN0cmluZ1wiPT10eXBlb2YgYT9hOkpTT04uc3RyaW5naWZ5KGEpO2lbYHZpc2l0b3IuZmxhZ3MuWyR7ZX1dJHtvP1wiXCI6XCIubWV0YWRhdGFcIn0uJHtzfWBdPW59fSkpLHZvaWQgMCE9PXRoaXMuZGF0YS52aXNpdG9ySXNBdXRoZW50aWNhdGVkJiYoaVtcInZpc2l0b3IuaXNBdXRoZW50aWNhdGVkXCJdPWAke3RoaXMuZGF0YS52aXNpdG9ySXNBdXRoZW50aWNhdGVkfWApLHZvaWQgMCE9PXRoaXMuZGF0YS52aXNpdG9ySW5pdGlhbENhbXBhaWducyYmKGlbXCJ2aXNpdG9yLmluaXRpYWxDYW1wYWlnbnNcIl09SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnZpc2l0b3JJbml0aWFsQ2FtcGFpZ25zKSksdm9pZCAwIT09dGhpcy5kYXRhLnZpc2l0b3JJbml0aWFsRmxhZ3NEYXRhJiYoaVtcInZpc2l0b3IuaW5pdGlhbEZsYWdzRGF0YVwiXT1KU09OLnN0cmluZ2lmeShBcnJheS5pc0FycmF5KHRoaXMuZGF0YS52aXNpdG9ySW5pdGlhbEZsYWdzRGF0YSk/dGhpcy5kYXRhLnZpc2l0b3JJbml0aWFsRmxhZ3NEYXRhOkFycmF5LmZyb20odGhpcy5kYXRhLnZpc2l0b3JJbml0aWFsRmxhZ3NEYXRhKSkpLHZvaWQgMCE9PXRoaXMuZGF0YS52aXNpdG9yQ2FtcGFpZ25zJiYoaVtcInZpc2l0b3IuY2FtcGFpZ25zXCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS52aXNpdG9yQ2FtcGFpZ25zKSksdm9pZCAwIT09dGhpcy5kYXRhLnZpc2l0b3JDYW1wYWlnbkZyb21DYWNoZSYmKGlbXCJ2aXNpdG9yLmNhbXBhaWduRnJvbUNhY2hlXCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS52aXNpdG9yQ2FtcGFpZ25Gcm9tQ2FjaGUpKSx2b2lkIDAhPT10aGlzLmRhdGEuY29udGV4dEtleSYmKGkuY29udGV4dEtleT1gJHt0aGlzLmRhdGEuY29udGV4dEtleX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuY29udGV4dFZhbHVlJiYoaS5jb250ZXh0VmFsdWU9YCR7dGhpcy5kYXRhLmNvbnRleHRWYWx1ZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuZmxhZ0tleSYmKGlbXCJmbGFnLmtleVwiXT1gJHt0aGlzLmRhdGEuZmxhZ0tleX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuZmxhZ1ZhbHVlJiYoaVtcImZsYWcudmFsdWVcIl09YCR7dGhpcy5kYXRhLmZsYWdWYWx1ZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuZmxhZ0RlZmF1bHQmJihpW1wiZmxhZy5kZWZhdWx0XCJdPUpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5mbGFnRGVmYXVsdCkpLHZvaWQgMCE9PXRoaXMuZGF0YS5mbGFnTWV0YWRhdGFDYW1wYWlnbklkJiYoaVtcImZsYWcubWV0YWRhdGEuY2FtcGFpZ25JZFwiXT1gJHt0aGlzLmRhdGEuZmxhZ01ldGFkYXRhQ2FtcGFpZ25JZH1gKSx2b2lkIDAhPT10aGlzLmRhdGEuZmxhZ01ldGFkYXRhQ2FtcGFpZ25OYW1lJiYoaVtcImZsYWcubWV0YWRhdGEuY2FtcGFpZ25OYW1lXCJdPWAke3RoaXMuZGF0YS5mbGFnTWV0YWRhdGFDYW1wYWlnbk5hbWV9YCksdm9pZCAwIT09dGhpcy5kYXRhLmZsYWdNZXRhZGF0YVZhcmlhdGlvbkdyb3VwSWQmJihpW1wiZmxhZy5tZXRhZGF0YS52YXJpYXRpb25Hcm91cElkXCJdPWAke3RoaXMuZGF0YS5mbGFnTWV0YWRhdGFWYXJpYXRpb25Hcm91cElkfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5mbGFnTWV0YWRhdGFWYXJpYXRpb25Hcm91cE5hbWUmJihpW1wiZmxhZy5tZXRhZGF0YS52YXJpYXRpb25Hcm91cE5hbWVcIl09YCR7dGhpcy5kYXRhLmZsYWdNZXRhZGF0YVZhcmlhdGlvbkdyb3VwTmFtZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuZmxhZ01ldGFkYXRhVmFyaWF0aW9uSWQmJihpW1wiZmxhZy5tZXRhZGF0YS52YXJpYXRpb25JZFwiXT1gJHt0aGlzLmRhdGEuZmxhZ01ldGFkYXRhVmFyaWF0aW9uSWR9YCksdm9pZCAwIT09dGhpcy5kYXRhLmZsYWdNZXRhZGF0YVZhcmlhdGlvbk5hbWUmJihpW1wiZmxhZy5tZXRhZGF0YS52YXJpYXRpb25OYW1lXCJdPWAke3RoaXMuZGF0YS5mbGFnTWV0YWRhdGFWYXJpYXRpb25OYW1lfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5mbGFnTWV0YWRhdGFDYW1wYWlnblNsdWcmJihpW1wiZmxhZy5tZXRhZGF0YS5jYW1wYWlnblNsdWdcIl09YCR7dGhpcy5kYXRhLmZsYWdNZXRhZGF0YUNhbXBhaWduU2x1Z31gKSx2b2lkIDAhPT10aGlzLmRhdGEuZmxhZ01ldGFkYXRhQ2FtcGFpZ25UeXBlJiYoaVtcImZsYWcubWV0YWRhdGEuY2FtcGFpZ25UeXBlXCJdPWAke3RoaXMuZGF0YS5mbGFnTWV0YWRhdGFDYW1wYWlnblR5cGV9YCksdm9pZCAwIT09dGhpcy5kYXRhLmZsYWdNZXRhZGF0YUNhbXBhaWduSXNSZWZlcmVuY2UmJihpW1wiZmxhZy5tZXRhZGF0YS5pc1JlZmVyZW5jZVwiXT1gJHt0aGlzLmRhdGEuZmxhZ01ldGFkYXRhQ2FtcGFpZ25Jc1JlZmVyZW5jZX1gKSx2b2lkIDAhPT10aGlzLmRhdGEuaGl0Q29udGVudClmb3IoY29uc3QgdCBpbiB0aGlzLmRhdGEuaGl0Q29udGVudCl7Y29uc3QgZT10aGlzLmRhdGEuaGl0Q29udGVudFt0XTtpW2BoaXQuJHt0fWBdPVwic3RyaW5nXCI9PXR5cGVvZiBlP2U6SlNPTi5zdHJpbmdpZnkoZSl9aWYodm9pZCAwIT09dGhpcy5kYXRhLmJhdGNoVHJpZ2dlcmVkQnkmJihpLmJhdGNoVHJpZ2dlcmVkQnk9YCR7ZmlbdGhpcy5kYXRhLmJhdGNoVHJpZ2dlcmVkQnldfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5hY2NvdW50U2V0dGluZ3MpZm9yKGNvbnN0IHQgaW4gdGhpcy5kYXRhLmFjY291bnRTZXR0aW5ncyl7Y29uc3QgZT10aGlzLmRhdGEuYWNjb3VudFNldHRpbmdzW3RdO2lbYGFjY291bnRTZXR0aW5ncy4ke3R9YF09XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpKU09OLnN0cmluZ2lmeShlKX1yZXR1cm4gdm9pZCAwIT09dGhpcy5kYXRhLmVBSVNjb3JlJiYoaVtcImVBSVNjb3JlLmVhaS5lYXNcIl09dGhpcy5kYXRhLmVBSVNjb3JlLmVhaS5lYXMpLHZvaWQgMCE9PXRoaXMuZGF0YS5pc0VBSVNjb3JlRnJvbUxvY2FsQ2FjaGUmJihpLmlzRUFJU2NvcmVGcm9tTG9jYWxDYWNoZT1gJHt0aGlzLmRhdGEuaXNFQUlTY29yZUZyb21Mb2NhbENhY2hlfWApLHZvaWQgMCE9PXRoaXMuZGF0YS5lQUlEYXRhVGltZXN0YW1wJiYoaS5lQUlEYXRhVGltZXN0YW1wPWAke3RoaXMuZGF0YS5lQUlEYXRhVGltZXN0YW1wfWApLHQuY3Y9aSx0fWlzUmVhZHkodD0hMCl7cmV0dXJuISh0JiYhc3VwZXIuaXNSZWFkeSgpKX1nZXRFcnJvck1lc3NhZ2UoKXtyZXR1cm5cImV2ZW50IGNhdGVnb3J5IGFuZCBldmVudCBhY3Rpb24gYXJlIHJlcXVpcmVkXCJ9fWNsYXNzIF9pIGV4dGVuZHMgcGl7Y29uc3RydWN0b3IodCl7c3VwZXIoey4uLnQsdHlwZTpcIlRST1VCTEVTSE9PVElOR1wifSl9fWNsYXNzIHZpe19jb25maWc7X3BhbmljPSExO19odHRwQ2xpZW50O19zdGF0dXNDaGFuZ2VkQ2FsbGJhY2s7X3Ryb3VibGVzaG9vdGluZztfbGFzdEJ1Y2tldGluZ1RpbWVzdGFtcDtfdHJhY2tpbmdNYW5hZ2VyO19mbGFnc2hpcEluc3RhbmNlSWQ7Z2V0IHRyYWNraW5nTWFuYWdlcigpe3JldHVybiB0aGlzLl90cmFja2luZ01hbmFnZXJ9c2V0IHRyYWNraW5nTWFuYWdlcih0KXt0aGlzLl90cmFja2luZ01hbmFnZXI9dH1nZXQgZmxhZ3NoaXBJbnN0YW5jZUlkKCl7cmV0dXJuIHRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZH1zZXQgZmxhZ3NoaXBJbnN0YW5jZUlkKHQpe3RoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZD10fWdldCBsYXN0QnVja2V0aW5nVGltZXN0YW1wKCl7cmV0dXJuIHRoaXMuX2xhc3RCdWNrZXRpbmdUaW1lc3RhbXB9Z2V0IHRyb3VibGVzaG9vdGluZygpe3JldHVybiB0aGlzLl90cm91Ymxlc2hvb3Rpbmd9c2V0IHRyb3VibGVzaG9vdGluZyh0KXt0aGlzLl90cm91Ymxlc2hvb3Rpbmc9dH1nZXQgY29uZmlnKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ31zZXQgcGFuaWModCl7dGhpcy51cGRhdGVGbGFnc2hpcFN0YXR1cyh0P0h0LlNES19QQU5JQzpIdC5TREtfSU5JVElBTElaRUQpLHRoaXMuX3BhbmljPXQsdCYmWXQodGhpcy5jb25maWcsXCJQYW5pYyBtb2RlIGlzIGVuYWJsZWQgOiBhbGwgZmVhdHVyZSBhcmUgZGlzYWJsZWQgZXhjZXB0IGZldGNoRmxhZ3MuXCIsbHQpfXN0YXR1c0NoYW5nZWRDYWxsYmFjayh0KXt0aGlzLl9zdGF0dXNDaGFuZ2VkQ2FsbGJhY2s9dH1jb25zdHJ1Y3Rvcih7aHR0cENsaWVudDp0LGNvbmZpZzppLHRyYWNraW5nTWFuYWdlcjplLGZsYWdzaGlwSW5zdGFuY2VJZDpzfSl7dGhpcy5fY29uZmlnPWksdGhpcy5faHR0cENsaWVudD10LHRoaXMuX3RyYWNraW5nTWFuYWdlcj1lLHRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZD1zfHxcIlwifXVwZGF0ZUZsYWdzaGlwU3RhdHVzKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX3N0YXR1c0NoYW5nZWRDYWxsYmFjayYmdGhpcy5fc3RhdHVzQ2hhbmdlZENhbGxiYWNrJiZ0aGlzLl9zdGF0dXNDaGFuZ2VkQ2FsbGJhY2sodCl9Z2V0TW9kaWZpY2F0aW9ucyh0KXtjb25zdCBpPW5ldyBNYXA7cmV0dXJuIHQuZm9yRWFjaCgodD0+e2NvbnN0IGU9dC52YXJpYXRpb24ubW9kaWZpY2F0aW9ucy52YWx1ZTtmb3IoY29uc3QgcyBpbiBlKXtjb25zdCBhPWVbc107aS5zZXQocyx7a2V5OnMsY2FtcGFpZ25JZDp0LmlkLGNhbXBhaWduTmFtZTp0Lm5hbWV8fFwiXCIsdmFyaWF0aW9uR3JvdXBJZDp0LnZhcmlhdGlvbkdyb3VwSWQsdmFyaWF0aW9uR3JvdXBOYW1lOnQudmFyaWF0aW9uR3JvdXBOYW1lfHxcIlwiLHZhcmlhdGlvbklkOnQudmFyaWF0aW9uLmlkLHZhcmlhdGlvbk5hbWU6dC52YXJpYXRpb24ubmFtZXx8XCJcIixpc1JlZmVyZW5jZTohIXQudmFyaWF0aW9uLnJlZmVyZW5jZSxjYW1wYWlnblR5cGU6dC50eXBlLHNsdWc6dC5zbHVnLHZhbHVlOmF9KX19KSksaX1pc1BhbmljKCl7cmV0dXJuIHRoaXMuX3BhbmljfWhhbmRsZVRyb3VibGVzaG9vdGluZ0Vycm9yKHQpe2NvbnN0e2Vycm9yOmksdmlzaXRvcjplLHJlcXVlc3RCb2R5OmEsaGVhZGVyczpvLHVybDpuLG5vdzpyfT10LGg9bmV3IF9pKHtsYWJlbDpkaS5HRVRfQ0FNUEFJR05TX1JPVVRFX1JFU1BPTlNFX0VSUk9SLGxvZ0xldmVsOnMuRVJST1IsdmlzaXRvcklkOmUudmlzaXRvcklkLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLmZsYWdzaGlwSW5zdGFuY2VJZCxhbm9ueW1vdXNJZDplLmFub255bW91c0lkLHZpc2l0b3JTZXNzaW9uSWQ6ZS5pbnN0YW5jZUlkLHRyYWZmaWM6MTAwLGNvbmZpZzp0aGlzLmNvbmZpZyx2aXNpdG9yQ29udGV4dDplLmNvbnRleHQsaHR0cFJlcXVlc3RCb2R5OmEsaHR0cFJlcXVlc3RIZWFkZXJzOm8saHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6bixodHRwUmVzcG9uc2VCb2R5Omk/Lm1lc3NhZ2UsaHR0cFJlc3BvbnNlSGVhZGVyczppPy5oZWFkZXJzLGh0dHBSZXNwb25zZUNvZGU6aT8uc3RhdHVzQ29kZSxodHRwUmVzcG9uc2VUaW1lOkRhdGUubm93KCktcn0pO3RoaXMudHJhY2tpbmdNYW5hZ2VyPy5hZGRUcm91Ymxlc2hvb3RpbmdIaXQoaCk7Y29uc3QgYz1paShpLm1lc3NhZ2V8fGkse3VybDpuLGhlYWRlcnM6byxib2R5OmEsZHVyYXRpb246RGF0ZS5ub3coKS1yfSk7dGhyb3cgbmV3IEVycm9yKGMpfWFzeW5jIGdldERlY2lzaW9uQXBpQ2FtcGFpZ25zQXN5bmModCl7Y29uc3QgaT17W3N0XTpgJHt0aGlzLmNvbmZpZy5hcGlLZXl9YCxbb3RdOm8ubmFtZSxbbnRdOm8udmVyc2lvbixbYXRdOnJ0fSxlPXt2aXNpdG9ySWQ6dC52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZCx0cmlnZ2VyX2hpdDohMSxjb250ZXh0OnQuY29udGV4dCx2aXNpdG9yX2NvbnNlbnQ6dC5oYXNDb25zZW50ZWR9LHM9YCR7dGhpcy5jb25maWcuZGVjaXNpb25BcGlVcmx8fHJ9JHt0aGlzLmNvbmZpZy5lbnZJZH0vY2FtcGFpZ25zP2V4cG9zZUFsbEtleXM9dHJ1ZSZleHRyYXNbXT1hY2NvdW50U2V0dGluZ3NgLGE9RGF0ZS5ub3coKTt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9odHRwQ2xpZW50LnBvc3RBc3luYyhzLHtoZWFkZXJzOmksdGltZW91dDp0aGlzLmNvbmZpZy50aW1lb3V0LGJvZHk6ZSxuZXh0RmV0Y2hDb25maWc6dGhpcy5jb25maWcubmV4dEZldGNoQ29uZmlnfSk7dGhpcy5wYW5pYz0hIXQ/LmJvZHk/LnBhbmljO2xldCBhPW51bGw7dD8uYm9keT8uY2FtcGFpZ25zJiYoYT10LmJvZHkuY2FtcGFpZ25zKTtjb25zdCBvPXQ/LmJvZHk/LmV4dHJhcz8uYWNjb3VudFNldHRpbmdzPy50cm91Ymxlc2hvb3Rpbmc7cmV0dXJuIG8mJih0aGlzLnRyb3VibGVzaG9vdGluZz17c3RhcnREYXRlOm5ldyBEYXRlKG8uc3RhcnREYXRlKSxlbmREYXRlOm5ldyBEYXRlKG8uZW5kRGF0ZSksdGltZXpvbmU6by50aW1lem9uZSx0cmFmZmljOm8udHJhZmZpY30pLGF9Y2F0Y2gobyl7dGhpcy5oYW5kbGVUcm91Ymxlc2hvb3RpbmdFcnJvcih7ZXJyb3I6byx2aXNpdG9yOnQscmVxdWVzdEJvZHk6ZSxoZWFkZXJzOmksdXJsOnMsbm93OmF9KX19fWNsYXNzIG1pIGV4dGVuZHMgdml7YXN5bmMgZ2V0Q2FtcGFpZ25zQXN5bmModCl7cmV0dXJuIHRoaXMuZ2V0RGVjaXNpb25BcGlDYW1wYWlnbnNBc3luYyh0KX19Y2xhc3MgQ2kgZXh0ZW5kcyBJaXtfY29udGV4dDtnZXQgY29udGV4dCgpe3JldHVybiB0aGlzLl9jb250ZXh0fXNldCBjb250ZXh0KHQpe3RoaXMuX2NvbnRleHQ9dH1jb25zdHJ1Y3Rvcih0KXtzdXBlcih7dHlwZTpcIlNFR01FTlRcIix1c2VySXA6dC51c2VySXAsc2NyZWVuUmVzb2x1dGlvbjp0LnNjcmVlblJlc29sdXRpb24sbG9jYWxlOnQubG9jYWxlLHNlc3Npb25OdW1iZXI6dC5zZXNzaW9uTnVtYmVyLHZpc2l0b3JJZDp0LnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0LmFub255bW91c0lkLHFhTW9kZTp0LnFhTW9kZSxpc0FjdGlvblRyYWNraW5nSGl0OnQuaXNBY3Rpb25UcmFja2luZ0hpdH0pLHRoaXMuY29udGV4dD10LmNvbnRleHR9aXNSZWFkeSh0PSEwKXtyZXR1cm4hKHQmJiFzdXBlci5pc1JlYWR5KCl8fCF0aGlzLmNvbnRleHQpfXRvQXBpS2V5cygpe2NvbnN0IHQ9c3VwZXIudG9BcGlLZXlzKCk7cmV0dXJuIHQucz10aGlzLmNvbnRleHQsdH10b09iamVjdCgpe3JldHVybnsuLi5zdXBlci50b09iamVjdCgpLGNvbnRleHQ6dGhpcy5jb250ZXh0fX1nZXRFcnJvck1lc3NhZ2UoKXtyZXR1cm5cImRhdGEgcHJvcGVydHkgaXMgcmVxdWlyZWRcIn19dmFyIFRpOyFmdW5jdGlvbih0KXt0LkFDVElPTl9UUkFDS0lORz1cIkFjdGlvbiBUcmFja2luZ1wiLHQuVVNFUl9FTkdBR0VNRU5UPVwiVXNlciBFbmdhZ2VtZW50XCJ9KFRpfHwoVGk9e30pKTtjbGFzcyB5aSBleHRlbmRzIElpe19jYXRlZ29yeTtfYWN0aW9uO19sYWJlbDtfdmFsdWU7Z2V0IGNhdGVnb3J5KCl7cmV0dXJuIHRoaXMuX2NhdGVnb3J5fXNldCBjYXRlZ29yeSh0KXtPYmplY3QudmFsdWVzKFRpKS5pbmNsdWRlcyh0KT90aGlzLl9jYXRlZ29yeT10OlF0KHRoaXMuY29uZmlnLFwiVGhlIGNhdGVnb3J5IHZhbHVlIG11c3QgYmUgZWl0aGVyIEV2ZW50Q2F0ZWdvcnk6OkFDVElPTl9UUkFDS0lORyBvciBFdmVudENhdGVnb3J5OjpBQ1RJT05fVFJBQ0tJTkdcIixcImNhdGVnb3J5XCIpfWdldCBhY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aW9ufXNldCBhY3Rpb24odCl7dGhpcy5pc05vdEVtcHR5U3RyaW5nKHQsXCJhY3Rpb25cIikmJih0aGlzLl9hY3Rpb249dCl9Z2V0IGxhYmVsKCl7cmV0dXJuIHRoaXMuX2xhYmVsfXNldCBsYWJlbCh0KXt0aGlzLmlzTm90RW1wdHlTdHJpbmcodCxcImxhYmVsXCIpJiYodGhpcy5fbGFiZWw9dCl9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfXNldCB2YWx1ZSh0KXshTnVtYmVyLmlzSW50ZWdlcih0KXx8dDwwP1F0KHRoaXMuY29uZmlnLFwidmFsdWUgbXVzdCBiZSBhbiBpbnRlZ2VyIGFuZCBiZSA+PSAwXCIsXCJ2YWx1ZVwiKTp0aGlzLl92YWx1ZT10fWNvbnN0cnVjdG9yKHQpe3N1cGVyKHt0eXBlOlZ0LkVWRU5ULHVzZXJJcDp0LnVzZXJJcCxzY3JlZW5SZXNvbHV0aW9uOnQuc2NyZWVuUmVzb2x1dGlvbixsb2NhbGU6dC5sb2NhbGUsc2Vzc2lvbk51bWJlcjp0LnNlc3Npb25OdW1iZXIsdmlzaXRvcklkOnQudmlzaXRvcklkLGFub255bW91c0lkOnQuYW5vbnltb3VzSWQscWFNb2RlOnQucWFNb2RlLGlzQWN0aW9uVHJhY2tpbmdIaXQ6dC5pc0FjdGlvblRyYWNraW5nSGl0fSk7Y29uc3R7Y2F0ZWdvcnk6aSxhY3Rpb246ZSxsYWJlbDpzLHZhbHVlOmF9PXQ7dGhpcy5jYXRlZ29yeT1pLHRoaXMuYWN0aW9uPWUscyYmKHRoaXMubGFiZWw9cyksYSYmKHRoaXMudmFsdWU9YSl9dG9BcGlLZXlzKCl7Y29uc3QgdD1zdXBlci50b0FwaUtleXMoKTtyZXR1cm4gdC5lYz10aGlzLmNhdGVnb3J5LHQuZWE9dGhpcy5hY3Rpb24sdGhpcy5sYWJlbCYmKHQuZWw9dGhpcy5sYWJlbCksdGhpcy52YWx1ZSYmKHQuZXY9dGhpcy52YWx1ZSksdH10b09iamVjdCgpe3JldHVybnsuLi5zdXBlci50b09iamVjdCgpLGNhdGVnb3J5OnRoaXMuY2F0ZWdvcnksYWN0aW9uOnRoaXMuYWN0aW9uLGxhYmVsOnRoaXMubGFiZWwsdmFsdWU6dGhpcy52YWx1ZX19aXNSZWFkeSh0PSEwKXtyZXR1cm4hKHQmJiFzdXBlci5pc1JlYWR5KCl8fCF0aGlzLmNhdGVnb3J5fHwhdGhpcy5hY3Rpb24pfWdldEVycm9yTWVzc2FnZSgpe3JldHVyblwiZXZlbnQgY2F0ZWdvcnkgYW5kIGV2ZW50IGFjdGlvbiBhcmUgcmVxdWlyZWRcIn19Y2xhc3MgRWkgZXh0ZW5kcyBJaXtfZG9jdW1lbnRMb2NhdGlvbjtnZXQgZG9jdW1lbnRMb2NhdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudExvY2F0aW9ufXNldCBkb2N1bWVudExvY2F0aW9uKHQpe3RoaXMuaXNOb3RFbXB0eVN0cmluZyh0LFwiZG9jdW1lbnRMb2NhdGlvblwiKSYmKHRoaXMuX2RvY3VtZW50TG9jYXRpb249dCl9Y29uc3RydWN0b3IodCl7c3VwZXIoe3R5cGU6VnQuU0NSRUVOX1ZJRVcsdXNlcklwOnQudXNlcklwLHNjcmVlblJlc29sdXRpb246dC5zY3JlZW5SZXNvbHV0aW9uLGxvY2FsZTp0LmxvY2FsZSxzZXNzaW9uTnVtYmVyOnQuc2Vzc2lvbk51bWJlcix2aXNpdG9ySWQ6dC52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZCxxYU1vZGU6dC5xYU1vZGUsaXNBY3Rpb25UcmFja2luZ0hpdDp0LmlzQWN0aW9uVHJhY2tpbmdIaXR9KSx0aGlzLmRvY3VtZW50TG9jYXRpb249dC5kb2N1bWVudExvY2F0aW9ufWlzUmVhZHkodD0hMCl7cmV0dXJuISh0JiYhc3VwZXIuaXNSZWFkeSgpfHwhdGhpcy5kb2N1bWVudExvY2F0aW9uKX10b0FwaUtleXMoKXtjb25zdCB0PXN1cGVyLnRvQXBpS2V5cygpO3JldHVybiB0LmRsPXRoaXMuZG9jdW1lbnRMb2NhdGlvbix0fXRvT2JqZWN0KCl7cmV0dXJuey4uLnN1cGVyLnRvT2JqZWN0KCksZG9jdW1lbnRMb2NhdGlvbjp0aGlzLmRvY3VtZW50TG9jYXRpb259fWdldEVycm9yTWVzc2FnZSgpe3JldHVyblwiU2NyZWVuIG5hbWUgaXMgcmVxdWlyZWRcIn19Y2xhc3MgQWl7X2hpdHM7X2NvbmZpZztnZXQgaGl0cygpe3JldHVybiB0aGlzLl9oaXRzfWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5fY29uZmlnfWNvbnN0cnVjdG9yKHQsaSl7dGhpcy5fY29uZmlnPWksdGhpcy5faGl0cz10fXRvQXBpS2V5cygpe3JldHVybntbJF06YCR7dGhpcy5jb25maWc/LmVudklkfWAsW1FdOnRoaXMuaGl0cy5tYXAoKHQ9Pntjb25zdCBpPXQudG9BcGlLZXlzKCk7cmV0dXJuIGRlbGV0ZSBpWyRdLGl9KSl9fX1jbGFzcyBTaSBleHRlbmRzIElpe192YXJpYXRpb25Hcm91cElkO192YXJpYXRpb25JZDtfZmxhZ0tleTtfZmxhZ1ZhbHVlO19mbGFnRGVmYXVsdFZhbHVlO19mbGFnTWV0YWRhdGE7X3Zpc2l0b3JDb250ZXh0O2NvbnN0cnVjdG9yKHQpe3N1cGVyKHt0eXBlOlwiQUNUSVZBVEVcIix1c2VySXA6dC51c2VySXAsc2NyZWVuUmVzb2x1dGlvbjp0LnNjcmVlblJlc29sdXRpb24sbG9jYWxlOnQubG9jYWxlLHNlc3Npb25OdW1iZXI6dC5zZXNzaW9uTnVtYmVyLHZpc2l0b3JJZDp0LnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0LmFub255bW91c0lkLHFhTW9kZTp0LnFhTW9kZX0pO2NvbnN0e3ZhcmlhdGlvbkdyb3VwSWQ6aSx2YXJpYXRpb25JZDplLGZsYWdLZXk6cyxmbGFnVmFsdWU6YSxmbGFnRGVmYXVsdFZhbHVlOm8sZmxhZ01ldGFkYXRhOm4sdmlzaXRvckNvbnRleHQ6cn09dDt0aGlzLnZhcmlhdGlvbkdyb3VwSWQ9aSx0aGlzLnZhcmlhdGlvbklkPWUsdGhpcy5mbGFnS2V5PXMsdGhpcy5mbGFnVmFsdWU9YSx0aGlzLmZsYWdEZWZhdWx0VmFsdWU9byx0aGlzLmZsYWdNZXRhZGF0YT1uLHRoaXMudmlzaXRvckNvbnRleHQ9cn1nZXQgdmFyaWF0aW9uR3JvdXBJZCgpe3JldHVybiB0aGlzLl92YXJpYXRpb25Hcm91cElkfXNldCB2YXJpYXRpb25Hcm91cElkKHQpe3RoaXMuX3ZhcmlhdGlvbkdyb3VwSWQ9dH1nZXQgdmFyaWF0aW9uSWQoKXtyZXR1cm4gdGhpcy5fdmFyaWF0aW9uSWR9c2V0IHZhcmlhdGlvbklkKHQpe3RoaXMuX3ZhcmlhdGlvbklkPXR9Z2V0IGZsYWdLZXkoKXtyZXR1cm4gdGhpcy5fZmxhZ0tleX1zZXQgZmxhZ0tleSh0KXt0aGlzLl9mbGFnS2V5PXR9Z2V0IGZsYWdWYWx1ZSgpe3JldHVybiB0aGlzLl9mbGFnVmFsdWV9c2V0IGZsYWdWYWx1ZSh0KXt0aGlzLl9mbGFnVmFsdWU9dH1nZXQgZmxhZ0RlZmF1bHRWYWx1ZSgpe3JldHVybiB0aGlzLl9mbGFnRGVmYXVsdFZhbHVlfXNldCBmbGFnRGVmYXVsdFZhbHVlKHQpe3RoaXMuX2ZsYWdEZWZhdWx0VmFsdWU9dH1nZXQgZmxhZ01ldGFkYXRhKCl7cmV0dXJuIHRoaXMuX2ZsYWdNZXRhZGF0YX1zZXQgZmxhZ01ldGFkYXRhKHQpe3RoaXMuX2ZsYWdNZXRhZGF0YT10fWdldCB2aXNpdG9yQ29udGV4dCgpe3JldHVybiB0aGlzLl92aXNpdG9yQ29udGV4dH1zZXQgdmlzaXRvckNvbnRleHQodCl7dGhpcy5fdmlzaXRvckNvbnRleHQ9dH1pc1JlYWR5KHQ9ITApe3JldHVybiEodCYmIXN1cGVyLmlzUmVhZHkoKXx8IXRoaXMudmFyaWF0aW9uR3JvdXBJZHx8IXRoaXMudmFyaWF0aW9uSWQpfXRvQXBpS2V5cygpe2NvbnN0IHQ9e1tKXTp0aGlzLmFub255bW91c0lkfHx0aGlzLnZpc2l0b3JJZCxbWl06dGhpcy52YXJpYXRpb25JZCxbWV06dGhpcy52YXJpYXRpb25Hcm91cElkLFt6XTp0aGlzLmNvbmZpZy5lbnZJZCxbal06bnVsbCxbaXRdOkRhdGUubm93KCktdGhpcy5jcmVhdGVkQXR9O3JldHVybiB0aGlzLnZpc2l0b3JJZCYmdGhpcy5hbm9ueW1vdXNJZCYmKHRbSl09dGhpcy52aXNpdG9ySWQsdC5haWQ9dGhpcy5hbm9ueW1vdXNJZCksdGhpcy5xYU1vZGUmJih0LnFhPXRoaXMucWFNb2RlKSx0fXRvT2JqZWN0KCl7cmV0dXJuey4uLnN1cGVyLnRvT2JqZWN0KCksdmFyaWF0aW9uR3JvdXBJZDp0aGlzLnZhcmlhdGlvbkdyb3VwSWQsdmFyaWF0aW9uSWQ6dGhpcy52YXJpYXRpb25JZH19Z2V0RXJyb3JNZXNzYWdlKCl7cmV0dXJuXCJ2YXJpYXRpb25Hcm91cElkIGFuZCB2YXJpYXRpb25JZCBhcmUgcmVxdWlyZWRcIn19Y2xhc3Mga2kgZXh0ZW5kcyBJaXtfaGl0cztnZXQgaGl0cygpe3JldHVybiB0aGlzLl9oaXRzfXNldCBoaXRzKHQpe3RoaXMuX2hpdHM9dH1jb25zdHJ1Y3Rvcih0KXtzdXBlcih7Li4udCx2aXNpdG9ySWQ6XCJcIixhbm9ueW1vdXNJZDpcIlwiLHR5cGU6XCJCQVRDSFwifSksdGhpcy5oaXRzPXQuaGl0c31pc1JlYWR5KCl7cmV0dXJuISEoc3VwZXIuaXNSZWFkeSgpJiZ0aGlzLmhpdHMmJnRoaXMuaGl0cy5sZW5ndGg+MCYmdGhpcy5oaXRzLmV2ZXJ5KCh0PT50LmlzUmVhZHkoITEpKSkpfXRvQXBpS2V5cygpe2NvbnN0IHQ9e1tYXTp0aGlzLmRzLFskXTpgJHt0aGlzLmNvbmZpZz8uZW52SWR9YCxbdHRdOnRoaXMudHlwZSxbaXRdOkRhdGUubm93KCktdGhpcy5jcmVhdGVkQXR9O3JldHVybiB0Lmg9dGhpcy5oaXRzLm1hcCgodD0+e2NvbnN0IGk9dC50b0FwaUtleXMoKTtyZXR1cm4gZGVsZXRlIGlbWF0sZGVsZXRlIGlbJF0saX0pKSx0fWdldEVycm9yTWVzc2FnZSgpe3JldHVyblwiUGxlYXNlIGNoZWNrIHJlcXVpcmVkIGZpZWxkc1wifX1jbGFzcyBSaXtfY29uZmlnO19oaXRzUG9vbFF1ZXVlO19hY3RpdmF0ZVBvb2xRdWV1ZTtfaHR0cENsaWVudDtfdHJvdWJsZXNob290aW5nUXVldWU7X3VzYWdlSGl0UXVldWU7X2ZsYWdzaGlwSW5zdGFuY2VJZDtfaXNVc2FnZUhpdFF1ZXVlU2VuZGluZztfaXNUcm91Ymxlc2hvb3RpbmdRdWV1ZVNlbmRpbmc7X0hpdHNUb0ZzUWE7X3NlbmRGc0hpdFRvUUFUaW1lb3V0SWQ7X3Ryb3VibGVzaG9vdGluZ0RhdGE7X2luaXRUcm91Ymxlc2hvb3RpbmdIaXQ7X2hhc0luaXRUcm91Ymxlc2hvb3RpbmdIaXRTZW50O19zaGFyZWRBY3Rpb25UcmFja2luZztnZXQgZmxhZ3NoaXBJbnN0YW5jZUlkKCl7cmV0dXJuIHRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZH1nZXQgdHJvdWJsZXNob290aW5nRGF0YSgpe3JldHVybiB0aGlzLl90cm91Ymxlc2hvb3RpbmdEYXRhfXNldCB0cm91Ymxlc2hvb3RpbmdEYXRhKHQpe3RoaXMuX3Ryb3VibGVzaG9vdGluZ0RhdGE9dH1nZXQgY29uZmlnKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ31nZXQgaW5pdFRyb3VibGVzaG9vdGluZ0hpdCgpe3JldHVybiB0aGlzLl9pbml0VHJvdWJsZXNob290aW5nSGl0fXNldCBpbml0VHJvdWJsZXNob290aW5nSGl0KHQpe3RoaXMuX2luaXRUcm91Ymxlc2hvb3RpbmdIaXQ9dH1jb25zdHJ1Y3Rvcih0KXtjb25zdHtjb25maWc6aSxoaXRzUG9vbFF1ZXVlOmUsaHR0cENsaWVudDpzLGFjdGl2YXRlUG9vbFF1ZXVlOmEsdHJvdWJsZXNob290aW5nUXVldWU6byxmbGFnc2hpcEluc3RhbmNlSWQ6bixhbmFseXRpY0hpdFF1ZXVlOnIsaW5pdFRyb3VibGVzaG9vdGluZ0hpdDpoLHNoYXJlZEFjdGlvblRyYWNraW5nOmN9PXQ7dGhpcy5fSGl0c1RvRnNRYT1bXSx0aGlzLl9oYXNJbml0VHJvdWJsZXNob290aW5nSGl0U2VudD0hMSx0aGlzLl9jb25maWc9aSx0aGlzLl9oaXRzUG9vbFF1ZXVlPWUsdGhpcy5faHR0cENsaWVudD1zLHRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlPWEsdGhpcy5fdHJvdWJsZXNob290aW5nUXVldWU9byx0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQ9bix0aGlzLl91c2FnZUhpdFF1ZXVlPXIsdGhpcy5faXNVc2FnZUhpdFF1ZXVlU2VuZGluZz0hMSx0aGlzLl9pc1Ryb3VibGVzaG9vdGluZ1F1ZXVlU2VuZGluZz0hMSx0aGlzLl9pbml0VHJvdWJsZXNob290aW5nSGl0PWgsdGhpcy5fc2hhcmVkQWN0aW9uVHJhY2tpbmc9Y31kaXNwYXRjaEhpdHNUb1RhZyh0KXt7aWYoIVp0KCkpcmV0dXJuO2NvbnN0IGk9W107Zm9yKGNvbnN0IGUgb2YgdClpZihlLnR5cGU9PT1WdC5FVkVOVCYmZS5jYXRlZ29yeT09PVRpLkFDVElPTl9UUkFDS0lORyYmIWUuaXNBY3Rpb25UcmFja2luZ0hpdCl7Y29uc3QgdD1lO2kucHVzaCh7dmlzaXRvcklkOnQudmlzaXRvcklkLGNyZWF0ZWRBdDp0LmNyZWF0ZWRBdCxhbm9ueW1vdXNJZDp0LmFub255bW91c0lkLGRhdGE6e2VjOnQuY2F0ZWdvcnksZWE6dC5hY3Rpb24sZWw6dC5sYWJlbCxldjp0LnZhbHVlfX0pfWkubGVuZ3RoJiZ0aGlzLl9zaGFyZWRBY3Rpb25UcmFja2luZz8uZGlzcGF0Y2hFdmVudEhpdHMoaSl9fXNlbmRIaXRzVG9Gc1FhKHQpe1p0KCkmJnRoaXMuY29uZmlnLmlzUUFNb2RlRW5hYmxlZCYmaW1wb3J0KFwiLi9EYXBTakg5MC5qc1wiKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pfSkpLnRoZW4oKGk9Pnt0aGlzLl9IaXRzVG9Gc1FhLnB1c2goLi4udCk7dGhpcy5fSGl0c1RvRnNRYS5sZW5ndGg+PTEwJiYoaS5zZW5kRnNIaXRUb1FBKHRoaXMuX0hpdHNUb0ZzUWEubWFwKCh0PT50LnRvQXBpS2V5cygpKSkpLHRoaXMuX0hpdHNUb0ZzUWE9W10pLHRoaXMuX3NlbmRGc0hpdFRvUUFUaW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl9zZW5kRnNIaXRUb1FBVGltZW91dElkKSx0aGlzLl9IaXRzVG9Gc1FhLmxlbmd0aCYmKHRoaXMuX3NlbmRGc0hpdFRvUUFUaW1lb3V0SWQ9c2V0VGltZW91dCgoKCk9PntpLnNlbmRGc0hpdFRvUUEodGhpcy5fSGl0c1RvRnNRYS5tYXAoKHQ9PnQudG9BcGlLZXlzKCkpKSksdGhpcy5fSGl0c1RvRnNRYT1bXX0pLDNlMykpfSkpfWFzeW5jIGFkZEhpdCh0KXtjb25zdCBpPWAke3QudmlzaXRvcklkfToke3RpKCl9YDt0LmtleT1pLGF3YWl0IHRoaXMuYWRkSGl0SW5Qb29sUXVldWUodCksdC50eXBlPT09VnQuRVZFTlQmJnQuYWN0aW9uPT09RSYmdC5sYWJlbD09PWAke28ubmFtZX06ZmFsc2VgJiZhd2FpdCB0aGlzLm5vdENvbnNlbnQodC52aXNpdG9ySWQpLEp0KHRoaXMuY29uZmlnLFJ0LFwiVGhlIEhJVCBoYXMgYmVlbiBhZGRlZCBpbnRvIHRoZSBwb29sIHF1ZXVlIDogezB9XCIsdC50b0FwaUtleXMoKSksdGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5wb29sTWF4U2l6ZSYmdGhpcy5faGl0c1Bvb2xRdWV1ZS5zaXplPj10aGlzLmNvbmZpZy50cmFja2luZ01hbmFnZXJDb25maWcucG9vbE1heFNpemUmJnRoaXMuY29uZmlnLmRlY2lzaW9uTW9kZSE9PVV0LkJVQ0tFVElOR19FREdFJiZ0aGlzLnNlbmRCYXRjaCgpfWFzeW5jIGFjdGl2YXRlRmxhZyh0KXtjb25zdCBpPW5ldyBTaSh0KTtpLmNvbmZpZz10aGlzLmNvbmZpZztjb25zdCBlPWAke2kudmlzaXRvcklkfToke3RpKCl9YDtpZihpLmtleT1lLHRoaXMuY29uZmlnLmRlY2lzaW9uTW9kZT09PVV0LkJVQ0tFVElOR19FREdFKXJldHVybiBhd2FpdCB0aGlzLmFjdGl2YXRlRmxhZ0VkZ2VNb2RlKGkpLHZvaWQgWXQodGhpcy5jb25maWcscXQoXCJUaGUgQUNUSVZBVEUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHBvb2wgcXVldWUgOiB7MH1cIixKU09OLnN0cmluZ2lmeShpLnRvQXBpS2V5cygpKSksXCJBREQgQUNUSVZBVEVcIik7bGV0IHM9W107dGhpcy5fYWN0aXZhdGVQb29sUXVldWUuc2l6ZSYmKHM9QXJyYXkuZnJvbSh0aGlzLl9hY3RpdmF0ZVBvb2xRdWV1ZS52YWx1ZXMoKSkpLHRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlLmNsZWFyKCksYXdhaXQgdGhpcy5zZW5kQWN0aXZhdGUoe2FjdGl2YXRlSGl0c1Bvb2w6cyxjdXJyZW50QWN0aXZhdGU6aSxiYXRjaFRyaWdnZXJlZEJ5OmZpLkFjdGl2YXRlTGVuZ3RofSl9YXN5bmMgYWN0aXZhdGVGbGFnRWRnZU1vZGUodCl7dGhpcy5fYWN0aXZhdGVQb29sUXVldWUuc2V0KHQua2V5LHQpLGF3YWl0IHRoaXMuY2FjaGVIaXQobmV3IE1hcChbW3Qua2V5LHRdXSkpfW9uVmlzaXRvckV4cG9zZWQodCl7Y29uc3QgaT10aGlzLmNvbmZpZy5vblZpc2l0b3JFeHBvc2VkO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpcmV0dXJuO2NvbnN0IGU9e2tleTp0LmZsYWdLZXksdmFsdWU6dC5mbGFnVmFsdWUsZGVmYXVsdFZhbHVlOnQuZmxhZ0RlZmF1bHRWYWx1ZSxtZXRhZGF0YTp0LmZsYWdNZXRhZGF0YX07aSh7ZXhwb3NlZFZpc2l0b3I6e2lkOnQudmlzaXRvcklkLGFub255bW91c0lkOnQuYW5vbnltb3VzSWQsY29udGV4dDp0LnZpc2l0b3JDb250ZXh0fSxmcm9tRmxhZzplfSl9YXN5bmMgc2VuZEJhdGNoKHQ9ZmkuQmF0Y2hMZW5ndGgpe2lmKHRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlLnNpemUpe2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLl9hY3RpdmF0ZVBvb2xRdWV1ZS52YWx1ZXMoKSk7dGhpcy5fYWN0aXZhdGVQb29sUXVldWUuY2xlYXIoKSxhd2FpdCB0aGlzLnNlbmRBY3RpdmF0ZSh7YWN0aXZhdGVIaXRzUG9vbDppLGJhdGNoVHJpZ2dlcmVkQnk6dH0pfWNvbnN0IGk9bmV3IGtpKHtoaXRzOltdLGRzOmV0fSk7aS5jb25maWc9dGhpcy5jb25maWc7Y29uc3QgZT1bXTtmb3IoY29uc3RbdCxzXW9mIHRoaXMuX2hpdHNQb29sUXVldWUpe2lmKERhdGUubm93KCktcy5jcmVhdGVkQXQ+PXcpe2UucHVzaCh0KTtjb250aW51ZX1pZihKU09OLnN0cmluZ2lmeShpKS5sZW5ndGg+bilicmVhaztpLmhpdHMucHVzaChzKSxlLnB1c2godCl9aWYoZS5mb3JFYWNoKCh0PT57dGhpcy5faGl0c1Bvb2xRdWV1ZS5kZWxldGUodCl9KSksIWkuaGl0cy5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9e1thdF06cnR9LG89aS50b0FwaUtleXMoKSxyPURhdGUubm93KCk7dHJ5e2F3YWl0IHRoaXMuX2h0dHBDbGllbnQucG9zdEFzeW5jKGgse2hlYWRlcnM6YSxib2R5Om8sdGltZW91dDp0aGlzLmNvbmZpZy50aW1lb3V0LG5leHRGZXRjaENvbmZpZzp0aGlzLmNvbmZpZy5uZXh0RmV0Y2hDb25maWd9KSxKdCh0aGlzLmNvbmZpZyxSdCxEdCxPdCx7dXJsOmgsYm9keTpvLGhlYWRlcnM6YSxuZXh0RmV0Y2hDb25maWc6dGhpcy5jb25maWcubmV4dEZldGNoQ29uZmlnLGR1cmF0aW9uOkRhdGUubm93KCktcixiYXRjaFRyaWdnZXJlZEJ5OmZpW3RdfSksYXdhaXQgdGhpcy5mbHVzaEhpdHMoZSksdGhpcy5zZW5kSGl0c1RvRnNRYShpLmhpdHMpLHRoaXMuZGlzcGF0Y2hIaXRzVG9UYWcoaS5oaXRzKX1jYXRjaChlKXtpLmhpdHMuZm9yRWFjaCgodD0+e3RoaXMuX2hpdHNQb29sUXVldWUuc2V0KHQua2V5LHQpfSkpLEt0KHRoaXMuY29uZmlnLFJ0LE50LE90LHtodHRwUmVxdWVzdEJvZHk6byxodHRwUmVxdWVzdEhlYWRlcnM6YSxodHRwUmVxdWVzdE1ldGhvZDpcIlBPU1RcIixodHRwUmVxdWVzdFVybDpoLGh0dHBSZXNwb25zZUJvZHk6ZT8ubWVzc2FnZSxodHRwUmVzcG9uc2VIZWFkZXJzOmU/LmhlYWRlcnMsaHR0cFJlc3BvbnNlQ29kZTplPy5zdGF0dXNDb2RlLGR1cmF0aW9uOkRhdGUubm93KCktcixiYXRjaFRyaWdnZXJlZEJ5OmZpW3RdfSk7Y29uc3Qgbj1uZXcgX2koe2xhYmVsOmRpLlNFTkRfQkFUQ0hfSElUX1JPVVRFX1JFU1BPTlNFX0VSUk9SLGxvZ0xldmVsOnMuRVJST1IsdmlzaXRvcklkOmAke3RoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZH1gLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQsdHJhZmZpYzowLGNvbmZpZzp0aGlzLmNvbmZpZyxodHRwUmVxdWVzdEJvZHk6aS5oaXRzLGh0dHBSZXF1ZXN0SGVhZGVyczphLGh0dHBSZXNwb25zZUJvZHk6ZT8ubWVzc2FnZSxodHRwUmVzcG9uc2VIZWFkZXJzOmU/LmhlYWRlcnMsaHR0cFJlc3BvbnNlTWV0aG9kOlwiUE9TVFwiLGh0dHBSZXNwb25zZVVybDpoLGh0dHBSZXNwb25zZUNvZGU6ZT8uc3RhdHVzQ29kZSxodHRwUmVzcG9uc2VUaW1lOkRhdGUubm93KCktcixiYXRjaFRyaWdnZXJlZEJ5OnR9KTt0aGlzLnNlbmRUcm91Ymxlc2hvb3RpbmdIaXQobil9fWFzeW5jIG5vdENvbnNlbnQodCl7Y29uc3QgaT1BcnJheS5mcm9tKHRoaXMuX2hpdHNQb29sUXVldWUpLmZpbHRlcigoKFssaV0pPT4hKGk/LnR5cGU9PT1WdC5FVkVOVCYmaT8uYWN0aW9uPT09RXx8aS52aXNpdG9ySWQhPT10JiZpLmFub255bW91c0lkIT09dCkpKSxlPUFycmF5LmZyb20odGhpcy5fYWN0aXZhdGVQb29sUXVldWUpLmZpbHRlcigoKFssaV0pPT5pLnZpc2l0b3JJZD09PXR8fGkuYW5vbnltb3VzSWQ9PT10KSkscz1bXTtpLmZvckVhY2goKChbdF0pPT57dGhpcy5faGl0c1Bvb2xRdWV1ZS5kZWxldGUodCkscy5wdXNoKHQpfSkpLGUuZm9yRWFjaCgoKFt0XSk9Pnt0aGlzLl9hY3RpdmF0ZVBvb2xRdWV1ZS5kZWxldGUodCkscy5wdXNoKHQpfSkpLHMubGVuZ3RoJiZhd2FpdCB0aGlzLmZsdXNoSGl0cyhzKX1hc3luYyBjYWNoZUhpdCh0KXt0cnl7Y29uc3QgaT10aGlzLmNvbmZpZy5oaXRDYWNoZUltcGxlbWVudGF0aW9uO2lmKHRoaXMuY29uZmlnLmRpc2FibGVDYWNoZXx8IWl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuY2FjaGVIaXQpcmV0dXJuO2NvbnN0IGU9e307dC5mb3JFYWNoKCgodCxpKT0+e2NvbnN0IHM9e3ZlcnNpb246MSxkYXRhOnt2aXNpdG9ySWQ6dC52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZCx0eXBlOnQudHlwZSxjb250ZW50OnQudG9PYmplY3QoKSx0aW1lOkRhdGUubm93KCl9fTtlW2ldPXN9KSksYXdhaXQgaS5jYWNoZUhpdChlKSxKdCh0aGlzLmNvbmZpZyxcIkNBQ0hFIEhJVFwiLFwiSGl0IGNhY2hlIGhhcyBiZWVuIHNhdmVkIGludG8gZGF0YWJhc2UgOiB7MH1cIixlKX1jYXRjaCh0KXtLdCh0aGlzLmNvbmZpZyxBdCxrdCxcImNhY2hlSGl0XCIsdC5tZXNzYWdlfHx0KX19YXN5bmMgZmx1c2hIaXRzKHQpe3RyeXtjb25zdCBpPXRoaXMuY29uZmlnLmhpdENhY2hlSW1wbGVtZW50YXRpb247aWYodGhpcy5jb25maWcuZGlzYWJsZUNhY2hlfHwhaXx8XCJmdW5jdGlvblwiIT10eXBlb2YgaS5mbHVzaEhpdHMpcmV0dXJuO2F3YWl0IGkuZmx1c2hIaXRzKHQpLEp0KHRoaXMuY29uZmlnLEF0LFwiVGhlIGZvbGxvd2luZyBoaXQga2V5cyBoYXZlIGJlZW4gZmx1c2hlZCBmcm9tIGRhdGFiYXNlIDogezB9XCIsdCl9Y2F0Y2godCl7S3QodGhpcy5jb25maWcsQXQsa3QsXCJmbHVzaEhpdHNcIix0Lm1lc3NhZ2V8fHQpfX1hc3luYyBmbHVzaEFsbEhpdHMoKXt0cnl7Y29uc3QgdD10aGlzLmNvbmZpZy5oaXRDYWNoZUltcGxlbWVudGF0aW9uO2lmKHRoaXMuY29uZmlnLmRpc2FibGVDYWNoZXx8IXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZmx1c2hBbGxIaXRzKXJldHVybjthd2FpdCB0LmZsdXNoQWxsSGl0cygpLFl0KHRoaXMuY29uZmlnLFwiQWxsIGhpdHMgY2FjaGUgaGFzIGJlZW4gZmx1c2hlZCBmcm9tIGRhdGFiYXNlXCIsXCJGTFVTSCBISVRcIil9Y2F0Y2godCl7S3QodGhpcy5jb25maWcsQXQsa3QsXCJmbHVzaEFsbEhpdHNcIix0Lm1lc3NhZ2V8fHQpfX1pc1Ryb3VibGVzaG9vdGluZ0FjdGl2YXRlZCgpe2lmKCF0aGlzLnRyb3VibGVzaG9vdGluZ0RhdGEpcmV0dXJuITE7Y29uc3QgdD1uZXcgRGF0ZTtpZighKHQ+PXRoaXMudHJvdWJsZXNob290aW5nRGF0YS5zdGFydERhdGUpKXJldHVybiExO3JldHVybiEodD50aGlzLnRyb3VibGVzaG9vdGluZ0RhdGEuZW5kRGF0ZSl8fCh0aGlzLl9oYXNJbml0VHJvdWJsZXNob290aW5nSGl0U2VudD0hMSwhMSl9YXN5bmMgYWRkVHJvdWJsZXNob290aW5nSGl0KHQpe2lmKCF0LmtleSl7Y29uc3QgaT1gJHt0LnZpc2l0b3JJZH06JHt0aSgpfWA7dC5rZXk9aX10aGlzLl90cm91Ymxlc2hvb3RpbmdRdWV1ZS5zZXQodC5rZXksdCksWXQodGhpcy5jb25maWcscXQoXCJUaGUgVFJPVUJMRVNIT09USU5HIEhJVCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcG9vbCBxdWV1ZSA6IHswfVwiLEpTT04uc3RyaW5naWZ5KHQudG9BcGlLZXlzKCkpKSxcIkFERCBUUk9VQkxFU0hPT1RJTkcgSElUXCIpfWFzeW5jIHNlbmRUcm91Ymxlc2hvb3RpbmdIaXQodCl7aWYoIXRoaXMuaXNUcm91Ymxlc2hvb3RpbmdBY3RpdmF0ZWQoKXx8dm9pZCAwPT09dC50cmFmZmljfHx0aGlzLnRyb3VibGVzaG9vdGluZ0RhdGEudHJhZmZpYzx0LnRyYWZmaWMpcmV0dXJuO2NvbnN0IGk9dC50b0FwaUtleXMoKSxlPURhdGUubm93KCk7dHJ5e2F3YWl0IHRoaXMuX2h0dHBDbGllbnQucG9zdEFzeW5jKGMse2JvZHk6aX0pLFl0KHRoaXMuY29uZmlnLHF0KFwiVHJvdWJsZXNob290aW5nIGhpdCBoYXMgYmVlbiBzZW50IDogezB9XCIsSlNPTi5zdHJpbmdpZnkoey4uLmksZHVyYXRpb246RGF0ZS5ub3coKS1lfSkpLFwiU0VORCBUUk9VQkxFU0hPT1RJTkdcIiksdC5rZXkmJih0aGlzLl90cm91Ymxlc2hvb3RpbmdRdWV1ZS5kZWxldGUodC5rZXkpLGF3YWl0IHRoaXMuZmx1c2hIaXRzKFt0LmtleV0pKX1jYXRjaChzKXt0aGlzLmlzVHJvdWJsZXNob290aW5nQWN0aXZhdGVkKCkmJmF3YWl0IHRoaXMuYWRkVHJvdWJsZXNob290aW5nSGl0KHQpLFF0KHRoaXMuY29uZmlnLGlpKHMubWVzc2FnZXx8cyx7dXJsOmMsaGVhZGVyczp7fSxib2R5OmksZHVyYXRpb246RGF0ZS5ub3coKS1lfSksUCl9fWFzeW5jIHNlbmRJbml0VHJvdWJsZXNob290aW5nSGl0KCl7dGhpcy5pc1Ryb3VibGVzaG9vdGluZ0FjdGl2YXRlZCgpJiZ0aGlzLl9pbml0VHJvdWJsZXNob290aW5nSGl0JiYhdGhpcy5faGFzSW5pdFRyb3VibGVzaG9vdGluZ0hpdFNlbnQmJihhd2FpdCB0aGlzLnNlbmRUcm91Ymxlc2hvb3RpbmdIaXQodGhpcy5faW5pdFRyb3VibGVzaG9vdGluZ0hpdCksdGhpcy5faGFzSW5pdFRyb3VibGVzaG9vdGluZ0hpdFNlbnQ9ITApfWFzeW5jIHNlbmRUcm91Ymxlc2hvb3RpbmdRdWV1ZSgpe2lmKGF3YWl0IHRoaXMuc2VuZEluaXRUcm91Ymxlc2hvb3RpbmdIaXQoKSx0aGlzLmlzVHJvdWJsZXNob290aW5nQWN0aXZhdGVkKCkmJiF0aGlzLl9pc1Ryb3VibGVzaG9vdGluZ1F1ZXVlU2VuZGluZyYmMCE9PXRoaXMuX3Ryb3VibGVzaG9vdGluZ1F1ZXVlLnNpemUpe3RoaXMuX2lzVHJvdWJsZXNob290aW5nUXVldWVTZW5kaW5nPSEwO2Zvcihjb25zdFt0LGldb2YgQXJyYXkuZnJvbSh0aGlzLl90cm91Ymxlc2hvb3RpbmdRdWV1ZSkpYXdhaXQgdGhpcy5zZW5kVHJvdWJsZXNob290aW5nSGl0KGkpO3RoaXMuX2lzVHJvdWJsZXNob290aW5nUXVldWVTZW5kaW5nPSExfX1hc3luYyBhZGRVc2FnZUhpdCh0KXtpZighdC5rZXkpe2NvbnN0IGk9YCR7dC52aXNpdG9ySWR9OiR7dGkoKX1gO3Qua2V5PWl9dGhpcy5fdXNhZ2VIaXRRdWV1ZS5zZXQodC5rZXksdCksWXQodGhpcy5jb25maWcscXQoXCJUaGUgVVNBR0UgSElUIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBwb29sIHF1ZXVlIDogezB9XCIsSlNPTi5zdHJpbmdpZnkodC50b0FwaUtleXMoKSkpLFwiQUREIFVTQUdFIEhJVFwiKX1hc3luYyBzZW5kVXNhZ2VIaXQodCl7Y29uc3QgaT10LnRvQXBpS2V5cygpLGU9RGF0ZS5ub3coKTt0cnl7YXdhaXQgdGhpcy5faHR0cENsaWVudC5wb3N0QXN5bmMoZyx7Ym9keTppfSksWXQodGhpcy5jb25maWcscXQoXCJVc2FnZSBoaXQgaGFzIGJlZW4gc2VudCA6IHswfVwiLEpTT04uc3RyaW5naWZ5KHsuLi5pLGR1cmF0aW9uOkRhdGUubm93KCktZX0pKSxcIlNFTkQgVVNBR0UgSElUXCIpLHQua2V5JiYodGhpcy5fdXNhZ2VIaXRRdWV1ZS5kZWxldGUodC5rZXkpLGF3YWl0IHRoaXMuZmx1c2hIaXRzKFt0LmtleV0pKX1jYXRjaChzKXthd2FpdCB0aGlzLmFkZFVzYWdlSGl0KHQpLFF0KHRoaXMuY29uZmlnLGlpKHMubWVzc2FnZXx8cyx7dXJsOmcsaGVhZGVyczp7fSxib2R5OmksZHVyYXRpb246RGF0ZS5ub3coKS1lfSksUCl9fWFzeW5jIHNlbmRVc2FnZUhpdFF1ZXVlKCl7aWYoIXRoaXMuX2lzVXNhZ2VIaXRRdWV1ZVNlbmRpbmcmJjAhPT10aGlzLl91c2FnZUhpdFF1ZXVlLnNpemUpe3RoaXMuX2lzVXNhZ2VIaXRRdWV1ZVNlbmRpbmc9ITA7Zm9yKGNvbnN0Wyx0XW9mIEFycmF5LmZyb20odGhpcy5fdXNhZ2VIaXRRdWV1ZSkpYXdhaXQgdGhpcy5zZW5kVXNhZ2VIaXQodCk7dGhpcy5faXNVc2FnZUhpdFF1ZXVlU2VuZGluZz0hMX19fWNsYXNzIE5pIGV4dGVuZHMgUml7YXN5bmMgYWRkSGl0SW5Qb29sUXVldWUodCl7dGhpcy5faGl0c1Bvb2xRdWV1ZS5zZXQodC5rZXksdCksYXdhaXQgdGhpcy5jYWNoZUhpdChuZXcgTWFwKFtbdC5rZXksdF1dKSl9YXN5bmMgc2VuZEFjdGl2YXRlSGl0QmF0Y2godCxpLGUpe2NvbnN0IGE9e1tzdF06dGhpcy5jb25maWcuYXBpS2V5LFtvdF06by5uYW1lLFtudF06by52ZXJzaW9uLFthdF06cnR9O2UmJnQuaGl0cy5wdXNoKGUpO2NvbnN0IG49dC50b0FwaUtleXMoKSxoPXIrZCxjPURhdGUubm93KCk7dHJ5e2F3YWl0IHRoaXMuX2h0dHBDbGllbnQucG9zdEFzeW5jKGgse2hlYWRlcnM6YSxib2R5Om4sdGltZW91dDp0aGlzLmNvbmZpZy50aW1lb3V0LG5leHRGZXRjaENvbmZpZzp0aGlzLmNvbmZpZy5uZXh0RmV0Y2hDb25maWd9KSxKdCh0aGlzLmNvbmZpZyxSdCxEdCxidCx7aHR0cFJlcXVlc3RCb2R5Om4saHR0cFJlcXVlc3RIZWFkZXJzOmEsaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6aCxkdXJhdGlvbjpEYXRlLm5vdygpLWMsYmF0Y2hUcmlnZ2VyZWRCeTpmaVtpXX0pO2NvbnN0IHM9dC5oaXRzLmZpbHRlcigodD0+dC5rZXkhPT1lPy5rZXkpKS5tYXAoKHQ9PnQua2V5KSk7dC5oaXRzLmZvckVhY2goKHQ9Pnt0aGlzLm9uVmlzaXRvckV4cG9zZWQodCl9KSkscy5sZW5ndGgmJmF3YWl0IHRoaXMuZmx1c2hIaXRzKHMpLHRoaXMuc2VuZEhpdHNUb0ZzUWEodC5oaXRzKX1jYXRjaChvKXt0LmhpdHMuZm9yRWFjaCgodD0+e3RoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlLnNldCh0LmtleSx0KX0pKSxlJiZhd2FpdCB0aGlzLmNhY2hlSGl0KG5ldyBNYXAoW1tlLmtleSxlXV0pKSxLdCh0aGlzLmNvbmZpZyxSdCxOdCxidCx7aHR0cFJlcXVlc3RCb2R5Om4saHR0cFJlcXVlc3RIZWFkZXJzOmEsaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6aCxodHRwUmVzcG9uc2VCb2R5Om8/Lm1lc3NhZ2UsaHR0cFJlc3BvbnNlSGVhZGVyczpvPy5oZWFkZXJzLGh0dHBSZXNwb25zZUNvZGU6bz8uc3RhdHVzQ29kZSxkdXJhdGlvbjpEYXRlLm5vdygpLWMsYmF0Y2hUcmlnZ2VyZWRCeTpmaVtpXX0pO2NvbnN0IHI9bmV3IF9pKHtsYWJlbDpkaS5TRU5EX0FDVElWQVRFX0hJVF9ST1VURV9FUlJPUixsb2dMZXZlbDpzLkVSUk9SLHZpc2l0b3JJZDpgJHt0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWR9YCx0cmFmZmljOjAsY29uZmlnOnRoaXMuY29uZmlnLGh0dHBSZXF1ZXN0Qm9keTpuLGh0dHBSZXF1ZXN0SGVhZGVyczphLGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmgsaHR0cFJlc3BvbnNlQm9keTpvPy5tZXNzYWdlLGh0dHBSZXNwb25zZUhlYWRlcnM6bz8uaGVhZGVycyxodHRwUmVzcG9uc2VDb2RlOm8/LnN0YXR1c0NvZGUsaHR0cFJlc3BvbnNlVGltZTpEYXRlLm5vdygpLWMsYmF0Y2hUcmlnZ2VyZWRCeTppfSk7dGhpcy5zZW5kVHJvdWJsZXNob290aW5nSGl0KHIpfX1hc3luYyBzZW5kQWN0aXZhdGUoe2FjdGl2YXRlSGl0c1Bvb2w6dCxjdXJyZW50QWN0aXZhdGU6aSxiYXRjaFRyaWdnZXJlZEJ5OmV9KXtjb25zdCBzPUFycmF5LmZyb20odC5maWx0ZXIoKHQ9PkRhdGUubm93KCktdC5jcmVhdGVkQXQ8dykpKTtpZihzLmxlbmd0aHx8IWkpZm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kz0xMDApe2NvbnN0IGE9bmV3IEFpKHMuc2xpY2UodCx0KzEwMCksdGhpcy5jb25maWcpO3RoaXMuc2VuZEFjdGl2YXRlSGl0QmF0Y2goYSxlLDA9PT10P2k6dm9pZCAwKX1lbHNle2NvbnN0IHQ9bmV3IEFpKFtdLHRoaXMuY29uZmlnKTthd2FpdCB0aGlzLnNlbmRBY3RpdmF0ZUhpdEJhdGNoKHQsZSxpKX19fWNsYXNzIERpIGV4dGVuZHMgUml7YXN5bmMgYWRkSGl0SW5Qb29sUXVldWUodCl7dGhpcy5faGl0c1Bvb2xRdWV1ZS5zZXQodC5rZXksdCl9YXN5bmMgc2VuZEFjdGl2YXRlKHthY3RpdmF0ZUhpdHNQb29sOnQsY3VycmVudEFjdGl2YXRlOmksYmF0Y2hUcmlnZ2VyZWRCeTplfSl7Y29uc3QgYT17W3N0XTp0aGlzLmNvbmZpZy5hcGlLZXksW290XTpvLm5hbWUsW250XTpvLnZlcnNpb24sW2F0XTpydH0sbj1uZXcgQWkoQXJyYXkuZnJvbSh0LmZpbHRlcigodD0+RGF0ZS5ub3coKS10LmNyZWF0ZWRBdDx3KSkpLHRoaXMuY29uZmlnKTtpJiZuLmhpdHMucHVzaChpKTtjb25zdCBoPW4udG9BcGlLZXlzKCksYz1yK2QsZz1EYXRlLm5vdygpO3RyeXthd2FpdCB0aGlzLl9odHRwQ2xpZW50LnBvc3RBc3luYyhjLHtoZWFkZXJzOmEsYm9keTpoLHRpbWVvdXQ6dGhpcy5jb25maWcudGltZW91dCxuZXh0RmV0Y2hDb25maWc6dGhpcy5jb25maWcubmV4dEZldGNoQ29uZmlnfSksSnQodGhpcy5jb25maWcsUnQsRHQsYnQse2h0dHBSZXF1ZXN0Qm9keTpoLGh0dHBSZXF1ZXN0SGVhZGVyczphLGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmMsZHVyYXRpb246RGF0ZS5ub3coKS1nLGJhdGNoVHJpZ2dlcmVkQnk6ZmlbZV19KSxuLmhpdHMuZm9yRWFjaCgodD0+e3RoaXMub25WaXNpdG9yRXhwb3NlZCh0KX0pKSx0aGlzLnNlbmRIaXRzVG9Gc1FhKG4uaGl0cyl9Y2F0Y2godCl7bi5oaXRzLmZvckVhY2goKHQ9Pnt0aGlzLl9hY3RpdmF0ZVBvb2xRdWV1ZS5zZXQodC5rZXksdCl9KSksS3QodGhpcy5jb25maWcsUnQsTnQsYnQse2h0dHBSZXF1ZXN0Qm9keTpoLGh0dHBSZXF1ZXN0SGVhZGVyczphLGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmMsaHR0cFJlc3BvbnNlQm9keTp0Py5tZXNzYWdlLGh0dHBSZXNwb25zZUhlYWRlcnM6dD8uaGVhZGVycyxodHRwUmVzcG9uc2VDb2RlOnQ/LnN0YXR1c0NvZGUsZHVyYXRpb246RGF0ZS5ub3coKS1nLGJhdGNoVHJpZ2dlcmVkQnk6ZmlbZV19KTtjb25zdCBpPW5ldyBfaSh7bGFiZWw6ZGkuU0VORF9BQ1RJVkFURV9ISVRfUk9VVEVfRVJST1IsbG9nTGV2ZWw6cy5FUlJPUix2aXNpdG9ySWQ6YCR7dGhpcy5fZmxhZ3NoaXBJbnN0YW5jZUlkfWAsdHJhZmZpYzowLGNvbmZpZzp0aGlzLmNvbmZpZyxodHRwUmVxdWVzdEJvZHk6aCxodHRwUmVxdWVzdEhlYWRlcnM6YSxodHRwUmVxdWVzdE1ldGhvZDpcIlBPU1RcIixodHRwUmVxdWVzdFVybDpjLGh0dHBSZXNwb25zZUJvZHk6dD8ubWVzc2FnZSxodHRwUmVzcG9uc2VIZWFkZXJzOnQ/LmhlYWRlcnMsaHR0cFJlc3BvbnNlQ29kZTp0Py5zdGF0dXNDb2RlLGh0dHBSZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1nLGJhdGNoVHJpZ2dlcmVkQnk6ZX0pO3RoaXMuc2VuZFRyb3VibGVzaG9vdGluZ0hpdChpKX19YXN5bmMgc2VuZEJhdGNoKHQ9ZmkuQmF0Y2hMZW5ndGgpe2xldCBpPSExO2lmKHRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlLnNpemUpe2NvbnN0IGU9QXJyYXkuZnJvbSh0aGlzLl9hY3RpdmF0ZVBvb2xRdWV1ZS52YWx1ZXMoKSk7dGhpcy5fYWN0aXZhdGVQb29sUXVldWUuY2xlYXIoKSxhd2FpdCB0aGlzLnNlbmRBY3RpdmF0ZSh7YWN0aXZhdGVIaXRzUG9vbDplLGJhdGNoVHJpZ2dlcmVkQnk6dH0pLGk9ITB9Y29uc3QgZT17W2F0XTpydH0sYT1uZXcga2koe2hpdHM6W119KTthLmNvbmZpZz10aGlzLmNvbmZpZztsZXQgbz0wO2NvbnN0IHI9W107Zm9yKGNvbnN0W3QsaV1vZiB0aGlzLl9oaXRzUG9vbFF1ZXVlKWlmKERhdGUubm93KCktaS5jcmVhdGVkQXQ+PXcpci5wdXNoKHQpO2Vsc2V7aWYobz1KU09OLnN0cmluZ2lmeShhKS5sZW5ndGgsbz5uKWJyZWFrO2EuaGl0cy5wdXNoKGkpLHIucHVzaCh0KX1pZihyLmZvckVhY2goKHQ9Pnt0aGlzLl9oaXRzUG9vbFF1ZXVlLmRlbGV0ZSh0KX0pKSwhYS5oaXRzLmxlbmd0aClyZXR1cm4gdm9pZChpJiZhd2FpdCB0aGlzLmNhY2hlSGl0KHRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlKSk7Y29uc3QgYz1hLnRvQXBpS2V5cygpLGc9RGF0ZS5ub3coKTt0cnl7YXdhaXQgdGhpcy5faHR0cENsaWVudC5wb3N0QXN5bmMoaCx7aGVhZGVyczplLGJvZHk6Yyx0aW1lb3V0OnRoaXMuY29uZmlnLnRpbWVvdXQsbmV4dEZldGNoQ29uZmlnOnRoaXMuY29uZmlnLm5leHRGZXRjaENvbmZpZ30pLEp0KHRoaXMuY29uZmlnLFJ0LER0LE90LHtodHRwUmVxdWVzdEJvZHk6YyxodHRwUmVxdWVzdEhlYWRlcnM6ZSxodHRwUmVxdWVzdE1ldGhvZDpcIlBPU1RcIixodHRwUmVxdWVzdFVybDpoLGR1cmF0aW9uOkRhdGUubm93KCktZyxiYXRjaFRyaWdnZXJlZEJ5OmZpW3RdfSksdGhpcy5zZW5kSGl0c1RvRnNRYShhLmhpdHMpLHRoaXMuZGlzcGF0Y2hIaXRzVG9UYWcoYS5oaXRzKX1jYXRjaChpKXthLmhpdHMuZm9yRWFjaCgodD0+e3RoaXMuX2hpdHNQb29sUXVldWUuc2V0KHQua2V5LHQpfSkpLEt0KHRoaXMuY29uZmlnLFJ0LE50LE90LHtodHRwUmVxdWVzdEJvZHk6YyxodHRwUmVxdWVzdEhlYWRlcnM6ZSxodHRwUmVxdWVzdE1ldGhvZDpcIlBPU1RcIixodHRwUmVxdWVzdFVybDpoLGh0dHBSZXNwb25zZUJvZHk6aT8ubWVzc2FnZSxodHRwUmVzcG9uc2VIZWFkZXJzOmk/LmhlYWRlcnMsaHR0cFJlc3BvbnNlQ29kZTppPy5zdGF0dXNDb2RlLGR1cmF0aW9uOkRhdGUubm93KCktZyxiYXRjaFRyaWdnZXJlZEJ5OmZpW3RdfSk7Y29uc3Qgbz1uZXcgX2koe2xhYmVsOmRpLlNFTkRfQkFUQ0hfSElUX1JPVVRFX1JFU1BPTlNFX0VSUk9SLGxvZ0xldmVsOnMuRVJST1IsdmlzaXRvcklkOmAke3RoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZH1gLHRyYWZmaWM6MCxjb25maWc6dGhpcy5jb25maWcsaHR0cFJlcXVlc3RCb2R5OmMsaHR0cFJlcXVlc3RIZWFkZXJzOmUsaHR0cFJlc3BvbnNlQm9keTppPy5tZXNzYWdlLGh0dHBSZXNwb25zZUhlYWRlcnM6aT8uaGVhZGVycyxodHRwUmVzcG9uc2VNZXRob2Q6XCJQT1NUXCIsaHR0cFJlc3BvbnNlVXJsOmgsaHR0cFJlc3BvbnNlQ29kZTppPy5zdGF0dXNDb2RlLGh0dHBSZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1nfSk7dGhpcy5hZGRUcm91Ymxlc2hvb3RpbmdIaXQobyl9Y29uc3QgZD1uZXcgTWFwKFsuLi50aGlzLl9oaXRzUG9vbFF1ZXVlLC4uLnRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlXSk7YXdhaXQgdGhpcy5mbHVzaEFsbEhpdHMoKSxhd2FpdCB0aGlzLmNhY2hlSGl0KGQpfX1jbGFzcyBiaSBleHRlbmRzIFJpe2NhY2hlSGl0S2V5cztjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmNhY2hlSGl0S2V5cz17fX1hc3luYyBhY3RpdmF0ZUZsYWcodCl7Y29uc3QgaT1gJHt0LnZpc2l0b3JJZH06JHt0aSgpfWA7dC5rZXk9aSxhd2FpdCB0aGlzLnNlbmRBY3RpdmF0ZSh7YWN0aXZhdGVIaXRzUG9vbDpbXSxjdXJyZW50QWN0aXZhdGU6dCxiYXRjaFRyaWdnZXJlZEJ5OmZpLkFjdGl2YXRlTGVuZ3RofSl9YXN5bmMgYWRkSGl0KHQpe2NvbnN0IGk9YCR7dC52aXNpdG9ySWR9OiR7dGkoKX1gO3Qua2V5PWksdC50eXBlPT09VnQuRVZFTlQmJnQuYWN0aW9uPT09RSYmdC5sYWJlbD09PWAke28ubmFtZX06ZmFsc2VgJiZhd2FpdCB0aGlzLm5vdENvbnNlbnQodC52aXNpdG9ySWQpLGF3YWl0IHRoaXMuc2VuZEhpdCh0KX1hZGRIaXRJblBvb2xRdWV1ZSh0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9YXN5bmMgc2VuZEhpdCh0KXtjb25zdCBpPXtbYXRdOnJ0fSxlPXQudG9BcGlLZXlzKCksYT1EYXRlLm5vdygpO3RyeXthd2FpdCB0aGlzLl9odHRwQ2xpZW50LnBvc3RBc3luYyhoLHtoZWFkZXJzOmksYm9keTplLHRpbWVvdXQ6dGhpcy5jb25maWcudGltZW91dCxuZXh0RmV0Y2hDb25maWc6dGhpcy5jb25maWcubmV4dEZldGNoQ29uZmlnfSksSnQodGhpcy5jb25maWcsUnQsRHQsXCJISVRcIix7aHR0cFJlcXVlc3RCb2R5OmUsaHR0cFJlcXVlc3RIZWFkZXJzOmksaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6aCxkdXJhdGlvbjpEYXRlLm5vdygpLWEsYmF0Y2hUcmlnZ2VyZWRCeTpmaVtmaS5EaXJlY3RIaXRdfSksdGhpcy5zZW5kSGl0c1RvRnNRYShbdF0pLHRoaXMuZGlzcGF0Y2hIaXRzVG9UYWcoW3RdKX1jYXRjaChvKXt0LnR5cGU9PT1WdC5FVkVOVCYmdC5hY3Rpb249PT1FfHwodGhpcy5jYWNoZUhpdEtleXNbdC5rZXldPXQudmlzaXRvcklkKSxhd2FpdCB0aGlzLmNhY2hlSGl0KChuZXcgTWFwKS5zZXQodC5rZXksdCkpLEt0KHRoaXMuY29uZmlnLFJ0LE50LFwiSElUXCIse2h0dHBSZXF1ZXN0Qm9keTplLGh0dHBSZXF1ZXN0SGVhZGVyczppLGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmgsaHR0cFJlc3BvbnNlQm9keTpvPy5tZXNzYWdlLGh0dHBSZXNwb25zZUhlYWRlcnM6bz8uaGVhZGVycyxodHRwUmVzcG9uc2VDb2RlOm8/LnN0YXR1c0NvZGUsZHVyYXRpb246RGF0ZS5ub3coKS1hLGJhdGNoVHJpZ2dlcmVkQnk6ZmlbZmkuRGlyZWN0SGl0XX0pO2NvbnN0IG49bmV3IF9pKHtsYWJlbDpkaS5TRU5EX0hJVF9ST1VURV9FUlJPUixsb2dMZXZlbDpzLkVSUk9SLHZpc2l0b3JJZDpgJHt0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWR9YCx0cmFmZmljOjAsY29uZmlnOnRoaXMuY29uZmlnLGh0dHBSZXF1ZXN0Qm9keTplLGh0dHBSZXF1ZXN0SGVhZGVyczppLGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmgsaHR0cFJlc3BvbnNlQm9keTpvPy5tZXNzYWdlLGh0dHBSZXNwb25zZUhlYWRlcnM6bz8uaGVhZGVycyxodHRwUmVzcG9uc2VDb2RlOm8/LnN0YXR1c0NvZGUsaHR0cFJlc3BvbnNlVGltZTpEYXRlLm5vdygpLWEsYmF0Y2hUcmlnZ2VyZWRCeTpmaS5EaXJlY3RIaXR9KTt0aGlzLnNlbmRUcm91Ymxlc2hvb3RpbmdIaXQobil9fWFzeW5jIG5vdENvbnNlbnQodCl7Y29uc3QgaT1PYmplY3QuZW50cmllcyh0aGlzLmNhY2hlSGl0S2V5cykuZmlsdGVyKCgoW2ksZV0pPT5lPT09dCkpLGU9W107Zm9yKGNvbnN0W3Rdb2YgaSllLnB1c2godCk7Y29uc3Qgcz1BcnJheS5mcm9tKHRoaXMuX2hpdHNQb29sUXVldWUpLmZpbHRlcigoKFtpLGVdKT0+IShlPy50eXBlPT09VnQuRVZFTlQmJmU/LmFjdGlvbj09PUV8fGUudmlzaXRvcklkIT09dCYmZS5hbm9ueW1vdXNJZCE9PXQpKSksYT1BcnJheS5mcm9tKHRoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlKS5maWx0ZXIoKChbaSxlXSk9PmUudmlzaXRvcklkPT09dHx8ZS5hbm9ueW1vdXNJZD09PXQpKSxvPVtdO3MuZm9yRWFjaCgoKFt0XSk9Pnt0aGlzLl9oaXRzUG9vbFF1ZXVlLmRlbGV0ZSh0KSxvLnB1c2godCl9KSksYS5mb3JFYWNoKCgoW3RdKT0+e3RoaXMuX2FjdGl2YXRlUG9vbFF1ZXVlLmRlbGV0ZSh0KSxvLnB1c2godCl9KSk7Y29uc3Qgbj1bLi4uZSwuLi5vXTtuLmxlbmd0aCYmKGF3YWl0IHRoaXMuZmx1c2hIaXRzKG4pLHRoaXMuY2FjaGVIaXRLZXlzPXt9KX1hc3luYyBzZW5kQWN0aXZhdGUoe2FjdGl2YXRlSGl0c1Bvb2w6dCxjdXJyZW50QWN0aXZhdGU6aSxiYXRjaFRyaWdnZXJlZEJ5OmV9KXtjb25zdCBhPXtbc3RdOnRoaXMuY29uZmlnLmFwaUtleSxbb3RdOm8ubmFtZSxbbnRdOm8udmVyc2lvbixbYXRdOnJ0fSxuPW5ldyBBaShBcnJheS5mcm9tKHQuZmlsdGVyKCh0PT5EYXRlLm5vdygpLXQuY3JlYXRlZEF0PHcpKSksdGhpcy5jb25maWcpO2kmJm4uaGl0cy5wdXNoKGkpO2NvbnN0IGg9bi50b0FwaUtleXMoKSxjPXIrZCxnPURhdGUubm93KCk7dHJ5e2F3YWl0IHRoaXMuX2h0dHBDbGllbnQucG9zdEFzeW5jKGMse2hlYWRlcnM6YSxib2R5OmgsdGltZW91dDp0aGlzLmNvbmZpZy50aW1lb3V0LG5leHRGZXRjaENvbmZpZzp0aGlzLmNvbmZpZy5uZXh0RmV0Y2hDb25maWd9KSxKdCh0aGlzLmNvbmZpZyxSdCxEdCxidCx7aHR0cFJlcXVlc3RCb2R5OmgsaHR0cFJlcXVlc3RIZWFkZXJzOmEsaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6YyxkdXJhdGlvbjpEYXRlLm5vdygpLWcsYmF0Y2hUcmlnZ2VyZWRCeTpmaVtlXX0pO2NvbnN0IGk9dC5tYXAoKHQ9PnQua2V5KSk7bi5oaXRzLmZvckVhY2goKHQ9Pnt0aGlzLm9uVmlzaXRvckV4cG9zZWQodCl9KSksaS5sZW5ndGgmJmF3YWl0IHRoaXMuZmx1c2hIaXRzKGkpLHRoaXMuc2VuZEhpdHNUb0ZzUWEobi5oaXRzKX1jYXRjaCh0KXtuLmhpdHMuZm9yRWFjaCgodD0+e3RoaXMuY2FjaGVIaXRLZXlzW3Qua2V5XT10LnZpc2l0b3JJZH0pKSxpJiZhd2FpdCB0aGlzLmNhY2hlSGl0KG5ldyBNYXAoW1tpLmtleSxpXV0pKSxLdCh0aGlzLmNvbmZpZyxSdCxOdCxidCx7aHR0cFJlcXVlc3RCb2R5OmgsaHR0cFJlcXVlc3RIZWFkZXJzOmEsaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6YyxodHRwUmVzcG9uc2VCb2R5OnQ/Lm1lc3NhZ2UsaHR0cFJlc3BvbnNlSGVhZGVyczp0Py5oZWFkZXJzLGh0dHBSZXNwb25zZUNvZGU6dD8uc3RhdHVzQ29kZSxkdXJhdGlvbjpEYXRlLm5vdygpLWcsYmF0Y2hUcmlnZ2VyZWRCeTpmaVtlXX0pO2NvbnN0IG89bmV3IF9pKHtsYWJlbDpkaS5TRU5EX0FDVElWQVRFX0hJVF9ST1VURV9FUlJPUixsb2dMZXZlbDpzLkVSUk9SLHZpc2l0b3JJZDpgJHt0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWR9YCx0cmFmZmljOjAsY29uZmlnOnRoaXMuY29uZmlnLGh0dHBSZXF1ZXN0Qm9keTpoLGh0dHBSZXF1ZXN0SGVhZGVyczphLGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmMsaHR0cFJlc3BvbnNlQm9keTp0Py5tZXNzYWdlLGh0dHBSZXNwb25zZUhlYWRlcnM6dD8uaGVhZGVycyxodHRwUmVzcG9uc2VNZXRob2Q6XCJQT1NUXCIsaHR0cFJlc3BvbnNlVXJsOmMsaHR0cFJlc3BvbnNlQ29kZTp0Py5zdGF0dXNDb2RlLGh0dHBSZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1nLGJhdGNoVHJpZ2dlcmVkQnk6ZX0pO3RoaXMuc2VuZFRyb3VibGVzaG9vdGluZ0hpdChvKX19fWNsYXNzIE9pIGV4dGVuZHMgSWl7X3RyYW5zYWN0aW9uSWQ7X3Byb2R1Y3ROYW1lO19wcm9kdWN0U2t1O19pdGVtUHJpY2U7X2l0ZW1RdWFudGl0eTtfaXRlbUNhdGVnb3J5O2dldCB0cmFuc2FjdGlvbklkKCl7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uSWR9c2V0IHRyYW5zYWN0aW9uSWQodCl7dGhpcy5pc05vdEVtcHR5U3RyaW5nKHQsXCJ0cmFuc2FjdGlvbklkXCIpJiYodGhpcy5fdHJhbnNhY3Rpb25JZD10KX1nZXQgcHJvZHVjdE5hbWUoKXtyZXR1cm4gdGhpcy5fcHJvZHVjdE5hbWV9c2V0IHByb2R1Y3ROYW1lKHQpe3RoaXMuaXNOb3RFbXB0eVN0cmluZyh0LFwicHJvZHVjdE5hbWVcIikmJih0aGlzLl9wcm9kdWN0TmFtZT10KX1nZXQgcHJvZHVjdFNrdSgpe3JldHVybiB0aGlzLl9wcm9kdWN0U2t1fXNldCBwcm9kdWN0U2t1KHQpe3RoaXMuaXNOb3RFbXB0eVN0cmluZyh0LFwicHJvZHVjdFNrdVwiKSYmKHRoaXMuX3Byb2R1Y3RTa3U9dCl9Z2V0IGl0ZW1QcmljZSgpe3JldHVybiB0aGlzLl9pdGVtUHJpY2V9c2V0IGl0ZW1QcmljZSh0KXt0aGlzLmlzTnVtZXJpYyh0LFwiaXRlbVByaWNlXCIpJiYodGhpcy5faXRlbVByaWNlPXQpfWdldCBpdGVtUXVhbnRpdHkoKXtyZXR1cm4gdGhpcy5faXRlbVF1YW50aXR5fXNldCBpdGVtUXVhbnRpdHkodCl7dGhpcy5pc0ludGVnZXIodCxcIml0ZW1RdWFudGl0eVwiKSYmKHRoaXMuX2l0ZW1RdWFudGl0eT1NYXRoLnRydW5jKHQpKX1nZXQgaXRlbUNhdGVnb3J5KCl7cmV0dXJuIHRoaXMuX2l0ZW1DYXRlZ29yeX1zZXQgaXRlbUNhdGVnb3J5KHQpe3RoaXMuaXNOb3RFbXB0eVN0cmluZyh0LFwiaXRlbUNhdGVnb3J5XCIpJiYodGhpcy5faXRlbUNhdGVnb3J5PXQpfWNvbnN0cnVjdG9yKHQpe3N1cGVyKHt0eXBlOlZ0LklURU0sdXNlcklwOnQudXNlcklwLHNjcmVlblJlc29sdXRpb246dC5zY3JlZW5SZXNvbHV0aW9uLGxvY2FsZTp0LmxvY2FsZSxzZXNzaW9uTnVtYmVyOnQuc2Vzc2lvbk51bWJlcix2aXNpdG9ySWQ6dC52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZCxxYU1vZGU6dC5xYU1vZGUsaXNBY3Rpb25UcmFja2luZ0hpdDp0LmlzQWN0aW9uVHJhY2tpbmdIaXR9KTtjb25zdHt0cmFuc2FjdGlvbklkOmkscHJvZHVjdE5hbWU6ZSxwcm9kdWN0U2t1OnMsaXRlbUNhdGVnb3J5OmEsaXRlbVByaWNlOm8saXRlbVF1YW50aXR5Om59PXQ7dGhpcy50cmFuc2FjdGlvbklkPWksdGhpcy5wcm9kdWN0TmFtZT1lLHRoaXMucHJvZHVjdFNrdT1zLGEmJih0aGlzLml0ZW1DYXRlZ29yeT1hKSxvJiYodGhpcy5pdGVtUHJpY2U9byksbiYmKHRoaXMuaXRlbVF1YW50aXR5PW4pfWlzUmVhZHkodD0hMCl7cmV0dXJuISh0JiYhc3VwZXIuaXNSZWFkeSgpfHwhdGhpcy50cmFuc2FjdGlvbklkfHwhdGhpcy5wcm9kdWN0TmFtZXx8IXRoaXMucHJvZHVjdFNrdSl9dG9BcGlLZXlzKCl7Y29uc3QgdD1zdXBlci50b0FwaUtleXMoKTtyZXR1cm4gdC50aWQ9dGhpcy50cmFuc2FjdGlvbklkLHQuaW49dGhpcy5wcm9kdWN0TmFtZSx0LmljPXRoaXMucHJvZHVjdFNrdSx0aGlzLml0ZW1QcmljZSYmKHQuaXA9dGhpcy5pdGVtUHJpY2UpLHRoaXMuaXRlbVF1YW50aXR5JiYodC5pcT10aGlzLml0ZW1RdWFudGl0eSksdGhpcy5pdGVtQ2F0ZWdvcnkmJih0Lml2PXRoaXMuaXRlbUNhdGVnb3J5KSx0fXRvT2JqZWN0KCl7cmV0dXJuey4uLnN1cGVyLnRvT2JqZWN0KCksdHJhbnNhY3Rpb25JZDp0aGlzLnRyYW5zYWN0aW9uSWQscHJvZHVjdE5hbWU6dGhpcy5wcm9kdWN0TmFtZSxwcm9kdWN0U2t1OnRoaXMucHJvZHVjdFNrdSxpdGVtUHJpY2U6dGhpcy5pdGVtUHJpY2UsaXRlbVF1YW50aXR5OnRoaXMuaXRlbVF1YW50aXR5LGl0ZW1DYXRlZ29yeTp0aGlzLml0ZW1DYXRlZ29yeX19Z2V0RXJyb3JNZXNzYWdlKCl7cmV0dXJuXCJUcmFuc2FjdGlvbiBJZCwgSXRlbSBuYW1lIGFuZCBpdGVtIGNvZGUgYXJlIHJlcXVpcmVkXCJ9fWNsYXNzIHdpIGV4dGVuZHMgSWl7X2RvY3VtZW50TG9jYXRpb247Z2V0IGRvY3VtZW50TG9jYXRpb24oKXtyZXR1cm4gdGhpcy5fZG9jdW1lbnRMb2NhdGlvbn1zZXQgZG9jdW1lbnRMb2NhdGlvbih0KXt0aGlzLmlzTm90RW1wdHlTdHJpbmcodCxcImRvY3VtZW50TG9jYXRpb25cIikmJih0aGlzLl9kb2N1bWVudExvY2F0aW9uPXQpfWNvbnN0cnVjdG9yKHQpe3N1cGVyKHt0eXBlOlZ0LlBBR0VfVklFVyx1c2VySXA6dC51c2VySXAsc2NyZWVuUmVzb2x1dGlvbjp0LnNjcmVlblJlc29sdXRpb24sbG9jYWxlOnQubG9jYWxlLHNlc3Npb25OdW1iZXI6dC5zZXNzaW9uTnVtYmVyLHZpc2l0b3JJZDp0LnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0LmFub255bW91c0lkLHFhTW9kZTp0LnFhTW9kZSxpc0FjdGlvblRyYWNraW5nSGl0OnQuaXNBY3Rpb25UcmFja2luZ0hpdH0pLHRoaXMuZG9jdW1lbnRMb2NhdGlvbj10LmRvY3VtZW50TG9jYXRpb259aXNSZWFkeSh0PSEwKXtyZXR1cm4hKHQmJiFzdXBlci5pc1JlYWR5KCl8fCF0aGlzLmRvY3VtZW50TG9jYXRpb24pfXRvQXBpS2V5cygpe2NvbnN0IHQ9c3VwZXIudG9BcGlLZXlzKCk7cmV0dXJuIHQuZGw9dGhpcy5kb2N1bWVudExvY2F0aW9uLHR9dG9PYmplY3QoKXtyZXR1cm57Li4uc3VwZXIudG9PYmplY3QoKSxkb2N1bWVudExvY2F0aW9uOnRoaXMuZG9jdW1lbnRMb2NhdGlvbn19Z2V0RXJyb3JNZXNzYWdlKCl7cmV0dXJuXCJkb2N1bWVudExvY2F0aW9uIHVybCBpcyByZXF1aXJlZFwifX1jbGFzcyBNaSBleHRlbmRzIElpe190cmFuc2FjdGlvbklkO19hZmZpbGlhdGlvbjtfdGF4ZXM7X2N1cnJlbmN5O19jb3Vwb25Db2RlO19pdGVtQ291bnQ7X3NoaXBwaW5nTWV0aG9kO19wYXltZW50TWV0aG9kO190b3RhbFJldmVudWU7X3NoaXBwaW5nQ29zdHM7Z2V0IHRyYW5zYWN0aW9uSWQoKXtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb25JZH1zZXQgdHJhbnNhY3Rpb25JZCh0KXt0aGlzLmlzTm90RW1wdHlTdHJpbmcodCxcInRyYW5zYWN0aW9uSWRcIikmJih0aGlzLl90cmFuc2FjdGlvbklkPXQpfWdldCBhZmZpbGlhdGlvbigpe3JldHVybiB0aGlzLl9hZmZpbGlhdGlvbn1zZXQgYWZmaWxpYXRpb24odCl7dGhpcy5pc05vdEVtcHR5U3RyaW5nKHQsXCJhZmZpbGlhdGlvblwiKSYmKHRoaXMuX2FmZmlsaWF0aW9uPXQpfWdldCB0YXhlcygpe3JldHVybiB0aGlzLl90YXhlc31zZXQgdGF4ZXModCl7dGhpcy5pc051bWVyaWModCxcInRheGVzXCIpJiYodGhpcy5fdGF4ZXM9dCl9Z2V0IGN1cnJlbmN5KCl7cmV0dXJuIHRoaXMuX2N1cnJlbmN5fXNldCBjdXJyZW5jeSh0KXt0JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmMz09PXQubGVuZ3RoP3RoaXMuX2N1cnJlbmN5PXQ6UXQodGhpcy5jb25maWcscXQoXCJ7MH0gbXVzdCBiZSBhIHN0cmluZyBhbmQgaGF2ZSBleGFjdGx5IDMgbGV0dGVyc1wiLFwiY3VycmVuY3lcIiksXCJjdXJyZW5jeVwiKX1nZXQgY291cG9uQ29kZSgpe3JldHVybiB0aGlzLl9jb3Vwb25Db2RlfXNldCBjb3Vwb25Db2RlKHQpe3RoaXMuaXNOb3RFbXB0eVN0cmluZyh0LFwiY291cG9uQ29kZVwiKSYmKHRoaXMuX2NvdXBvbkNvZGU9dCl9Z2V0IGl0ZW1Db3VudCgpe3JldHVybiB0aGlzLl9pdGVtQ291bnR9c2V0IGl0ZW1Db3VudCh0KXt0aGlzLmlzSW50ZWdlcih0LFwiaXRlbUNvdW50XCIpJiYodGhpcy5faXRlbUNvdW50PU1hdGgudHJ1bmModCkpfWdldCBzaGlwcGluZ01ldGhvZCgpe3JldHVybiB0aGlzLl9zaGlwcGluZ01ldGhvZH1zZXQgc2hpcHBpbmdNZXRob2QodCl7dGhpcy5pc05vdEVtcHR5U3RyaW5nKHQsXCJzaGlwcGluZ01ldGhvZFwiKSYmKHRoaXMuX3NoaXBwaW5nTWV0aG9kPXQpfWdldCBwYXltZW50TWV0aG9kKCl7cmV0dXJuIHRoaXMuX3BheW1lbnRNZXRob2R9c2V0IHBheW1lbnRNZXRob2QodCl7dGhpcy5pc05vdEVtcHR5U3RyaW5nKHQsXCJwYXltZW50TWV0aG9kXCIpJiYodGhpcy5fcGF5bWVudE1ldGhvZD10KX1nZXQgdG90YWxSZXZlbnVlKCl7cmV0dXJuIHRoaXMuX3RvdGFsUmV2ZW51ZX1zZXQgdG90YWxSZXZlbnVlKHQpe3RoaXMuaXNOdW1lcmljKHQsXCJ0b3RhbFJldmVudWVcIikmJih0aGlzLl90b3RhbFJldmVudWU9dCl9Z2V0IHNoaXBwaW5nQ29zdHMoKXtyZXR1cm4gdGhpcy5fc2hpcHBpbmdDb3N0c31zZXQgc2hpcHBpbmdDb3N0cyh0KXt0aGlzLmlzTnVtZXJpYyh0LFwic2hpcHBpbmdDb3N0c1wiKSYmKHRoaXMuX3NoaXBwaW5nQ29zdHM9dCl9Y29uc3RydWN0b3IodCl7c3VwZXIoe3R5cGU6VnQuVFJBTlNBQ1RJT04sdXNlcklwOnQudXNlcklwLHNjcmVlblJlc29sdXRpb246dC5zY3JlZW5SZXNvbHV0aW9uLGxvY2FsZTp0LmxvY2FsZSxzZXNzaW9uTnVtYmVyOnQuc2Vzc2lvbk51bWJlcix2aXNpdG9ySWQ6dC52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZCxxYU1vZGU6dC5xYU1vZGUsaXNBY3Rpb25UcmFja2luZ0hpdDp0LmlzQWN0aW9uVHJhY2tpbmdIaXR9KTtjb25zdHt0cmFuc2FjdGlvbklkOmksYWZmaWxpYXRpb246ZSx0YXhlczpzLGN1cnJlbmN5OmEsY291cG9uQ29kZTpvLGl0ZW1Db3VudDpuLHNoaXBwaW5nTWV0aG9kOnIscGF5bWVudE1ldGhvZDpoLHRvdGFsUmV2ZW51ZTpjLHNoaXBwaW5nQ29zdHM6Z309dDt0aGlzLnRyYW5zYWN0aW9uSWQ9aSx0aGlzLmFmZmlsaWF0aW9uPWUscyYmKHRoaXMudGF4ZXM9cyksYSYmKHRoaXMuY3VycmVuY3k9YSksbyYmKHRoaXMuY291cG9uQ29kZT1vKSxuJiYodGhpcy5pdGVtQ291bnQ9biksciYmKHRoaXMuc2hpcHBpbmdNZXRob2Q9ciksaCYmKHRoaXMucGF5bWVudE1ldGhvZD1oKSxjJiYodGhpcy50b3RhbFJldmVudWU9YyksZyYmKHRoaXMuc2hpcHBpbmdDb3N0cz1nKX1pc1JlYWR5KHQ9ITApe3JldHVybiEodCYmIXN1cGVyLmlzUmVhZHkoKXx8IXRoaXMudHJhbnNhY3Rpb25JZHx8IXRoaXMuYWZmaWxpYXRpb24pfXRvQXBpS2V5cygpe2NvbnN0IHQ9c3VwZXIudG9BcGlLZXlzKCk7cmV0dXJuIHQudGlkPXRoaXMudHJhbnNhY3Rpb25JZCx0LnRhPXRoaXMuYWZmaWxpYXRpb24sdGhpcy50YXhlcyYmKHQudHQ9dGhpcy50YXhlcyksdGhpcy5jdXJyZW5jeSYmKHQudGM9dGhpcy5jdXJyZW5jeSksdGhpcy5jb3Vwb25Db2RlJiYodC50Y2M9dGhpcy5jb3Vwb25Db2RlKSx0aGlzLml0ZW1Db3VudCYmKHQuaWNuPXRoaXMuaXRlbUNvdW50KSx0aGlzLnNoaXBwaW5nTWV0aG9kJiYodC5zbT10aGlzLnNoaXBwaW5nTWV0aG9kKSx0aGlzLnBheW1lbnRNZXRob2QmJih0LnBtPXRoaXMucGF5bWVudE1ldGhvZCksdGhpcy50b3RhbFJldmVudWUmJih0LnRyPXRoaXMudG90YWxSZXZlbnVlKSx0aGlzLnNoaXBwaW5nQ29zdHMmJih0LnRzPXRoaXMuc2hpcHBpbmdDb3N0cyksdH10b09iamVjdCgpe3JldHVybnsuLi5zdXBlci50b09iamVjdCgpLHRyYW5zYWN0aW9uSWQ6dGhpcy50cmFuc2FjdGlvbklkLGFmZmlsaWF0aW9uOnRoaXMuYWZmaWxpYXRpb24sdGF4ZXM6dGhpcy50YXhlcyxjdXJyZW5jeTp0aGlzLmN1cnJlbmN5LGNvdXBvbkNvZGU6dGhpcy5jb3Vwb25Db2RlLGl0ZW1Db3VudDp0aGlzLml0ZW1Db3VudCxzaGlwcGluZ01ldGhvZDp0aGlzLnNoaXBwaW5nTWV0aG9kLHBheW1lbnRNZXRob2Q6dGhpcy5wYXltZW50TWV0aG9kLHRvdGFsUmV2ZW51ZTp0aGlzLnRvdGFsUmV2ZW51ZSxzaGlwcGluZ0Nvc3RzOnRoaXMuc2hpcHBpbmdDb3N0c319Z2V0RXJyb3JNZXNzYWdlKCl7cmV0dXJuXCJUcmFuc2FjdGlvbiBJZCBhbmQgVHJhbnNhY3Rpb24gYWZmaWxpYXRpb24gYXJlIHJlcXVpcmVkXCJ9fWNsYXNzIEhpe19odHRwQ2xpZW50O19jb25maWc7X2hpdHNQb29sUXVldWU7X2FjdGl2YXRlUG9vbFF1ZXVlO190cm91Ymxlc2hvb3RpbmdRdWV1ZTtfYW5hbHl0aWNIaXRRdWV1ZTtzdHJhdGVneTtfaW50ZXJ2YWxJRDtfaXNQb29saW5nPSExO19mbGFnc2hpcEluc3RhbmNlSWQ7X2luaXRUcm91Ymxlc2hvb3RpbmdIaXQ7X3NoYXJlZEFjdGlvblRyYWNraW5nO2dldCBpbml0VHJvdWJsZXNob290aW5nSGl0KCl7cmV0dXJuIHRoaXMuX2luaXRUcm91Ymxlc2hvb3RpbmdIaXR9c2V0IGluaXRUcm91Ymxlc2hvb3RpbmdIaXQodCl7dGhpcy5faW5pdFRyb3VibGVzaG9vdGluZ0hpdD10LHRoaXMuc3RyYXRlZ3kuaW5pdFRyb3VibGVzaG9vdGluZ0hpdD10fWdldCBmbGFnc2hpcEluc3RhbmNlSWQoKXtyZXR1cm4gdGhpcy5fZmxhZ3NoaXBJbnN0YW5jZUlkfWdldCB0cm91Ymxlc2hvb3RpbmdEYXRhKCl7cmV0dXJuIHRoaXMuc3RyYXRlZ3kudHJvdWJsZXNob290aW5nRGF0YX1zZXQgdHJvdWJsZXNob290aW5nRGF0YSh0KXt0aGlzLnN0cmF0ZWd5LnRyb3VibGVzaG9vdGluZ0RhdGE9dH1jb25zdHJ1Y3Rvcih0LGksZSxzKXt0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQ9ZSx0aGlzLl9oaXRzUG9vbFF1ZXVlPW5ldyBNYXAsdGhpcy5fYWN0aXZhdGVQb29sUXVldWU9bmV3IE1hcCx0aGlzLl90cm91Ymxlc2hvb3RpbmdRdWV1ZT1uZXcgTWFwLHRoaXMuX2FuYWx5dGljSGl0UXVldWU9bmV3IE1hcCx0aGlzLl9odHRwQ2xpZW50PXQsdGhpcy5fY29uZmlnPWksdGhpcy5fc2hhcmVkQWN0aW9uVHJhY2tpbmc9cyx0aGlzLnN0cmF0ZWd5PXRoaXMuaW5pdFN0cmF0ZWd5KCksdGhpcy5sb29rdXBIaXRzKCl9aW5pdFN0cmF0ZWd5KCl7bGV0IHQ7Y29uc3QgaT17Y29uZmlnOnRoaXMuY29uZmlnLGh0dHBDbGllbnQ6dGhpcy5odHRwQ2xpZW50LGhpdHNQb29sUXVldWU6dGhpcy5faGl0c1Bvb2xRdWV1ZSxhY3RpdmF0ZVBvb2xRdWV1ZTp0aGlzLl9hY3RpdmF0ZVBvb2xRdWV1ZSx0cm91Ymxlc2hvb3RpbmdRdWV1ZTp0aGlzLl90cm91Ymxlc2hvb3RpbmdRdWV1ZSxhbmFseXRpY0hpdFF1ZXVlOnRoaXMuX2FuYWx5dGljSGl0UXVldWUsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMuZmxhZ3NoaXBJbnN0YW5jZUlkLGluaXRUcm91Ymxlc2hvb3RpbmdIaXQ6dGhpcy5pbml0VHJvdWJsZXNob290aW5nSGl0LHNoYXJlZEFjdGlvblRyYWNraW5nOnRoaXMuX3NoYXJlZEFjdGlvblRyYWNraW5nfTtzd2l0Y2godGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5jYWNoZVN0cmF0ZWd5KXtjYXNlIEZ0LlBFUklPRElDX0NBQ0hJTkc6dD1uZXcgRGkoaSk7YnJlYWs7Y2FzZSBGdC5DT05USU5VT1VTX0NBQ0hJTkc6dD1uZXcgTmkoaSk7YnJlYWs7ZGVmYXVsdDp0PW5ldyBiaShpKX1yZXR1cm4gdH1nZXQgaHR0cENsaWVudCgpe3JldHVybiB0aGlzLl9odHRwQ2xpZW50fWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5fY29uZmlnfWFzeW5jIHNlbmRUcm91Ymxlc2hvb3RpbmdIaXQodCl7YXdhaXQgdGhpcy5zdHJhdGVneS5zZW5kVHJvdWJsZXNob290aW5nSGl0KHQpfXN0YXJ0QmF0Y2hpbmdMb29wKCl7Y29uc3QgdD0xZTMqdGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5iYXRjaEludGVydmFscztXdCh0aGlzLmNvbmZpZyxSdCxcIlRoZSBCYXRjaCBMb29wIGhhcyBiZWVuIHN0YXJ0ZWQgd2l0aCBhIHRpbWUgaW50ZXJ2YWwgb2YgezB9IG1zXCIsdCksdGhpcy5faW50ZXJ2YWxJRD1zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmJhdGNoaW5nTG9vcCgpfSksdCl9c3RvcEJhdGNoaW5nTG9vcCgpe2NsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJRCksdGhpcy5faXNQb29saW5nPSExLGp0KHRoaXMuY29uZmlnLFwiVGhlIEJhdGNoIExvb3AgaGFzIGJlZW4gc3RvcHBlZFwiLFJ0KX1hc3luYyBiYXRjaGluZ0xvb3AoKXt0aGlzLl9pc1Bvb2xpbmd8fCh0aGlzLl9pc1Bvb2xpbmc9ITAsYXdhaXQgdGhpcy5zdHJhdGVneS5zZW5kQmF0Y2goZmkuVGltZXIpLGF3YWl0IHRoaXMuc3RyYXRlZ3kuc2VuZFRyb3VibGVzaG9vdGluZ1F1ZXVlKCksYXdhaXQgdGhpcy5zdHJhdGVneS5zZW5kVXNhZ2VIaXRRdWV1ZSgpLHRoaXMuX2lzUG9vbGluZz0hMSl9Y2hlY2tMb29rdXBIaXREYXRhKHQpe3JldHVybiEoMSE9PXQ/LnZlcnNpb258fCF0Py5kYXRhPy50eXBlfHwhdD8uZGF0YT8uY29udGVudCl8fChRdCh0aGlzLmNvbmZpZyxcIkpTT04gREFUQSBtdXN0IGZpdCB0aGUgdHlwZSBIaXRDYWNoZURUT1wiLFwiTE9PS1VQIEhJVFwiKSwhMSl9YXN5bmMgZXh0cmFjdEhpdERhdGEodCxpKXtsZXQgZTtzd2l0Y2goaS5kYXRhLnR5cGUpe2Nhc2UgVnQuRVZFTlQ6ZT1uZXcgeWkoaS5kYXRhLmNvbnRlbnQpO2JyZWFrO2Nhc2UgVnQuSVRFTTplPW5ldyBPaShpLmRhdGEuY29udGVudCk7YnJlYWs7Y2FzZSBWdC5QQUdFOmU9bmV3IHdpKGkuZGF0YS5jb250ZW50KTticmVhaztjYXNlIFZ0LlNDUkVFTjplPW5ldyBFaShpLmRhdGEuY29udGVudCk7YnJlYWs7Y2FzZVwiU0VHTUVOVFwiOmU9bmV3IENpKGkuZGF0YS5jb250ZW50KTticmVhaztjYXNlIFZ0LlRSQU5TQUNUSU9OOmU9bmV3IE1pKGkuZGF0YS5jb250ZW50KX1yZXR1cm4gZX1hc3luYyBwcm9jZXNzQ2FjaGVkSGl0cyh0KXtjb25zdCBpPVtdLGU9T2JqZWN0LmVudHJpZXModCk7Zm9yKGNvbnN0W3QsYV1vZiBlKXtpZighKHRoaXMuY2hlY2tMb29rdXBIaXREYXRhKGEpJiYocz1hLmRhdGEudGltZSxEYXRlLm5vdygpLXM8PXcpKSl7aS5wdXNoKHQpO2NvbnRpbnVlfWlmKFwiQUNUSVZBVEVcIj09PWEuZGF0YS50eXBlKXtjb25zdCBpPW5ldyBTaShhLmRhdGEuY29udGVudCk7aS5rZXk9dCxpLmNyZWF0ZWRBdD1hLmRhdGEuY29udGVudC5jcmVhdGVkQXQsaS5jb25maWc9dGhpcy5jb25maWcsdGhpcy5fYWN0aXZhdGVQb29sUXVldWUuc2V0KHQsaSk7Y29udGludWV9Y29uc3QgZT1hd2FpdCB0aGlzLmV4dHJhY3RIaXREYXRhKHQsYSk7ZT8oZS5rZXk9dCxlLmNyZWF0ZWRBdD1hLmRhdGEuY29udGVudC5jcmVhdGVkQXQsZS5jb25maWc9dGhpcy5jb25maWcsdGhpcy5faGl0c1Bvb2xRdWV1ZS5zZXQodCxlKSk6aS5wdXNoKHQpfXZhciBzO2kubGVuZ3RoJiZhd2FpdCB0aGlzLnN0cmF0ZWd5LmZsdXNoSGl0cyhpKX1hc3luYyBsb29rdXBIaXRzKCl7dHJ5e2NvbnN0IHQ9dGhpcy5jb25maWcuaGl0Q2FjaGVJbXBsZW1lbnRhdGlvbjtpZih0aGlzLmNvbmZpZy5kaXNhYmxlQ2FjaGV8fCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0Lmxvb2t1cEhpdHMpcmV0dXJuO2NvbnN0IGk9YXdhaXQgdC5sb29rdXBIaXRzKCk7aWYoSnQodGhpcy5jb25maWcsQXQsXCJIaXRzIGNhY2hlIGhhcyBiZWVuIGxvYWRlZCBmcm9tIGRhdGFiYXNlOiB7MH1cIixpKSwhaXx8IU9iamVjdC5rZXlzKGkpLmxlbmd0aClyZXR1cm47YXdhaXQgdGhpcy5wcm9jZXNzQ2FjaGVkSGl0cyhpKX1jYXRjaCh0KXtLdCh0aGlzLmNvbmZpZyxBdCxrdCxcImxvb2t1cEhpdHNcIix0Lm1lc3NhZ2V8fHQpfX1hc3luYyBzZW5kVXNhZ2VIaXQodCl7YXdhaXQgdGhpcy5zdHJhdGVneS5zZW5kVXNhZ2VIaXQodCl9YXN5bmMgYWRkVHJvdWJsZXNob290aW5nSGl0KHQpe2F3YWl0IHRoaXMuc3RyYXRlZ3kuYWRkVHJvdWJsZXNob290aW5nSGl0KHQpfX1jbGFzcyBWaSBleHRlbmRzIEhpe2FzeW5jIGFjdGl2YXRlRmxhZyh0KXthd2FpdCB0aGlzLnN0cmF0ZWd5LmFjdGl2YXRlRmxhZyh0KX1hc3luYyBhZGRIaXQodCl7YXdhaXQgdGhpcy5zdHJhdGVneS5hZGRIaXQodCl9YXN5bmMgc2VuZEJhdGNoKCl7YXdhaXQgdGhpcy5zdHJhdGVneS5zZW5kQmF0Y2goZmkuRmx1c2gpfX1jbGFzcyBGaXtjb25zb2xlRXJyb3I7Y29uc29sZVdhcm47Y29uc29sZURlYnVnO2NvbnN0cnVjdG9yKCl7dGhpcy5jb25zb2xlRXJyb3I9Y29uc29sZS5lcnJvcj8/Y29uc29sZS5sb2csdGhpcy5jb25zb2xlV2Fybj1jb25zb2xlLndhcm4/P2NvbnNvbGUubG9nLHRoaXMuY29uc29sZURlYnVnPWNvbnNvbGUuZGVidWc/P2NvbnNvbGUubG9nfWVtZXJnZW5jeSh0LGkpe3RoaXMuY29uc29sZUVycm9yKG5pKHMuRU1FUkdFTkNZLHQsaSkpfWFsZXJ0KHQsaSl7dGhpcy5jb25zb2xlRXJyb3Iobmkocy5BTEVSVCx0LGkpKX1jcml0aWNhbCh0LGkpe3RoaXMuY29uc29sZUVycm9yKG5pKHMuQ1JJVElDQUwsdCxpKSl9ZXJyb3IodCxpKXt0aGlzLmNvbnNvbGVFcnJvcihuaShzLkVSUk9SLHQsaSkpfXdhcm5pbmcodCxpKXt0aGlzLmNvbnNvbGVXYXJuKG5pKHMuV0FSTklORyx0LGkpKX1ub3RpY2UodCxpKXt0aGlzLmxvZyhzLk5PVElDRSx0LGkpfWluZm8odCxpKXtjb25zb2xlLmluZm8obmkocy5JTkZPLHQsaSkpfWRlYnVnKHQsaSl7dGhpcy5jb25zb2xlRGVidWcobmkocy5ERUJVRyx0LGkpKX1sb2codCxpLGUpe2NvbnNvbGUubG9nKG5pKHQsaSxlKSl9fWNsYXNzIHhpIGV4dGVuZHMgcGl7Y29uc3RydWN0b3IodCl7c3VwZXIoey4uLnQsdHlwZTpcIlVTQUdFXCJ9KX19Y29uc3QgUGk9XCJGU19ERUZBVUxUX0hJVF9DQUNIRVwiO2NsYXNzIExpe2NhY2hlSGl0KHQpe2NvbnN0IGk9bG9jYWxTdG9yYWdlLmdldEl0ZW0oUGkpfHxcInt9XCIsZT17Li4uSlNPTi5wYXJzZShpKSwuLi50fTtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oUGksSlNPTi5zdHJpbmdpZnkoZSkpLFByb21pc2UucmVzb2x2ZSgpfWxvb2t1cEhpdHMoKXtjb25zdCB0PWxvY2FsU3RvcmFnZS5nZXRJdGVtKFBpKXx8XCJ7fVwiLGk9SlNPTi5wYXJzZSh0KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGkpfWZsdXNoSGl0cyh0KXtjb25zdCBpPWxvY2FsU3RvcmFnZS5nZXRJdGVtKFBpKXx8XCJ7fVwiLGU9SlNPTi5wYXJzZShpKTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57ZGVsZXRlIGVbdF19KSksbG9jYWxTdG9yYWdlLnNldEl0ZW0oUGksSlNPTi5zdHJpbmdpZnkoZSkpLFByb21pc2UucmVzb2x2ZSgpfWZsdXNoQWxsSGl0cygpe3JldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShQaSksUHJvbWlzZS5yZXNvbHZlKCl9fWNvbnN0IFVpPVwiRlNfVklTSVRPUl9DQUNIRV9cIjtjbGFzcyBHaXtjYWNoZVZpc2l0b3IodCxpKXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oVWkrdCxKU09OLnN0cmluZ2lmeShpKSksUHJvbWlzZS5yZXNvbHZlKCl9bG9va3VwVmlzaXRvcih0KXtjb25zdCBpPWxvY2FsU3RvcmFnZS5nZXRJdGVtKFVpK3QpO3JldHVybiBQcm9taXNlLnJlc29sdmUoaT9KU09OLnBhcnNlKGkpOm51bGwpfWZsdXNoVmlzaXRvcih0KXtyZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVWkrdCksUHJvbWlzZS5yZXNvbHZlKCl9fWNvbnN0IEJpPVwiVmlzaXRvciBJRCBtaXNtYXRjaDogezB9IHZzIHsxfVwiO2NsYXNzIHFpe3Zpc2l0b3I7Z2V0IGNvbmZpZ01hbmFnZXIoKXtyZXR1cm4gdGhpcy52aXNpdG9yLmNvbmZpZ01hbmFnZXJ9Z2V0IHRyYWNraW5nTWFuYWdlcigpe3JldHVybiB0aGlzLmNvbmZpZ01hbmFnZXIudHJhY2tpbmdNYW5hZ2VyfWdldCBkZWNpc2lvbk1hbmFnZXIoKXtyZXR1cm4gdGhpcy5jb25maWdNYW5hZ2VyLmRlY2lzaW9uTWFuYWdlcn1nZXQgY29uZmlnKCl7cmV0dXJuIHRoaXMudmlzaXRvci5jb25maWd9X211cm11ckhhc2g7Y29uc3RydWN0b3IodCl7Y29uc3R7dmlzaXRvcjppLG11cm11ckhhc2g6ZX09dDt0aGlzLnZpc2l0b3I9aSx0aGlzLl9tdXJtdXJIYXNoPWV9Y29sbGVjdEVBSUV2ZW50c0FzeW5jKHQpe3JldHVybiB0aGlzLnZpc2l0b3IuZW1vdGlvbkFpLmNvbGxlY3RFQUlFdmVudHNBc3luYyh0KX1yZXBvcnRFYWlWaXNpdG9yRXZlbnQodCl7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gRmV9KSkudGhlbigoKHtWaXNpdG9yRXZlbnQ6aX0pPT57dGhpcy52aXNpdG9yLmVtb3Rpb25BaS5yZXBvcnRWaXNpdG9yRXZlbnQobmV3IGkodCkpfSkpfXJlcG9ydEVhaVBhZ2VWaWV3KHQpe1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHdlfSkpLnRoZW4oKCh7UGFnZVZpZXc6aX0pPT57dGhpcy52aXNpdG9yLmVtb3Rpb25BaS5yZXBvcnRQYWdlVmlldyhuZXcgaSh0KSl9KSl9b25FQUlDb2xsZWN0U3RhdHVzQ2hhbmdlKHQpe3RoaXMudmlzaXRvci5lbW90aW9uQWkub25FQUlDb2xsZWN0U3RhdHVzQ2hhbmdlKHQpfWNsZWFudXAoKXt0aGlzLnZpc2l0b3IuZW1vdGlvbkFpLmNsZWFudXAoKX11cGRhdGVDYW1wYWlnbnModCl7dHJ5e3RoaXMudmlzaXRvci5jYW1wYWlnbnM9dCx0aGlzLnZpc2l0b3IuZmxhZ3NEYXRhPXRoaXMuZGVjaXNpb25NYW5hZ2VyLmdldE1vZGlmaWNhdGlvbnModCl9Y2F0Y2godCl7UXQodGhpcy5jb25maWcsdC5tZXNzYWdlfHx0LFwidXBkYXRlQ2FtcGFpZ25zXCIpfX1oYXNUcmFja2luZ01hbmFnZXIodCl7Y29uc3QgaT10aGlzLnRyYWNraW5nTWFuYWdlcjtyZXR1cm4gaXx8UXQodGhpcy5jb25maWcscXQoXCJ0cmFja2VyTWFuYWdlciBtdXN0IG5vdCBiZSBudWxsLlwiKSx0KSwhIWl9c2V0Q29uc2VudCh0KXtpZih0aGlzLnZpc2l0b3IuaGFzQ29uc2VudGVkPXQsdHx8dGhpcy5mbHVzaFZpc2l0b3IoKSwhdGhpcy5oYXNUcmFja2luZ01hbmFnZXIoXCJzZXRDb25zZW50XCIpKXJldHVybjtjb25zdCBpPW5ldyB5aSh7dmlzaXRvcklkOnRoaXMudmlzaXRvci52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dGhpcy52aXNpdG9yLmFub255bW91c0lkLGxhYmVsOmAke28ubmFtZX06JHt0aGlzLnZpc2l0b3IuaGFzQ29uc2VudGVkfWAsYWN0aW9uOkUsY2F0ZWdvcnk6VGkuVVNFUl9FTkdBR0VNRU5UfSk7aS5xYU1vZGU9dGhpcy5jb25maWcuaXNRQU1vZGVFbmFibGVkLGkuZHM9ZXQsaS5jb25maWc9dGhpcy5jb25maWcsdGhpcy50cmFja2luZ01hbmFnZXIuYWRkSGl0KGkpO2NvbnN0IGU9bmV3IF9pKHtsYWJlbDpkaS5WSVNJVE9SX1NFTkRfSElULGxvZ0xldmVsOnMuSU5GTyx0cmFmZmljOnRoaXMudmlzaXRvci50cmFmZmljfHwwLHZpc2l0b3JJZDp0aGlzLnZpc2l0b3IudmlzaXRvcklkLHZpc2l0b3JTZXNzaW9uSWQ6dGhpcy52aXNpdG9yLmluc3RhbmNlSWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsY29uZmlnOnRoaXMuY29uZmlnLGhpdENvbnRlbnQ6aS50b0FwaUtleXMoKX0pO3RoaXMuZGVjaXNpb25NYW5hZ2VyLnRyb3VibGVzaG9vdGluZz90aGlzLnRyYWNraW5nTWFuYWdlci5zZW5kVHJvdWJsZXNob290aW5nSGl0KGUpOih0aGlzLnZpc2l0b3IuY29uc2VudEhpdFRyb3VibGVzaG9vdGluZz1lLEp0KHRoaXMuY29uZmlnLFwiU0VUX0NPTlNFTlRcIixcIlZpc2l0b3IgYHswfWAgY29uc2VudCBoYXMgYmVlbiBjaGFuZ2VkIDogezF9XCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0KSl9Y2hlY0tMb29rdXBWaXNpdG9yRGF0YVYxKHQpe2lmKCF0fHwhdC5kYXRhfHwhdC5kYXRhLnZpc2l0b3JJZClyZXR1cm4hMTtjb25zdCBpPXQuZGF0YS5jYW1wYWlnbnM7cmV0dXJuIWl8fCEhQXJyYXkuaXNBcnJheShpKSYmKHRoaXMudmlzaXRvci52aXNpdG9yQ2FjaGVTdGF0dXMhPT1saS5WSVNJVE9SX0lEX0NBQ0hFJiZ0aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlU3RhdHVzIT09bGkuVklTSVRPUl9JRF9DQUNIRV9XSVRIX0FOT05ZTU9VU19JRF9DQUNIRXx8dC5kYXRhLnZpc2l0b3JJZD09PXRoaXMudmlzaXRvci52aXNpdG9ySWQ/dGhpcy52aXNpdG9yLnZpc2l0b3JDYWNoZVN0YXR1cz09PWxpLkFOT05ZTU9VU19JRF9DQUNIRSYmdC5kYXRhLnZpc2l0b3JJZCE9PXRoaXMudmlzaXRvci5hbm9ueW1vdXNJZD8oV3QodGhpcy5jb25maWcsQXQsQmksdC5kYXRhLnZpc2l0b3JJZCx0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQpLCExKTppLmV2ZXJ5KCh0PT50LmNhbXBhaWduSWQmJnQudHlwZSYmdC52YXJpYXRpb25Hcm91cElkJiZ0LnZhcmlhdGlvbklkKSk6KFd0KHRoaXMuY29uZmlnLEF0LEJpLHQuZGF0YS52aXNpdG9ySWQsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCksITEpKX1jaGVjS0xvb2t1cFZpc2l0b3JEYXRhKHQpe3JldHVybiAxPT09dC52ZXJzaW9uJiZ0aGlzLmNoZWNLTG9va3VwVmlzaXRvckRhdGFWMSh0KX1hc3luYyB0cnlMb29rdXBDYWNoZSh0KXtjb25zdCBpPXRoaXMuY29uZmlnLnZpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uO3JldHVybiBpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmxvb2t1cFZpc2l0b3I/YXdhaXQgaS5sb29rdXBWaXNpdG9yKHQpOm51bGx9cHJvY2Vzc1ZhbGlkQ2FjaGUodCl7cmV0dXJuIHRoaXMuY2hlY0tMb29rdXBWaXNpdG9yRGF0YSh0KT8odGhpcy52aXNpdG9yLnZpc2l0b3JDYWNoZT10LCEwKTooS3QodGhpcy5jb25maWcsQXQsRXQsMSx0aGlzLnZpc2l0b3IudmlzaXRvcklkKSwhMSl9YXN5bmMgbG9va3VwVmlzaXRvcigpe3RyeXtpZih0aGlzLmNvbmZpZy5kaXNhYmxlQ2FjaGV8fHRoaXMudmlzaXRvci52aXNpdG9yQ2FjaGUpcmV0dXJuO3RoaXMudmlzaXRvci52aXNpdG9yQ2FjaGVTdGF0dXM9bGkuTk9ORTtsZXQgdD1hd2FpdCB0aGlzLnRyeUxvb2t1cENhY2hlKHRoaXMudmlzaXRvci52aXNpdG9ySWQpO2lmKHQ/dGhpcy52aXNpdG9yLnZpc2l0b3JDYWNoZVN0YXR1cz1saS5WSVNJVE9SX0lEX0NBQ0hFOnRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCYmKHQ9YXdhaXQgdGhpcy50cnlMb29rdXBDYWNoZSh0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQpLHQmJih0aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlU3RhdHVzPWxpLkFOT05ZTU9VU19JRF9DQUNIRSkpLEp0KHRoaXMuY29uZmlnLEF0LFwiVmlzaXRvciB7MH0sIHZpc2l0b3IgY2FjaGUgaGFzIGJlZW4gbG9hZGVkIGZyb20gZGF0YWJhc2U6IHsxfVwiLHRoaXMudmlzaXRvci52aXNpdG9ySWQsdCksIXR8fCF0aGlzLnByb2Nlc3NWYWxpZENhY2hlKHQpKXJldHVybjtpZih0aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlU3RhdHVzPT09bGkuVklTSVRPUl9JRF9DQUNIRSYmdGhpcy52aXNpdG9yLmFub255bW91c0lkKXthd2FpdCB0aGlzLnRyeUxvb2t1cENhY2hlKHRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCkmJih0aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlU3RhdHVzPWxpLlZJU0lUT1JfSURfQ0FDSEVfV0lUSF9BTk9OWU1PVVNfSURfQ0FDSEUpfX1jYXRjaCh0KXtLdCh0aGlzLmNvbmZpZyxBdCxTdCx0aGlzLnZpc2l0b3IudmlzaXRvcklkLFwibG9va3VwVmlzaXRvclwiLHQubWVzc2FnZXx8dCl9fWNyZWF0ZVZpc2l0b3JDYWNoZURUTyh0LGkpe2NvbnN0IGU9e30scz17dmVyc2lvbjoxLGRhdGE6e3Zpc2l0b3JJZDp0aGlzLnZpc2l0b3IudmlzaXRvcklkLGFub255bW91c0lkOnRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCxjb25zZW50OnRoaXMudmlzaXRvci5oYXNDb25zZW50ZWQsY29udGV4dDp0aGlzLnZpc2l0b3IuY29udGV4dCxlQUlTY29yZTp0aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlPy5kYXRhPy5lQUlTY29yZXx8dCxpc0VBSURhdGFDb2xsZWN0ZWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JDYWNoZT8uZGF0YT8uaXNFQUlEYXRhQ29sbGVjdGVkfHxpLGNhbXBhaWduczp0aGlzLnZpc2l0b3IuY2FtcGFpZ25zLm1hcCgodD0+KGVbdC52YXJpYXRpb25Hcm91cElkXT10LnZhcmlhdGlvbi5pZCx7Y2FtcGFpZ25JZDp0LmlkLHNsdWc6dC5zbHVnLHZhcmlhdGlvbkdyb3VwSWQ6dC52YXJpYXRpb25Hcm91cElkLHZhcmlhdGlvbklkOnQudmFyaWF0aW9uLmlkLGlzUmVmZXJlbmNlOnQudmFyaWF0aW9uLnJlZmVyZW5jZSx0eXBlOnQudmFyaWF0aW9uLm1vZGlmaWNhdGlvbnMudHlwZSxhY3RpdmF0ZWQ6ITEsZmxhZ3M6dC52YXJpYXRpb24ubW9kaWZpY2F0aW9ucy52YWx1ZX0pKSl9fTtyZXR1cm4gcy5kYXRhLmFzc2lnbm1lbnRzSGlzdG9yeT17Li4udGhpcy52aXNpdG9yLnZpc2l0b3JDYWNoZT8uZGF0YT8uYXNzaWdubWVudHNIaXN0b3J5LC4uLmV9LHN9YXN5bmMgY2FjaGVBbm9ueW1vdXNWaXNpdG9yKHQsaSl7Y29uc3QgZT10aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlU3RhdHVzO2lmKHRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCYmKGU9PT1saS5OT05FfHxlPT09bGkuVklTSVRPUl9JRF9DQUNIRSkpe2NvbnN0IGU9ey4uLmksZGF0YTp7Li4uaS5kYXRhLHZpc2l0b3JJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsYW5vbnltb3VzSWQ6bnVsbH19O2F3YWl0IHQuY2FjaGVWaXNpdG9yKHRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCxlKX19YXN5bmMgY2FjaGVWaXNpdG9yKHQsaSl7dHJ5e2NvbnN0IGU9dGhpcy5jb25maWcudmlzaXRvckNhY2hlSW1wbGVtZW50YXRpb247aWYodGhpcy5jb25maWcuZGlzYWJsZUNhY2hlfHwhZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5jYWNoZVZpc2l0b3IpcmV0dXJuO2NvbnN0IHM9dGhpcy5jcmVhdGVWaXNpdG9yQ2FjaGVEVE8odCxpKTthd2FpdCBlLmNhY2hlVmlzaXRvcih0aGlzLnZpc2l0b3IudmlzaXRvcklkLHMpLGF3YWl0IHRoaXMuY2FjaGVBbm9ueW1vdXNWaXNpdG9yKGUscyksSnQodGhpcy5jb25maWcsQXQsXCJWaXNpdG9yIHswfSwgdmlzaXRvciBjYWNoZSBoYXMgYmVlbiBzYXZlZCBpbnRvIGRhdGFiYXNlIDogezB9XCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCxzKSx0aGlzLnZpc2l0b3IudmlzaXRvckNhY2hlPXN9Y2F0Y2godCl7S3QodGhpcy5jb25maWcsQXQsU3QsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCxcImNhY2hlVmlzaXRvclwiLHQubWVzc2FnZXx8dCl9fWFzeW5jIGZsdXNoVmlzaXRvcigpe3RyeXtjb25zdCB0PXRoaXMuY29uZmlnLnZpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uO2lmKHRoaXMuY29uZmlnLmRpc2FibGVDYWNoZXx8IXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZmx1c2hWaXNpdG9yKXJldHVybjthd2FpdCB0LmZsdXNoVmlzaXRvcih0aGlzLnZpc2l0b3IudmlzaXRvcklkKSxKdCh0aGlzLmNvbmZpZyxBdCxcIlZpc2l0b3IgezB9LCB2aXNpdG9yIGNhY2hlIGhhcyBiZWVuIGZsdXNoZWQgZnJvbSBkYXRhYmFzZS5cIix0aGlzLnZpc2l0b3IudmlzaXRvcklkKX1jYXRjaCh0KXtLdCh0aGlzLmNvbmZpZyxBdCxTdCx0aGlzLnZpc2l0b3IudmlzaXRvcklkLFwiZmx1c2hWaXNpdG9yXCIsdC5tZXNzYWdlfHx0KX19YWRkSW5UcmFja2luZ01hbmFnZXIodCl7cmV0dXJuIHRoaXMudHJhY2tpbmdNYW5hZ2VyLmFkZEhpdCh0KX1hc3luYyBzZW5kVHJvdWJsZXNob290aW5nSGl0KHQpe2F3YWl0IHRoaXMudHJhY2tpbmdNYW5hZ2VyLnNlbmRUcm91Ymxlc2hvb3RpbmdIaXQodCl9YXN5bmMgc2VuZFVzYWdlSGl0KHQpe2lmKHRoaXMuY29uZmlnLmRpc2FibGVEZXZlbG9wZXJVc2FnZVRyYWNraW5nKXJldHVybjtyZXR1cm4gdGhpcy52aXNpdG9yLmFuYWx5dGljVHJhZmZpYz4xP3ZvaWQgMDp0aGlzLnRyYWNraW5nTWFuYWdlci5zZW5kVXNhZ2VIaXQodCl9Z2V0Q3VycmVudERhdGVUaW1lKCl7cmV0dXJuIG5ldyBEYXRlfWdldFNka0NvbmZpZ0RlY2lzaW9uTW9kZSgpe3JldHVybiB0aGlzLmNvbmZpZy5kZWNpc2lvbk1vZGU9PT1VdC5ERUNJU0lPTl9BUEk/XCJERUNJU0lPTl9BUElcIjp0aGlzLmNvbmZpZy5kZWNpc2lvbk1vZGV9YXN5bmMgc2VuZFNka0NvbmZpZ0FuYWx5dGljSGl0KCl7aWYodGhpcy5jb25maWcuZGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmcpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jb25maWcuaGl0Q2FjaGVJbXBsZW1lbnRhdGlvbixpPXRoaXMuY29uZmlnLnZpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uO2xldCBlPSExLGE9ITE7ZT0hKCF0fHx0IGluc3RhbmNlb2YgTGkpLGE9ISghaXx8aSBpbnN0YW5jZW9mIEdpKTtjb25zdCBvPW5ldyB4aSh7bGFiZWw6ZGkuU0RLX0NPTkZJRyxsb2dMZXZlbDpzLklORk8sdmlzaXRvcklkOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCxmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy52aXNpdG9yLnNka0luaXRpYWxEYXRhPy5pbnN0YW5jZUlkLGNvbmZpZzp0aGlzLmNvbmZpZyxzZGtTdGF0dXM6dGhpcy52aXNpdG9yLmdldFNka1N0YXR1cygpLGxhc3RCdWNrZXRpbmdUaW1lc3RhbXA6dGhpcy5jb25maWdNYW5hZ2VyLmRlY2lzaW9uTWFuYWdlci5sYXN0QnVja2V0aW5nVGltZXN0YW1wLGxhc3RJbml0aWFsaXphdGlvblRpbWVzdGFtcDp0aGlzLnZpc2l0b3Iuc2RrSW5pdGlhbERhdGE/Lmxhc3RJbml0aWFsaXphdGlvblRpbWVzdGFtcCxzZGtDb25maWdNb2RlOnRoaXMuZ2V0U2RrQ29uZmlnRGVjaXNpb25Nb2RlKCksc2RrQ29uZmlnTG9nTGV2ZWw6dGhpcy5jb25maWcubG9nTGV2ZWwsc2RrQ29uZmlnVGltZW91dDp0aGlzLmNvbmZpZy50aW1lb3V0LHNka0NvbmZpZ1BvbGxpbmdJbnRlcnZhbDp0aGlzLmNvbmZpZy5wb2xsaW5nSW50ZXJ2YWwsc2RrQ29uZmlnVHJhY2tpbmdNYW5hZ2VyU3RyYXRlZ3k6dGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5jYWNoZVN0cmF0ZWd5LHNka0NvbmZpZ1RyYWNraW5nTWFuYWdlckJhdGNoSW50ZXJ2YWxzOnRoaXMuY29uZmlnLnRyYWNraW5nTWFuYWdlckNvbmZpZz8uYmF0Y2hJbnRlcnZhbHMsc2RrQ29uZmlnVHJhY2tpbmdNYW5hZ2VyUG9vbE1heFNpemU6dGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5wb29sTWF4U2l6ZSxzZGtDb25maWdGZXRjaE5vdzp0aGlzLmNvbmZpZy5mZXRjaE5vdyxzZGtDb25maWdSZXVzZVZpc2l0b3JJZHM6dGhpcy5jb25maWcucmV1c2VWaXNpdG9ySWRzLHNka0NvbmZpZ0luaXRpYWxCdWNrZXRpbmc6dGhpcy5jb25maWcuaW5pdGlhbEJ1Y2tldGluZyxzZGtDb25maWdEZWNpc2lvbkFwaVVybDp0aGlzLmNvbmZpZy5kZWNpc2lvbkFwaVVybCxzZGtDb25maWdIaXREZWR1cGxpY2F0aW9uVGltZTp0aGlzLmNvbmZpZy5oaXREZWR1cGxpY2F0aW9uVGltZSxzZGtDb25maWdVc2luZ09uVmlzaXRvckV4cG9zZWQ6ISF0aGlzLmNvbmZpZy5vblZpc2l0b3JFeHBvc2VkLHNka0NvbmZpZ1VzaW5nQ3VzdG9tSGl0Q2FjaGU6ISFlLHNka0NvbmZpZ1VzaW5nQ3VzdG9tVmlzaXRvckNhY2hlOiEhYSxzZGtDb25maWdGZXRjaFRoaXJkUGFydHlEYXRhOnRoaXMuY29uZmlnLmZldGNoVGhpcmRQYXJ0eURhdGEsc2RrQ29uZmlnRmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWU6dGhpcy5jb25maWcuZmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWUsc2RrQ29uZmlnRGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmc6dGhpcy5jb25maWcuZGlzYWJsZURldmVsb3BlclVzYWdlVHJhY2tpbmcsc2RrQ29uZmlnTmV4dEZldGNoQ29uZmlnOnRoaXMuY29uZmlnLm5leHRGZXRjaENvbmZpZyxzZGtDb25maWdEaXNhYmxlQ2FjaGU6dGhpcy5jb25maWcuZGlzYWJsZUNhY2hlfSk7dGhpcy5zZW5kVXNhZ2VIaXQobyl9YXN5bmMgc2VuZEZldGNoRmxhZ3NUcm91Ymxlc2hvb3Rpbmcoe2lzRnJvbUNhY2hlOnQsY2FtcGFpZ25zOmksbm93OmV9KXtjb25zdCBhPXt9O3RoaXMudmlzaXRvci5mbGFnc0RhdGEuZm9yRWFjaCgodD0+e2FbdC52YXJpYXRpb25Hcm91cElkXT10LnZhcmlhdGlvbklkfSkpO2NvbnN0IG89dGhpcy52aXNpdG9yLnZpc2l0b3JJZCt0aGlzLmRlY2lzaW9uTWFuYWdlci50cm91Ymxlc2hvb3Rpbmc/LmVuZERhdGUudG9VVENTdHJpbmcoKSxuPXRoaXMuX211cm11ckhhc2gubXVybXVySGFzaDNJbnQzMihvKSUxMDA7dGhpcy52aXNpdG9yLnRyYWZmaWM9bjtjb25zdCByPXRoaXMuY29uZmlnLmhpdENhY2hlSW1wbGVtZW50YXRpb24saD10aGlzLmNvbmZpZy52aXNpdG9yQ2FjaGVJbXBsZW1lbnRhdGlvbjtsZXQgYz0hMSxnPSExO2M9ISghcnx8ciBpbnN0YW5jZW9mIExpKSxnPSEoIWh8fGggaW5zdGFuY2VvZiBHaSk7Y29uc3QgZD1uZXcgX2koe2xhYmVsOmRpLlZJU0lUT1JfRkVUQ0hfQ0FNUEFJR05TLGxvZ0xldmVsOnMuSU5GTyx2aXNpdG9ySWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsdmlzaXRvclNlc3Npb25JZDp0aGlzLnZpc2l0b3IuaW5zdGFuY2VJZCxmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy52aXNpdG9yLnNka0luaXRpYWxEYXRhPy5pbnN0YW5jZUlkLHRyYWZmaWM6bixjb25maWc6dGhpcy5jb25maWcsc2RrU3RhdHVzOnRoaXMudmlzaXRvci5nZXRTZGtTdGF0dXMoKSx2aXNpdG9yQ29udGV4dDp0aGlzLnZpc2l0b3IuY29udGV4dCx2aXNpdG9yQ2FtcGFpZ25zOmksdmlzaXRvckNhbXBhaWduRnJvbUNhY2hlOnQ/aTp2b2lkIDAsdmlzaXRvckNvbnNlbnQ6dGhpcy52aXNpdG9yLmhhc0NvbnNlbnRlZCx2aXNpdG9ySXNBdXRoZW50aWNhdGVkOiEhdGhpcy52aXNpdG9yLmFub255bW91c0lkLHZpc2l0b3JGbGFnczp0aGlzLnZpc2l0b3IuZmxhZ3NEYXRhLHZpc2l0b3JBc3NpZ25tZW50SGlzdG9yeTphLHZpc2l0b3JJbml0aWFsQ2FtcGFpZ25zOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5pdGlhbENhbXBhaWducyx2aXNpdG9ySW5pdGlhbEZsYWdzRGF0YTp0aGlzLnZpc2l0b3Iuc2RrSW5pdGlhbERhdGE/LmluaXRpYWxGbGFnc0RhdGEsbGFzdEJ1Y2tldGluZ1RpbWVzdGFtcDp0aGlzLmNvbmZpZ01hbmFnZXIuZGVjaXNpb25NYW5hZ2VyLmxhc3RCdWNrZXRpbmdUaW1lc3RhbXAsbGFzdEluaXRpYWxpemF0aW9uVGltZXN0YW1wOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8ubGFzdEluaXRpYWxpemF0aW9uVGltZXN0YW1wLGh0dHBSZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1lLHNka0NvbmZpZ0xvZ0xldmVsOnRoaXMuY29uZmlnLmxvZ0xldmVsLHNka0NvbmZpZ01vZGU6dGhpcy5nZXRTZGtDb25maWdEZWNpc2lvbk1vZGUoKSxzZGtDb25maWdUaW1lb3V0OnRoaXMuY29uZmlnLnRpbWVvdXQsc2RrQ29uZmlnUG9sbGluZ0ludGVydmFsOnRoaXMuY29uZmlnLnBvbGxpbmdJbnRlcnZhbCxzZGtDb25maWdUcmFja2luZ01hbmFnZXJTdHJhdGVneTp0aGlzLmNvbmZpZy50cmFja2luZ01hbmFnZXJDb25maWc/LmNhY2hlU3RyYXRlZ3ksc2RrQ29uZmlnVHJhY2tpbmdNYW5hZ2VyQmF0Y2hJbnRlcnZhbHM6dGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5iYXRjaEludGVydmFscyxzZGtDb25maWdUcmFja2luZ01hbmFnZXJQb29sTWF4U2l6ZTp0aGlzLmNvbmZpZy50cmFja2luZ01hbmFnZXJDb25maWc/LnBvb2xNYXhTaXplLHNka0NvbmZpZ0ZldGNoTm93OnRoaXMuY29uZmlnLmZldGNoTm93LHNka0NvbmZpZ1JldXNlVmlzaXRvcklkczp0aGlzLmNvbmZpZy5yZXVzZVZpc2l0b3JJZHMsc2RrQ29uZmlnSW5pdGlhbEJ1Y2tldGluZzp0aGlzLmNvbmZpZy5pbml0aWFsQnVja2V0aW5nLHNka0NvbmZpZ0RlY2lzaW9uQXBpVXJsOnRoaXMuY29uZmlnLmRlY2lzaW9uQXBpVXJsLHNka0NvbmZpZ0hpdERlZHVwbGljYXRpb25UaW1lOnRoaXMuY29uZmlnLmhpdERlZHVwbGljYXRpb25UaW1lLHNka0NvbmZpZ1VzaW5nT25WaXNpdG9yRXhwb3NlZDohIXRoaXMuY29uZmlnLm9uVmlzaXRvckV4cG9zZWQsc2RrQ29uZmlnVXNpbmdDdXN0b21IaXRDYWNoZTohIWMsc2RrQ29uZmlnVXNpbmdDdXN0b21WaXNpdG9yQ2FjaGU6ISFnLHNka0NvbmZpZ0ZldGNoVGhpcmRQYXJ0eURhdGE6dGhpcy5jb25maWcuZmV0Y2hUaGlyZFBhcnR5RGF0YSxzZGtDb25maWdGZXRjaEZsYWdzQnVmZmVyaW5nVGltZTp0aGlzLmNvbmZpZy5mZXRjaEZsYWdzQnVmZmVyaW5nVGltZSxzZGtDb25maWdEaXNhYmxlRGV2ZWxvcGVyVXNhZ2VUcmFja2luZzp0aGlzLmNvbmZpZy5kaXNhYmxlRGV2ZWxvcGVyVXNhZ2VUcmFja2luZyxzZGtDb25maWdOZXh0RmV0Y2hDb25maWc6dGhpcy5jb25maWcubmV4dEZldGNoQ29uZmlnLHNka0NvbmZpZ0Rpc2FibGVDYWNoZTp0aGlzLmNvbmZpZy5kaXNhYmxlQ2FjaGV9KTthd2FpdCB0aGlzLnNlbmRUcm91Ymxlc2hvb3RpbmdIaXQoZCl9c2VuZENvbnNlbnRIaXRUcm91Ymxlc2hvb3RpbmcoKXtjb25zdCB0PXRoaXMudmlzaXRvci5jb25zZW50SGl0VHJvdWJsZXNob290aW5nO3QmJih0LnRyYWZmaWM9dGhpcy52aXNpdG9yLnRyYWZmaWMsdGhpcy50cmFja2luZ01hbmFnZXIuc2VuZFRyb3VibGVzaG9vdGluZ0hpdCh0KSx0aGlzLnZpc2l0b3IuY29uc2VudEhpdFRyb3VibGVzaG9vdGluZz12b2lkIDApfXNlbmRTZWdtZW50SGl0VHJvdWJsZXNob290aW5nKCl7Y29uc3QgdD10aGlzLnZpc2l0b3Iuc2VnbWVudEhpdFRyb3VibGVzaG9vdGluZzt0JiYodC50cmFmZmljPXRoaXMudmlzaXRvci50cmFmZmljLHRoaXMudHJhY2tpbmdNYW5hZ2VyLnNlbmRUcm91Ymxlc2hvb3RpbmdIaXQodCksdGhpcy52aXNpdG9yLnNlZ21lbnRIaXRUcm91Ymxlc2hvb3Rpbmc9dm9pZCAwKX19Y29uc3QgS2k9XCJzZGtfZGV2aWNlTGFuZ3VhZ2VcIixRaT1cInNka19kZXZpY2VUeXBlXCIsJGk9XCJzZGtfZGV2aWNlTW9kZWxcIix6aT1cInNka19jaXR5XCIsV2k9XCJzZGtfcmVnaW9uXCIsamk9XCJzZGtfY291bnRyeVwiLEppPVwic2RrX2xhdFwiLFlpPVwic2RrX2xvbmdcIixaaT1cInNka19pcFwiLFhpPVwic2RrX29zTmFtZVwiLHRlPVwic2RrX29zVmVyc2lvbk5hbWVcIixpZT1cInNka19vc1ZlcnNpb25Db2RlXCIsZWU9XCJzZGtfY2Fycmllck5hbWVcIixzZT1cInNka19pbnRlcm5ldENvbm5lY3Rpb25cIixhZT1cInNka192ZXJzaW9uTmFtZVwiLG9lPVwic2RrX3ZlcnNpb25Db2RlXCIsbmU9XCJzZGtfaW50ZXJmYWNlTmFtZVwiLHJlPVwiZnNfY2xpZW50XCIsaGU9XCJmc192ZXJzaW9uXCIsY2U9XCJmc191c2Vyc1wiLGdlPXtbS2ldOlwic3RyaW5nXCIsW1FpXTpcInN0cmluZ1wiLFskaV06XCJzdHJpbmdcIixbemldOlwic3RyaW5nXCIsW1dpXTpcInN0cmluZ1wiLFtqaV06XCJzdHJpbmdcIixbSmldOlwibnVtYmVyXCIsW1lpXTpcIm51bWJlclwiLFtaaV06XCJzdHJpbmdcIixbWGldOlwic3RyaW5nXCIsW3RlXTpcInN0cmluZ1wiLFtpZV06XCJzdHJpbmdcIixbZWVdOlwic3RyaW5nXCIsW3NlXTpcInN0cmluZ1wiLFthZV06XCJzdHJpbmdcIixbb2VdOlwic3RyaW5nXCIsW25lXTpcInN0cmluZ1wiLFtyZV06XCJzdHJpbmdcIixbaGVdOlwic3RyaW5nXCIsW2NlXTpcInN0cmluZ1wifTtjbGFzcyBkZXtjYW1wYWlnbklkO2NhbXBhaWduTmFtZTt2YXJpYXRpb25Hcm91cElkO3ZhcmlhdGlvbkdyb3VwTmFtZTt2YXJpYXRpb25JZDt2YXJpYXRpb25OYW1lO2lzUmVmZXJlbmNlO2NhbXBhaWduVHlwZTtzbHVnO2NvbnN0cnVjdG9yKHQpe2NvbnN0e2NhbXBhaWduSWQ6aSx2YXJpYXRpb25Hcm91cElkOmUsdmFyaWF0aW9uSWQ6cyxpc1JlZmVyZW5jZTphLGNhbXBhaWduVHlwZTpvLHNsdWc6bix2YXJpYXRpb25Hcm91cE5hbWU6cix2YXJpYXRpb25OYW1lOmgsY2FtcGFpZ25OYW1lOmN9PXQ7dGhpcy5jYW1wYWlnbklkPWksdGhpcy52YXJpYXRpb25Hcm91cElkPWUsdGhpcy52YXJpYXRpb25JZD1zLHRoaXMuaXNSZWZlcmVuY2U9YSx0aGlzLmNhbXBhaWduVHlwZT1vLHRoaXMuY2FtcGFpZ25OYW1lPWMsdGhpcy52YXJpYXRpb25Hcm91cE5hbWU9cix0aGlzLnZhcmlhdGlvbk5hbWU9aCx0aGlzLnNsdWc9bn1zdGF0aWMgRW1wdHkoKXtyZXR1cm4gbmV3IGRlKHtjYW1wYWlnbklkOlwiXCIsY2FtcGFpZ25OYW1lOlwiXCIsY2FtcGFpZ25UeXBlOlwiXCIsdmFyaWF0aW9uSWQ6XCJcIix2YXJpYXRpb25OYW1lOlwiXCIsdmFyaWF0aW9uR3JvdXBJZDpcIlwiLHZhcmlhdGlvbkdyb3VwTmFtZTpcIlwiLGlzUmVmZXJlbmNlOiExLHNsdWc6bnVsbH0pfX1jbGFzcyBsZSBleHRlbmRzIHFpe2NoZWNrUHJlZGVmaW5lZENvbnRleHQodCxpKXtjb25zdCBlPWdlW3RdO2lmKCFlKXJldHVybiBudWxsO2xldCBzPSExO3JldHVyblwic3RyaW5nXCI9PT1lP3M9XCJzdHJpbmdcIj09dHlwZW9mIGk6XCJudW1iZXJcIj09PWUmJihzPVwibnVtYmVyXCI9PXR5cGVvZiBpKSxzfHxLdCh0aGlzLmNvbmZpZyxCLGR0LHRoaXMudmlzaXRvci52aXNpdG9ySWQsdCxlKSxzfXVwZGF0ZUNvbnRleHRLZXlWYWx1ZSh0LGkpe2NvbnN0IGU9dHlwZW9mIGk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR8fFwiXCI9PT10KXJldHVybiB2b2lkIEt0KHRoaXMuY29uZmlnLEIsY3QsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0KTtpZihcInN0cmluZ1wiIT09ZSYmXCJudW1iZXJcIiE9PWUmJlwiYm9vbGVhblwiIT09ZSlyZXR1cm4gdm9pZCBLdCh0aGlzLmNvbmZpZyxCLGd0LHRoaXMudmlzaXRvci52aXNpdG9ySWQsdCk7aWYodD09PXJlfHx0PT09aGV8fHQ9PT1jZSlyZXR1cm47Y29uc3Qgcz10aGlzLmNoZWNrUHJlZGVmaW5lZENvbnRleHQodCxpKTsoXCJib29sZWFuXCIhPXR5cGVvZiBzfHxzKSYmKHRoaXMudmlzaXRvci5jb250ZXh0W3RdPWkpfWNoZWNrQW5kVXBkYXRlQ29udGV4dCh0LGksZSl7YWkodCxpKXx8KHRoaXMudmlzaXRvci5oYXNDb250ZXh0QmVlblVwZGF0ZWQ9ITAsdGhpcy52aXNpdG9yLmZsYWdzU3RhdHVzPXtzdGF0dXM6UHQuRkVUQ0hfUkVRVUlSRUQscmVhc29uOnh0LlVQREFURV9DT05URVhUfSxKdCh0aGlzLmNvbmZpZyxCLFwidmlzaXRvciBgezB9YCwgY29udGV4dCBoYXZlIGJlZW4gdXBkYXRlZDoga2V5IHsxfSwgdmFsdWUgezJ9LCBDb250ZXh0IHszfVwiLHRoaXMudmlzaXRvci52aXNpdG9ySWQsaSxlLHRoaXMudmlzaXRvci5jb250ZXh0KSl9dXBkYXRlQ29udGV4dCh0LGkpe2NvbnN0IGU9ey4uLnRoaXMudmlzaXRvci5jb250ZXh0fTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dGhpcy51cGRhdGVDb250ZXh0S2V5VmFsdWUodCxpKTtjb25zdCBzPXRoaXMudmlzaXRvci5jb250ZXh0O3JldHVybiB2b2lkIHRoaXMuY2hlY2tBbmRVcGRhdGVDb250ZXh0KGUscyxpKX1pZighdClyZXR1cm4gdm9pZCBRdCh0aGlzLnZpc2l0b3IuY29uZmlnLFwiQ29udGV4dCBtdXN0IG5vdCB0byBiZSBudWxsXCIsQik7Zm9yKGNvbnN0IGkgaW4gdCl7Y29uc3QgZT10W2ldO3RoaXMudXBkYXRlQ29udGV4dEtleVZhbHVlKGksZSl9Y29uc3Qgcz10aGlzLnZpc2l0b3IuY29udGV4dDt0aGlzLmNoZWNrQW5kVXBkYXRlQ29udGV4dChlLHMsdCl9Y2xlYXJDb250ZXh0KCl7Y29uc3QgdD17Li4udGhpcy52aXNpdG9yLmNvbnRleHR9O3RoaXMudmlzaXRvci5jb250ZXh0PXt9LHRoaXMudmlzaXRvci5sb2FkUHJlZGVmaW5lZENvbnRleHQoKTthaSh0LHRoaXMudmlzaXRvci5jb250ZXh0KXx8KHRoaXMudmlzaXRvci5oYXNDb250ZXh0QmVlblVwZGF0ZWQ9ITAsdGhpcy52aXNpdG9yLmZsYWdzU3RhdHVzPXtzdGF0dXM6UHQuRkVUQ0hfUkVRVUlSRUQscmVhc29uOnh0LlVQREFURV9DT05URVhUfSxKdCh0aGlzLmNvbmZpZyxcIkNMRUFSX0NPTlRFWFRcIixcInZpc2l0b3IgYHswfWAsIGNvbnRleHQgaGFzIGJlZW4gY2xlYXJlZCBjbGVhcmVkIGB7MX1gXCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0aGlzLnZpc2l0b3IuY29udGV4dCkpfWlzRGVEdXBsaWNhdGVkKHQsaSl7aWYoMD09PWkpcmV0dXJuITE7Y29uc3QgZT10aGlzLnZpc2l0b3IuZGVEdXBsaWNhdGlvbkNhY2hlW3RdO3JldHVybiEhKGUmJkRhdGUubm93KCktZTw9MWUzKmkpfHwodGhpcy52aXNpdG9yLmRlRHVwbGljYXRpb25DYWNoZVt0XT1EYXRlLm5vdygpLHRoaXMudmlzaXRvci5jbGVhckRlRHVwbGljYXRpb25DYWNoZShpKSwhMSl9YXN5bmMgc2VuZEFjdGl2YXRlKHQsaSl7Y29uc3QgZT17dmFyaWF0aW9uR3JvdXBJZDp0LnZhcmlhdGlvbkdyb3VwSWQsdmFyaWF0aW9uSWQ6dC52YXJpYXRpb25JZCx2aXNpdG9ySWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsZmxhZ0tleTp0LmtleSxmbGFnVmFsdWU6dC52YWx1ZSxmbGFnRGVmYXVsdFZhbHVlOmksdmlzaXRvckNvbnRleHQ6dGhpcy52aXNpdG9yLmNvbnRleHQsZmxhZ01ldGFkYXRhOntjYW1wYWlnbk5hbWU6dC5jYW1wYWlnbk5hbWUsY2FtcGFpZ25JZDp0LmNhbXBhaWduSWQsY2FtcGFpZ25UeXBlOnQuY2FtcGFpZ25UeXBlLHZhcmlhdGlvbkdyb3VwSWQ6dC52YXJpYXRpb25Hcm91cElkLHZhcmlhdGlvbkdyb3VwTmFtZTp0LnZhcmlhdGlvbkdyb3VwTmFtZSx2YXJpYXRpb25JZDp0LnZhcmlhdGlvbklkLHZhcmlhdGlvbk5hbWU6dC52YXJpYXRpb25OYW1lLHNsdWc6dC5zbHVnLGlzUmVmZXJlbmNlOnQuaXNSZWZlcmVuY2V9LHFhTW9kZTp0aGlzLmNvbmZpZy5pc1FBTW9kZUVuYWJsZWR9O2lmKHRoaXMuaXNEZUR1cGxpY2F0ZWQoSlNPTi5zdHJpbmdpZnkoZSksdGhpcy5jb25maWcuaGl0RGVkdXBsaWNhdGlvblRpbWUpKXtjb25zdCBpPXt2aXNpdG9ySWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsZmxhZzp0LGRlbGF5OjB9O3JldHVybiB2b2lkIFl0KHRoaXMuY29uZmlnLHF0KFwiQWN0aXZhdGUgezB9IGlzIGRlZHVwbGljYXRlZFwiLEpTT04uc3RyaW5naWZ5KGkpKSxLKX1hd2FpdCB0aGlzLnRyYWNraW5nTWFuYWdlci5hY3RpdmF0ZUZsYWcoZSk7Y29uc3QgYT1uZXcgX2koe2xhYmVsOmRpLlZJU0lUT1JfU0VORF9BQ1RJVkFURSxsb2dMZXZlbDpzLklORk8sdHJhZmZpYzp0aGlzLnZpc2l0b3IudHJhZmZpYyx2aXNpdG9ySWQ6ZS52aXNpdG9ySWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCx2aXNpdG9yU2Vzc2lvbklkOnRoaXMudmlzaXRvci5pbnN0YW5jZUlkLGFub255bW91c0lkOmUuYW5vbnltb3VzSWQsY29uZmlnOnRoaXMuY29uZmlnLGhpdENvbnRlbnQ6ZX0pO3RoaXMuc2VuZFRyb3VibGVzaG9vdGluZ0hpdChhKX1hc3luYyBzZW5kSGl0KHQpe3RoaXMuaGFzVHJhY2tpbmdNYW5hZ2VyKEspJiZhd2FpdCB0aGlzLnByZXBhcmVBbmRTZW5kSGl0KHQpfWFzeW5jIHNlbmRIaXRzKHQpe2lmKHRoaXMuaGFzVHJhY2tpbmdNYW5hZ2VyKEspKWZvcihjb25zdCBpIG9mIHQpYXdhaXQgdGhpcy5wcmVwYXJlQW5kU2VuZEhpdChpKX1hc3luYyBnZXRIaXQodCl7bGV0IGk9bnVsbDtzd2l0Y2godC50eXBlLnRvVXBwZXJDYXNlKCkpe2Nhc2UgVnQuRVZFTlQ6aT1uZXcgeWkodCk7YnJlYWs7Y2FzZSBWdC5JVEVNOmk9bmV3IE9pKHQpO2JyZWFrO2Nhc2UgVnQuUEFHRV9WSUVXOmk9bmV3IHdpKHQpO2JyZWFrO2Nhc2UgVnQuU0NSRUVOX1ZJRVc6aT1uZXcgRWkodCk7YnJlYWs7Y2FzZSBWdC5UUkFOU0FDVElPTjppPW5ldyBNaSh0KX1yZXR1cm4gaX1hc3luYyBwcmVwYXJlQW5kU2VuZEhpdCh0LGk9Syl7bGV0IGU7aWYoIXQ/LnR5cGUpcmV0dXJuIHZvaWQgUXQodGhpcy5jb25maWcsXCJIaXQgbXVzdCBub3QgYmUgbnVsbFwiLGkpO2lmKHQgaW5zdGFuY2VvZiBJaSllPXQ7ZWxzZXtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0SGl0KHQpO2lmKCFzKXJldHVybiB2b2lkIFF0KHRoaXMuY29uZmlnLFwicHJvcGVydHkgdHlwZSBpcyByZXF1aXJlZCBhbmQgbXVzdCBcIixpKTtlPXN9ZS52aXNpdG9ySWQ9dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxlLmRzPWV0LGUuY29uZmlnPXRoaXMuY29uZmlnLGUuYW5vbnltb3VzSWQ9dGhpcy52aXNpdG9yLmFub255bW91c0lkLGUucWFNb2RlPXRoaXMuY29uZmlnLmlzUUFNb2RlRW5hYmxlZDtjb25zdHtjcmVhdGVkQXQ6YSwuLi5vfT1lLnRvT2JqZWN0KCk7aWYoIXRoaXMuaXNEZUR1cGxpY2F0ZWQoSlNPTi5zdHJpbmdpZnkobyksdGhpcy5jb25maWcuaGl0RGVkdXBsaWNhdGlvblRpbWUpKWlmKGUuaXNSZWFkeSgpKXRyeXtpZihhd2FpdCB0aGlzLnRyYWNraW5nTWFuYWdlci5hZGRIaXQoZSksXCJTRUdNRU5UXCI9PT1lLnR5cGUpcmV0dXJuO2NvbnN0IHQ9bmV3IF9pKHtsYWJlbDpkaS5WSVNJVE9SX1NFTkRfSElULGxvZ0xldmVsOnMuSU5GTyx0cmFmZmljOnRoaXMudmlzaXRvci50cmFmZmljLHZpc2l0b3JJZDplLnZpc2l0b3JJZCxmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy52aXNpdG9yLnNka0luaXRpYWxEYXRhPy5pbnN0YW5jZUlkLHZpc2l0b3JTZXNzaW9uSWQ6dGhpcy52aXNpdG9yLmluc3RhbmNlSWQsYW5vbnltb3VzSWQ6ZS5hbm9ueW1vdXNJZCxjb25maWc6dGhpcy5jb25maWcsaGl0Q29udGVudDplLnRvQXBpS2V5cygpfSk7dGhpcy5zZW5kVHJvdWJsZXNob290aW5nSGl0KHQpfWNhdGNoKHQpe1F0KHRoaXMuY29uZmlnLHQubWVzc2FnZXx8dCxpKX1lbHNlIFF0KHRoaXMuY29uZmlnLGUuZ2V0RXJyb3JNZXNzYWdlKCksaSl9YXV0aGVudGljYXRlKHQpe2lmKCF0KXJldHVybiB2b2lkIEt0KHRoaXMuY29uZmlnLG10LEN0LHRoaXMudmlzaXRvci52aXNpdG9ySWQpO2lmKHRoaXMudmlzaXRvci5hbm9ueW1vdXNJZClyZXR1cm4gdm9pZCAkdCh0aGlzLmNvbmZpZyxtdCxcIlRoZSB2aXNpdG9yIGlzIGFscmVhZHkgYXV0aGVudGljYXRlZCB3aXRoIHZpc2l0b3IgSUQgezB9XCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQpO3RoaXMudmlzaXRvci5hbm9ueW1vdXNJZD10aGlzLnZpc2l0b3IudmlzaXRvcklkLHRoaXMudmlzaXRvci52aXNpdG9ySWQ9dDtjb25zdCBpPW5ldyBfaSh7bGFiZWw6ZGkuVklTSVRPUl9BVVRIRU5USUNBVEUsbG9nTGV2ZWw6cy5JTkZPLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLnZpc2l0b3Iuc2RrSW5pdGlhbERhdGE/Lmluc3RhbmNlSWQsdmlzaXRvcklkOnRoaXMudmlzaXRvci52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dGhpcy52aXNpdG9yLmFub255bW91c0lkLHZpc2l0b3JDb250ZXh0OnRoaXMudmlzaXRvci5jb250ZXh0LHRyYWZmaWM6dGhpcy52aXNpdG9yLnRyYWZmaWMsY29uZmlnOnRoaXMuY29uZmlnfSk7dGhpcy5zZW5kVHJvdWJsZXNob290aW5nSGl0KGkpLHRoaXMudmlzaXRvci5mbGFnc1N0YXR1cz17c3RhdHVzOlB0LkZFVENIX1JFUVVJUkVELHJlYXNvbjp4dC5BVVRIRU5USUNBVEV9LEp0KHRoaXMuY29uZmlnLG10LFwiVGhlIHZpc2l0b3IgaXMgYXV0aGVudGljYXRlZCB3aXRoIG5ldyB2aXNpdG9yIElEIHswfSBhbm9ueW1vdXMgSUQgezF9XCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQpfXVuYXV0aGVudGljYXRlKCl7aWYoIXRoaXMudmlzaXRvci5hbm9ueW1vdXNJZClyZXR1cm4gdm9pZCBLdCh0aGlzLmNvbmZpZyxUdCxcIlZpc2l0b3IgezB9IGlzIG5vdCBhdXRoZW50aWNhdGVkIHlldFwiLHRoaXMudmlzaXRvci52aXNpdG9ySWQpO3RoaXMudmlzaXRvci52aXNpdG9ySWQ9dGhpcy52aXNpdG9yLmFub255bW91c0lkLHRoaXMudmlzaXRvci5hbm9ueW1vdXNJZD1udWxsO2NvbnN0IHQ9bmV3IF9pKHtsYWJlbDpkaS5WSVNJVE9SX1VOQVVUSEVOVElDQVRFLGxvZ0xldmVsOnMuSU5GTyx2aXNpdG9ySWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCx2aXNpdG9yQ29udGV4dDp0aGlzLnZpc2l0b3IuY29udGV4dCx0cmFmZmljOnRoaXMudmlzaXRvci50cmFmZmljLGNvbmZpZzp0aGlzLmNvbmZpZ30pO3RoaXMuc2VuZFRyb3VibGVzaG9vdGluZ0hpdCh0KSx0aGlzLnZpc2l0b3IuZmxhZ3NTdGF0dXM9e3N0YXR1czpQdC5GRVRDSF9SRVFVSVJFRCxyZWFzb246eHQuVU5BVVRIRU5USUNBVEV9LEp0KHRoaXMuY29uZmlnLFR0LFwiVGhlIHZpc2l0b3IgaXMgdW5hdXRoZW50aWNhdGVkIHdpdGggdmlzaXRvciBJRCB7MH1cIix0aGlzLnZpc2l0b3IudmlzaXRvcklkKX1oYW5kbGVGZXRjaEZsYWdzRXJyb3IodCxpLGUpe3RoaXMudmlzaXRvci5lbWl0KE0sdCk7Y29uc3QgYT1paSh0IGluc3RhbmNlb2YgRXJyb3I/dC5tZXNzYWdlOnQse3Zpc2l0b3JJZDp0aGlzLnZpc2l0b3IudmlzaXRvcklkLGFub255bW91c0lkOnRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCxjb250ZXh0OnRoaXMudmlzaXRvci5jb250ZXh0LHN0YXR1c1JlYXNvbjp0aGlzLnZpc2l0b3IuZmxhZ3NTdGF0dXMucmVhc29uLGR1cmF0aW9uOkRhdGUubm93KCktaX0pO1F0KHRoaXMuY29uZmlnLGEsbHQpLHRoaXMudmlzaXRvci5mbGFnc1N0YXR1cz17c3RhdHVzOlB0LkZFVENIX1JFUVVJUkVELHJlYXNvbjp4dC5GTEFHU19GRVRDSElOR19FUlJPUn07Y29uc3Qgbz1uZXcgX2koe2xhYmVsOmRpLlZJU0lUT1JfRkVUQ0hfQ0FNUEFJR05TX0VSUk9SLGxvZ0xldmVsOnMuSU5GTyx2aXNpdG9ySWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsdmlzaXRvclNlc3Npb25JZDp0aGlzLnZpc2l0b3IuaW5zdGFuY2VJZCxmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy52aXNpdG9yLnNka0luaXRpYWxEYXRhPy5pbnN0YW5jZUlkLHRyYWZmaWM6dGhpcy52aXNpdG9yLnRyYWZmaWMsY29uZmlnOnRoaXMuY29uZmlnLHZpc2l0b3JDb250ZXh0OnRoaXMudmlzaXRvci5jb250ZXh0LHNka1N0YXR1czp0aGlzLnZpc2l0b3IuZ2V0U2RrU3RhdHVzKCksdmlzaXRvckNhbXBhaWduczplLHZpc2l0b3JDb25zZW50OnRoaXMudmlzaXRvci5oYXNDb25zZW50ZWQsdmlzaXRvcklzQXV0aGVudGljYXRlZDohIXRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCx2aXNpdG9yRmxhZ3M6dGhpcy52aXNpdG9yLmZsYWdzRGF0YSx2aXNpdG9ySW5pdGlhbENhbXBhaWduczp0aGlzLnZpc2l0b3Iuc2RrSW5pdGlhbERhdGE/LmluaXRpYWxDYW1wYWlnbnMsdmlzaXRvckluaXRpYWxGbGFnc0RhdGE6dGhpcy52aXNpdG9yLnNka0luaXRpYWxEYXRhPy5pbml0aWFsRmxhZ3NEYXRhLGxhc3RCdWNrZXRpbmdUaW1lc3RhbXA6dGhpcy5jb25maWdNYW5hZ2VyLmRlY2lzaW9uTWFuYWdlci5sYXN0QnVja2V0aW5nVGltZXN0YW1wLGxhc3RJbml0aWFsaXphdGlvblRpbWVzdGFtcDp0aGlzLnZpc2l0b3Iuc2RrSW5pdGlhbERhdGE/Lmxhc3RJbml0aWFsaXphdGlvblRpbWVzdGFtcCxodHRwUmVzcG9uc2VUaW1lOkRhdGUubm93KCktaSxzZGtDb25maWdNb2RlOnRoaXMuZ2V0U2RrQ29uZmlnRGVjaXNpb25Nb2RlKCksc2RrQ29uZmlnVGltZW91dDp0aGlzLmNvbmZpZy50aW1lb3V0LHNka0NvbmZpZ1BvbGxpbmdJbnRlcnZhbDp0aGlzLmNvbmZpZy5wb2xsaW5nSW50ZXJ2YWwsc2RrQ29uZmlnVHJhY2tpbmdNYW5hZ2VyU3RyYXRlZ3k6dGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5jYWNoZVN0cmF0ZWd5LHNka0NvbmZpZ1RyYWNraW5nTWFuYWdlckJhdGNoSW50ZXJ2YWxzOnRoaXMuY29uZmlnLnRyYWNraW5nTWFuYWdlckNvbmZpZz8uYmF0Y2hJbnRlcnZhbHMsc2RrQ29uZmlnVHJhY2tpbmdNYW5hZ2VyUG9vbE1heFNpemU6dGhpcy5jb25maWcudHJhY2tpbmdNYW5hZ2VyQ29uZmlnPy5wb29sTWF4U2l6ZSxzZGtDb25maWdGZXRjaE5vdzp0aGlzLmNvbmZpZy5mZXRjaE5vdyxzZGtDb25maWdSZXVzZVZpc2l0b3JJZHM6dGhpcy5jb25maWcucmV1c2VWaXNpdG9ySWRzLHNka0NvbmZpZ0luaXRpYWxCdWNrZXRpbmc6dGhpcy5jb25maWcuaW5pdGlhbEJ1Y2tldGluZyxzZGtDb25maWdEZWNpc2lvbkFwaVVybDp0aGlzLmNvbmZpZy5kZWNpc2lvbkFwaVVybCxzZGtDb25maWdIaXREZWR1cGxpY2F0aW9uVGltZTp0aGlzLmNvbmZpZy5oaXREZWR1cGxpY2F0aW9uVGltZX0pO3RoaXMudHJhY2tpbmdNYW5hZ2VyLmFkZFRyb3VibGVzaG9vdGluZ0hpdChvKX1hc3luYyBnZXRDYW1wYWlnbnModCl7bGV0IGk9bnVsbDtjb25zdCBlPWx0O3RyeXtjb25zdCBzPURhdGUubm93KCktdGhpcy52aXNpdG9yLmxhc3RGZXRjaEZsYWdzVGltZXN0YW1wLGE9dGhpcy52aXNpdG9yLmZsYWdzU3RhdHVzLnN0YXR1cztpZihhPT09UHQuRkVUQ0hJTkcpcmV0dXJuIGF3YWl0IHRoaXMudmlzaXRvci5nZXRDYW1wYWlnbnNQcm9taXNlLHtjYW1wYWlnbnM6aSxpc0ZldGNoaW5nOiEwfTtjb25zdCBvPTFlMyp0aGlzLmNvbmZpZy5mZXRjaEZsYWdzQnVmZmVyaW5nVGltZTtyZXR1cm4gYT09PVB0LkZFVENIRUQmJnM8bz8oV3QodGhpcy5jb25maWcsZSxcIlZpc2l0b3IgezB9LCBmZXRjaEZsYWdzIGhhcyBiZWVuIGlnbm9yZWQgYW5kIHdpbGwgY29udGludWUgdG8gYmUgaWdub3JlZCBmb3IgdGhlIG5leHQgezF9bXMsIHRoaXMgZGVsYXkgY2FuIGJlIGNoYW5nZWQgd2l0aCBgZmV0Y2hGbGFnc0J1ZmZlcmluZ1RpbWVgIG9wdGlvbiBpbiB0aGUgU0RLIGNvbmZpZ1wiLHRoaXMudmlzaXRvci52aXNpdG9ySWQsby1zKSx7Y2FtcGFpZ25zOmksaXNCdWZmZXJlZDohMH0pOihKdCh0aGlzLmNvbmZpZyxlLFwidmlzaXRvciBgezB9YCBmZXRjaEZsYWdzIHByb2Nlc3MgaXMgc3RhcnRlZFwiLHRoaXMudmlzaXRvci52aXNpdG9ySWQpLHRoaXMudmlzaXRvci5mbGFnc1N0YXR1cz17c3RhdHVzOlB0LkZFVENISU5HLHJlYXNvbjp4dC5OT05FfSxhd2FpdCB0aGlzLmxvb2t1cFZpc2l0b3IoKSxhd2FpdCB0aGlzLnZpc2l0b3IuZW1vdGlvbkFpLmZldGNoRUFJU2NvcmUoKSx0aGlzLnZpc2l0b3IuZ2V0Q2FtcGFpZ25zUHJvbWlzZT10aGlzLmRlY2lzaW9uTWFuYWdlci5nZXRDYW1wYWlnbnNBc3luYyh0aGlzLnZpc2l0b3IpLGk9YXdhaXQgdGhpcy52aXNpdG9yLmdldENhbXBhaWduc1Byb21pc2UsdGhpcy52aXNpdG9yLmxhc3RGZXRjaEZsYWdzVGltZXN0YW1wPURhdGUubm93KCksdGhpcy5kZWNpc2lvbk1hbmFnZXIuaXNQYW5pYygpJiYodGhpcy52aXNpdG9yLmZsYWdzU3RhdHVzPXtzdGF0dXM6UHQuUEFOSUMscmVhc29uOnh0Lk5PTkV9KSx0aGlzLmNvbmZpZ01hbmFnZXIudHJhY2tpbmdNYW5hZ2VyLnRyb3VibGVzaG9vdGluZ0RhdGE9dGhpcy5kZWNpc2lvbk1hbmFnZXIudHJvdWJsZXNob290aW5nLEp0KHRoaXMuY29uZmlnLGUsXCJWaXNpdG9yIHswfSwgYW5vbnltb3VzSWQgezF9IHdpdGggY29udGV4dCB7Mn0gaGFzIGp1c3QgZmV0Y2hlZCBjYW1wYWlnbnMgezN9IGluIHs0fSBtc1wiLHRoaXMudmlzaXRvci52aXNpdG9ySWQsdGhpcy52aXNpdG9yLmFub255bW91c0lkLHRoaXMudmlzaXRvci5jb250ZXh0LGksRGF0ZS5ub3coKS10KSx7Y2FtcGFpZ25zOml9KX1jYXRjaCh0KXtyZXR1cm4gUXQodGhpcy5jb25maWcsdC5tZXNzYWdlLGx0KSx0aGlzLnZpc2l0b3IuZmxhZ3NTdGF0dXM9e3N0YXR1czpQdC5GRVRDSF9SRVFVSVJFRCxyZWFzb246eHQuRkxBR1NfRkVUQ0hJTkdfRVJST1J9LHtlcnJvcjp0LGNhbXBhaWduczppfX19ZmV0Y2hDYW1wYWlnbnNGcm9tQ2FjaGUodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodD8udmlzaXRvckNhY2hlPy5kYXRhLmNhbXBhaWducyk/dC52aXNpdG9yQ2FjaGUuZGF0YS5jYW1wYWlnbnMubWFwKCh0PT4oe2lkOnQuY2FtcGFpZ25JZCx2YXJpYXRpb25Hcm91cElkOnQudmFyaWF0aW9uR3JvdXBJZCxzbHVnOnQuc2x1Zyx2YXJpYXRpb246e2lkOnQudmFyaWF0aW9uSWQscmVmZXJlbmNlOiEhdC5pc1JlZmVyZW5jZSxtb2RpZmljYXRpb25zOnt0eXBlOnQudHlwZSx2YWx1ZTp0LmZsYWdzfX19KSkpOm51bGx9aGFuZGxlTm9DYW1wYWlnbnModCl7Y29uc3QgaT10aGlzLmZldGNoQ2FtcGFpZ25zRnJvbUNhY2hlKHRoaXMudmlzaXRvcik7cmV0dXJuIGkmJih0aGlzLnZpc2l0b3IuZmxhZ3NTdGF0dXM9e3N0YXR1czpQdC5GRVRDSF9SRVFVSVJFRCxyZWFzb246eHQuRkxBR1NfRkVUQ0hFRF9GUk9NX0NBQ0hFfSxKdCh0aGlzLmNvbmZpZyxsdCxcIlZpc2l0b3IgezB9LCBhbm9ueW1vdXNJZCB7MX0gd2l0aCBjb250ZXh0IHsyfSBoYXMganVzdCBmZXRjaGVkIGNhbXBhaWducyBmcm9tIGNhY2hlIHszfSBpbiB7NH0gbXNcIix0aGlzLnZpc2l0b3IudmlzaXRvcklkLHRoaXMudmlzaXRvci5hbm9ueW1vdXNJZCx0aGlzLnZpc2l0b3IuY29udGV4dCxpLERhdGUubm93KCktdCkpLGl9c2VuZFZpc2l0b3JBbGxvY2F0ZWRWYXJpYXRpb25zKCl7e2NvbnN0IHQ9e307aWYodGhpcy52aXNpdG9yLmZsYWdzRGF0YS5mb3JFYWNoKChpPT57dFtpLmNhbXBhaWduSWRdPXt2YXJpYXRpb25JZDppLnZhcmlhdGlvbklkLHZhcmlhdGlvbkdyb3VwSWQ6aS52YXJpYXRpb25Hcm91cElkLGNhbXBhaWduSWQ6aS5jYW1wYWlnbklkfX0pKSx0aGlzLnZpc2l0b3IudmlzaXRvclZhcmlhdGlvblN0YXRlLnZpc2l0b3JWYXJpYXRpb25zPXQsIXRoaXMuY29uZmlnLmlzUUFNb2RlRW5hYmxlZClyZXR1cm47aW1wb3J0KFwiLi9EYXBTakg5MC5qc1wiKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pfSkpLnRoZW4oKHQ9Pnt0LnNlbmRWaXNpdG9yQWxsb2NhdGVkVmFyaWF0aW9ucyh0aGlzLnZpc2l0b3IudmlzaXRvclZhcmlhdGlvblN0YXRlKX0pKX19ZXh0cmFjdEZsYWdzKHQpe2NvbnN0IGk9bmV3IE1hcDtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3QgZT10LnZhcmlhdGlvbi5tb2RpZmljYXRpb25zLnZhbHVlO2Zvcihjb25zdCBzIGluIGUpe2NvbnN0IGE9ZVtzXTtpLnNldChzLHtrZXk6cyxjYW1wYWlnbklkOnQuaWQsY2FtcGFpZ25OYW1lOnQubmFtZXx8XCJcIix2YXJpYXRpb25Hcm91cElkOnQudmFyaWF0aW9uR3JvdXBJZCx2YXJpYXRpb25Hcm91cE5hbWU6dC52YXJpYXRpb25Hcm91cE5hbWV8fFwiXCIsdmFyaWF0aW9uSWQ6dC52YXJpYXRpb24uaWQsdmFyaWF0aW9uTmFtZTp0LnZhcmlhdGlvbi5uYW1lfHxcIlwiLGlzUmVmZXJlbmNlOiEhdC52YXJpYXRpb24ucmVmZXJlbmNlLGNhbXBhaWduVHlwZTp0LnR5cGUsc2x1Zzp0LnNsdWcsdmFsdWU6YX0pfX0pKSxpfWFzeW5jIGZldGNoRmxhZ3MoKXtjb25zdCB0PURhdGUubm93KCk7bGV0IGk9bnVsbDtjb25zdHtjYW1wYWlnbnM6ZSxlcnJvcjpzLGlzRmV0Y2hpbmc6YSxpc0J1ZmZlcmVkOm99PWF3YWl0IHRoaXMuZ2V0Q2FtcGFpZ25zKHQpO2lmKCFhJiYhbyl7aT1lO3RyeXtpfHwoaT10aGlzLmhhbmRsZU5vQ2FtcGFpZ25zKHQpKSxpPWl8fFtdLHRoaXMudmlzaXRvci5jYW1wYWlnbnM9aSx0aGlzLnZpc2l0b3IuZmxhZ3NEYXRhPXRoaXMuZXh0cmFjdEZsYWdzKHRoaXMudmlzaXRvci5jYW1wYWlnbnMpLHRoaXMuY2FjaGVWaXNpdG9yKCksdGhpcy52aXNpdG9yLmVtaXQoTSxzKSx0aGlzLnZpc2l0b3IuZmxhZ3NTdGF0dXMuc3RhdHVzPT09UHQuRkVUQ0hJTkcmJih0aGlzLnZpc2l0b3IuZmxhZ3NTdGF0dXM9e3N0YXR1czpQdC5GRVRDSEVELHJlYXNvbjp4dC5OT05FfSksdGhpcy5zZW5kVmlzaXRvckFsbG9jYXRlZFZhcmlhdGlvbnMoKSxKdCh0aGlzLmNvbmZpZyxsdCxcIlZpc2l0b3IgezB9LCBhbm9ueW1vdXNJZCB7MX0gd2l0aCBjb250ZXh0IHsyfSBoYXMganVzdCBmZXRjaGVkIGZsYWdzIHszfSBmcm9tIENhbXBhaWduc1wiLHRoaXMudmlzaXRvci52aXNpdG9ySWQsdGhpcy52aXNpdG9yLmFub255bW91c0lkLHRoaXMudmlzaXRvci5jb250ZXh0LHRoaXMudmlzaXRvci5mbGFnc0RhdGEpLHRoaXMuZGVjaXNpb25NYW5hZ2VyLnRyb3VibGVzaG9vdGluZyYmKHRoaXMuc2VuZEZldGNoRmxhZ3NUcm91Ymxlc2hvb3Rpbmcoe2NhbXBhaWduczppLG5vdzp0LGlzRnJvbUNhY2hlOnRoaXMudmlzaXRvci5mbGFnc1N0YXR1cy5yZWFzb249PT14dC5GTEFHU19GRVRDSEVEX0ZST01fQ0FDSEV9KSx0aGlzLnNlbmRDb25zZW50SGl0VHJvdWJsZXNob290aW5nKCksdGhpcy5zZW5kU2VnbWVudEhpdFRyb3VibGVzaG9vdGluZygpKSx0aGlzLnNlbmRTZGtDb25maWdBbmFseXRpY0hpdCgpfWNhdGNoKGUpe3RoaXMuaGFuZGxlRmV0Y2hGbGFnc0Vycm9yKGUsdCxpKX19fWFzeW5jIHZpc2l0b3JFeHBvc2VkKHQpe2NvbnN0e2tleTppLGZsYWc6ZSxkZWZhdWx0VmFsdWU6cyxoYXNHZXRWYWx1ZUJlZW5DYWxsZWQ6YX09dDtyZXR1cm4gZT9hP251bGw9PXN8fG51bGw9PT1lLnZhbHVlfHxYdChlLnZhbHVlLHMpP3ZvaWQgYXdhaXQgdGhpcy5zZW5kQWN0aXZhdGUoZSxzKTooJHQodGhpcy52aXNpdG9yLmNvbmZpZyxJdCxcIkZvciB0aGUgdmlzaXRvciBgezB9LCB0aGUgZmxhZyB3aXRoIHRoZSBrZXkgYHswfWAgaGFzIGEgZGlmZmVyZW50IHR5cGUgY29tcGFyZWQgdG8gdGhlIGRlZmF1bHQgdmFsdWUuIFRoZXJlZm9yZSwgdGhlIGV4cG9zdXJlIGlzIGludGVycnVwdGVkXCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCxpKSx2b2lkIHRoaXMuc2VuZEZsYWdUcm91Ymxlc2hvb3RpbmcoZGkuVklTSVRPUl9FWFBPU0VEX1RZUEVfV0FSTklORyxpLHMpKTooJHQodGhpcy52aXNpdG9yLmNvbmZpZyxJdCxcIkZvciB0aGUgdmlzaXRvciBgezB9YCxhc3N1bWluZyB0aGUgZ2V0VmFsdWUoKSBtZXRob2QgaGFzIG5vdCBwcmV2aW91c2x5IGJlZW4gaW52b2tlZCBmb3IgdGhlIGZsYWcgYHswfWAuIFRoZXJlZm9yZSwgdGhlIGV4cG9zdXJlIGlzIGNhbmNlbGVkXCIsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCxpKSx2b2lkIHRoaXMuc2VuZEZsYWdUcm91Ymxlc2hvb3RpbmcoZGkuRkxBR19WQUxVRV9OT1RfQ0FMTEVELGkscywhMCkpOigkdCh0aGlzLnZpc2l0b3IuY29uZmlnLEl0LCdGb3IgdGhlIHZpc2l0b3IgXCJ7MH1cIiwgbm8gZmxhZ3Mgd2VyZSBmb3VuZCB3aXRoIHRoZSBrZXkgXCJ7MX1cIi4gQXMgYSByZXN1bHQsIHVzZXIgZXhwb3N1cmUgd2lsbCBub3QgYmUgc2VudC4nLHRoaXMudmlzaXRvci52aXNpdG9ySWQsaSksdm9pZCB0aGlzLnNlbmRGbGFnVHJvdWJsZXNob290aW5nKGRpLlZJU0lUT1JfRVhQT1NFRF9GTEFHX05PVF9GT1VORCxpLHMpKX1zZW5kRmxhZ1Ryb3VibGVzaG9vdGluZyh0LGksZSxhKXtjb25zdCBvPW5ldyBfaSh7bGFiZWw6dCxsb2dMZXZlbDpzLldBUk5JTkcsdmlzaXRvcklkOnRoaXMudmlzaXRvci52aXNpdG9ySWQsYW5vbnltb3VzSWQ6dGhpcy52aXNpdG9yLmFub255bW91c0lkLHZpc2l0b3JTZXNzaW9uSWQ6dGhpcy52aXNpdG9yLmluc3RhbmNlSWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMudmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCx0cmFmZmljOnRoaXMudmlzaXRvci50cmFmZmljLGNvbmZpZzp0aGlzLmNvbmZpZyx2aXNpdG9yQ29udGV4dDp0aGlzLnZpc2l0b3IuY29udGV4dCxmbGFnS2V5OmksZmxhZ0RlZmF1bHQ6ZSx2aXNpdG9yRXhwb3NlZDphfSk7dGhpcy5zZW5kVHJvdWJsZXNob290aW5nSGl0KG8pfWdldEZsYWdWYWx1ZSh0KXtjb25zdHtrZXk6aSxkZWZhdWx0VmFsdWU6ZSxmbGFnOnMsdmlzaXRvckV4cG9zZWQ6YX09dDtyZXR1cm4gcz8oYSYmdGhpcy5zZW5kQWN0aXZhdGUocyxlKSxudWxsPT09cy52YWx1ZT9lOm51bGw9PWV8fFh0KHMudmFsdWUsZSk/KEp0KHRoaXMuY29uZmlnLHV0LFwiVmlzaXRvciB7MH0sIEZsYWcgZm9yIGtleSB7MX0gcmV0dXJucyB2YWx1ZSB7Mn1cIix0aGlzLnZpc2l0b3IudmlzaXRvcklkLGkscy52YWx1ZSkscy52YWx1ZSk6KCR0KHRoaXMuY29uZmlnLHV0LCdGb3IgdGhlIHZpc2l0b3IgXCJ7MH1cIiwgdGhlIGZsYWcgd2l0aCBrZXkgXCJ7MX1cIiBoYXMgYSBkaWZmZXJlbnQgdHlwZSBjb21wYXJlZCB0byB0aGUgZGVmYXVsdCB2YWx1ZS4gVGhlcmVmb3JlLCB0aGUgZGVmYXVsdCB2YWx1ZSBcInsyfVwiIGhhcyBiZWVuIHJldHVybmVkLicsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCxpLGUpLHRoaXMuc2VuZEZsYWdUcm91Ymxlc2hvb3RpbmcoZGkuR0VUX0ZMQUdfVkFMVUVfVFlQRV9XQVJOSU5HLGksZSxhKSxlKSk6KCR0KHRoaXMuY29uZmlnLHV0LCdGb3IgdGhlIHZpc2l0b3IgXCJ7MH1cIiwgbm8gZmxhZ3Mgd2VyZSBmb3VuZCB3aXRoIHRoZSBrZXkgXCJ7MX1cIi4gVGhlcmVmb3JlLCB0aGUgZGVmYXVsdCB2YWx1ZSBcInsyfVwiIGhhcyBiZWVuIHJldHVybmVkLicsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCxpLGUpLHRoaXMuc2VuZEZsYWdUcm91Ymxlc2hvb3RpbmcoZGkuR0VUX0ZMQUdfVkFMVUVfRkxBR19OT1RfRk9VTkQsaSxlLGEpLGUpfVNlbmRGbGFnTWV0YWRhdGFUcm91Ymxlc2hvb3RpbmcodCl7JHQodGhpcy5jb25maWcscHQsX3QsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0KTtjb25zdCBpPW5ldyBfaSh7bGFiZWw6ZGkuR0VUX0ZMQUdfTUVUQURBVEFfVFlQRV9XQVJOSU5HLGxvZ0xldmVsOnMuV0FSTklORyx2aXNpdG9ySWQ6dGhpcy52aXNpdG9yLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLnZpc2l0b3IuYW5vbnltb3VzSWQsdmlzaXRvclNlc3Npb25JZDp0aGlzLnZpc2l0b3IuaW5zdGFuY2VJZCxmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy52aXNpdG9yLnNka0luaXRpYWxEYXRhPy5pbnN0YW5jZUlkLHRyYWZmaWM6dGhpcy52aXNpdG9yLnRyYWZmaWMsY29uZmlnOnRoaXMuY29uZmlnLHZpc2l0b3JDb250ZXh0OnRoaXMudmlzaXRvci5jb250ZXh0LGZsYWdLZXk6dH0pO3RoaXMuc2VuZFRyb3VibGVzaG9vdGluZ0hpdChpKX1nZXRGbGFnTWV0YWRhdGEodCl7Y29uc3R7a2V5OmksZmxhZzplfT10O2lmKCFlKXJldHVybiAkdCh0aGlzLmNvbmZpZyxwdCxfdCx0aGlzLnZpc2l0b3IudmlzaXRvcklkLGkpLHRoaXMuU2VuZEZsYWdNZXRhZGF0YVRyb3VibGVzaG9vdGluZyhpKSxkZS5FbXB0eSgpO3JldHVybiBuZXcgZGUoe2NhbXBhaWduSWQ6ZS5jYW1wYWlnbklkLGNhbXBhaWduTmFtZTplLmNhbXBhaWduTmFtZSx2YXJpYXRpb25Hcm91cElkOmUudmFyaWF0aW9uR3JvdXBJZCx2YXJpYXRpb25Hcm91cE5hbWU6ZS52YXJpYXRpb25Hcm91cE5hbWUsdmFyaWF0aW9uSWQ6ZS52YXJpYXRpb25JZCx2YXJpYXRpb25OYW1lOmUudmFyaWF0aW9uTmFtZSxpc1JlZmVyZW5jZTohIWUuaXNSZWZlcmVuY2UsY2FtcGFpZ25UeXBlOmUuY2FtcGFpZ25UeXBlLHNsdWc6ZS5zbHVnfSl9fWNsYXNzIHVlIGV4dGVuZHMgbGV7YXN5bmMgbG9va3VwSGl0cygpe31hc3luYyBsb29rdXBWaXNpdG9yKCl7fWFzeW5jIGNhY2hlVmlzaXRvcigpe31hc3luYyBjb2xsZWN0RUFJRXZlbnRzQXN5bmMoKXt0aGlzLmxvZyhcImNvbGxlY3RFQUlEYXRhXCIpfW9uRUFJQ29sbGVjdFN0YXR1c0NoYW5nZSgpe31yZXBvcnRFYWlQYWdlVmlldygpe31yZXBvcnRFYWlWaXNpdG9yRXZlbnQoKXt9c2VuZFZpc2l0b3JBbGxvY2F0ZWRWYXJpYXRpb25zKCl7fWFzeW5jIHNlbmRIaXQodCl7dGhpcy5sb2coXCJzZW5kSGl0XCIpfWFzeW5jIHNlbmRIaXRzKHQpe3RoaXMubG9nKFwic2VuZEhpdHNcIil9YXN5bmMgZmV0Y2hGbGFncygpe3RoaXMubG9nKFwiZmV0Y2hGbGFnc1wiKX1nZXRGbGFnVmFsdWUodCl7cmV0dXJuIHRoaXMubG9nKFwiRmxhZy52YWx1ZVwiKSx0LmRlZmF1bHRWYWx1ZX1hc3luYyB2aXNpdG9yRXhwb3NlZCgpe3RoaXMubG9nKEl0KX1nZXRGbGFnTWV0YWRhdGEodCl7Y29uc3QgaT1kZS5FbXB0eSgpO3JldHVybiBLdCh0aGlzLmNvbmZpZyxwdCx2dCx0aGlzLnZpc2l0b3IudmlzaXRvcklkLHQua2V5LGkpLGl9YXN5bmMgc2VuZEFjdGl2YXRlKHQsaSl7fWFzeW5jIHNlbmRUcm91Ymxlc2hvb3RpbmdIaXQoKXt9YXN5bmMgc2VuZFNka0NvbmZpZ0FuYWx5dGljSGl0KCl7fWFzeW5jIGFkZEluVHJhY2tpbmdNYW5hZ2VyKCl7fWxvZyh0KXtLdCh0aGlzLmNvbmZpZyx0LHgsdGhpcy52aXNpdG9yLnZpc2l0b3JJZCx0LEh0W0h0LlNES19OT1RfSU5JVElBTElaRURdKX19Y2xhc3MgZmUgZXh0ZW5kcyBsZXtzZXRDb25zZW50KHQpe3RoaXMudmlzaXRvci5oYXNDb25zZW50ZWQ9dH11cGRhdGVDb250ZXh0KCl7dGhpcy5sb2coXCJ1cGRhdGVDb250ZXh0XCIpfWNsZWFyQ29udGV4dCgpe3RoaXMubG9nKFwiY2xlYXJDb250ZXh0XCIpfWFzeW5jIGxvb2t1cEhpdHMoKXt9YXN5bmMgbG9va3VwVmlzaXRvcigpe31hc3luYyBjYWNoZVZpc2l0b3IoKXt9YXN5bmMgY2FjaGVIaXQoKXt9ZmV0Y2hDYW1wYWlnbnNGcm9tQ2FjaGUoKXtyZXR1cm5bXX1zZW5kVmlzaXRvckFsbG9jYXRlZFZhcmlhdGlvbnMoKXt9YXN5bmMgc2VuZEhpdCh0KXt0aGlzLmxvZyhcInNlbmRIaXRcIil9YXN5bmMgc2VuZEhpdHModCl7dGhpcy5sb2coXCJzZW5kSGl0c1wiKX1nZXRGbGFnVmFsdWUodCl7cmV0dXJuIHRoaXMubG9nKFwiRmxhZy52YWx1ZVwiKSx0LmRlZmF1bHRWYWx1ZX1hc3luYyB2aXNpdG9yRXhwb3NlZCgpe3RoaXMubG9nKEl0KX1nZXRGbGFnTWV0YWRhdGEodCl7Y29uc3QgaT1kZS5FbXB0eSgpO3JldHVybiBXdCh0aGlzLmNvbmZpZyxwdCxcIlZpc2l0b3IgezB9LCBGbGFnIGZvciBrZXkgezF9IE1ldGhvZCBGbGFnLm1ldGFkYXRhIGlzIGRlYWN0aXZhdGVkIHdoaWxlIFNESyBzdGF0dXMgaXMgUEFOSUM6IEVtcHR5IG1ldGFkYXRhIG9iamVjdCBpcyByZXR1cm5lZCB7Mn1cXG5MZWFybiBtb3JlOiBodHRwczovL2RvY3MuZGV2ZWxvcGVycy5mbGFnc2hpcC5pby9kb2NzL2dsb3NzYXJ5I3BhbmljLW1vZGVcIix0aGlzLnZpc2l0b3IudmlzaXRvcklkLHQua2V5LGkpLGl9YXN5bmMgc2VuZFRyb3VibGVzaG9vdGluZ0hpdCgpe31hc3luYyBzZW5kU2RrQ29uZmlnQW5hbHl0aWNIaXQoKXt9YXN5bmMgc2VuZEFjdGl2YXRlKHQsaSl7fWFzeW5jIGNvbGxlY3RFQUlFdmVudHNBc3luYygpe3RoaXMubG9nKFwiY29sbGVjdEVBSURhdGFcIil9cmVwb3J0RWFpUGFnZVZpZXcoKXt9cmVwb3J0RWFpVmlzaXRvckV2ZW50KCl7fW9uRUFJQ29sbGVjdFN0YXR1c0NoYW5nZSgpe31hc3luYyBhZGRJblRyYWNraW5nTWFuYWdlcigpe31sb2codCl7V3QodGhpcy5jb25maWcsdCx4LHRoaXMudmlzaXRvci52aXNpdG9ySWQsdCxIdFtIdC5TREtfUEFOSUNdKX19Y2xhc3MgSWUgZXh0ZW5kcyBsZXthc3luYyBsb29rdXBIaXRzKCl7fWFzeW5jIGxvb2t1cFZpc2l0b3IoKXt9YXN5bmMgY2FjaGVWaXNpdG9yKCl7fWFzeW5jIGNhY2hlSGl0KCl7fWFzeW5jIGNvbGxlY3RFQUlFdmVudHNBc3luYygpe3RoaXMubG9nKFwiY29sbGVjdEVBSURhdGFcIil9cmVwb3J0RWFpUGFnZVZpZXcoKXt9cmVwb3J0RWFpVmlzaXRvckV2ZW50KCl7fW9uRUFJQ29sbGVjdFN0YXR1c0NoYW5nZSgpe31mZXRjaENhbXBhaWduc0Zyb21DYWNoZSgpe3JldHVybltdfWFzeW5jIHNlbmRIaXQodCl7dGhpcy5sb2coXCJzZW5kSGl0XCIpfWFzeW5jIHNlbmRIaXRzKHQpe3RoaXMubG9nKFwic2VuZEhpdHNcIil9YXN5bmMgc2VuZEFjdGl2YXRlKHQsaSl7fWFzeW5jIHZpc2l0b3JFeHBvc2VkKCl7dGhpcy5sb2coSXQpfWFzeW5jIHNlbmRUcm91Ymxlc2hvb3RpbmdIaXQoKXt9YXN5bmMgYWRkSW5UcmFja2luZ01hbmFnZXIoKXt9bG9nKHQpe2p0KHRoaXMuY29uZmlnLHF0KFwiTWV0aG9kIHswfSBpcyBkZWFjdGl2YXRlZCBmb3IgdmlzaXRvciB7MX0gOiB2aXNpdG9yIGRpZCBub3QgY29uc2VudC5cIix0LHRoaXMudmlzaXRvci52aXNpdG9ySWQpLHQpfX1jbGFzcyBwZXttdXJtdXJIYXNoM0ludDMyKHQsaT0wKXtsZXQgZSxzLGEsbztjb25zdCBuPTMmdC5sZW5ndGgscj10Lmxlbmd0aC1uO2U9aTtjb25zdCBoPTM0MzI5MTgzNTMsYz00NjE4NDU5MDc7Zm9yKG89MDtvPHI7KWE9MjU1JnQuY2hhckNvZGVBdChvKXwoMjU1JnQuY2hhckNvZGVBdCgrK28pKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK28pKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKytvKSk8PDI0LCsrbyxhPSg2NTUzNSZhKSpoKygoKGE+Pj4xNikqaCY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LGE9YTw8MTV8YT4+PjE3LGE9KDY1NTM1JmEpKmMrKCgoYT4+PjE2KSpjJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsZV49YSxlPWU8PDEzfGU+Pj4xOSxzPTUqKDY1NTM1JmUpKygoNSooZT4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LGU9Mjc0OTIrKDY1NTM1JnMpKygoNTg5NjQrKHM+Pj4xNikmNjU1MzUpPDwxNik7c3dpdGNoKGE9MCxuKXtjYXNlIDM6YV49KDI1NSZ0LmNoYXJDb2RlQXQobysyKSk8PDE2O2Nhc2UgMjphXj0oMjU1JnQuY2hhckNvZGVBdChvKzEpKTw8ODtjYXNlIDE6YV49MjU1JnQuY2hhckNvZGVBdChvKSxhPSg2NTUzNSZhKSpoKygoKGE+Pj4xNikqaCY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LGE9YTw8MTV8YT4+PjE3LGE9KDY1NTM1JmEpKmMrKCgoYT4+PjE2KSpjJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsZV49YX1yZXR1cm4gZV49dC5sZW5ndGgsZV49ZT4+PjE2LGU9MjI0NjgyMjUwNyooNjU1MzUmZSkrKCgyMjQ2ODIyNTA3KihlPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsZV49ZT4+PjEzLGU9MzI2NjQ4OTkwOSooNjU1MzUmZSkrKCgzMjY2NDg5OTA5KihlPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsZV49ZT4+PjE2LGU+Pj4wfX1jbGFzcyBfZSBleHRlbmRzIHR7X3Zpc2l0b3JJZDtfY29udGV4dDtfZmxhZ3M7X2NvbmZpZ01hbmFnZXI7X2NhbXBhaWducztfaGFzQ29uc2VudGVkO19hbm9ueW1vdXNJZDtkZUR1cGxpY2F0aW9uQ2FjaGU7X2lzQ2xlYW5pbmdEZUR1cGxpY2F0aW9uQ2FjaGU7dmlzaXRvckNhY2hlO19leHBvc2VkVmFyaWF0aW9ucztfc2VuZEV4cG9zZWRWYXJpYXRpb25UaW1lb3V0SWQ7X2luc3RhbmNlSWQ7X3RyYWZmaWM7X3Nka0luaXRpYWxEYXRhO19jb25zZW50SGl0VHJvdWJsZXNob290aW5nO19zZWdtZW50SGl0VHJvdWJsZXNob290aW5nO19mZXRjaFN0YXR1cztfb25GZXRjaEZsYWdzU3RhdHVzQ2hhbmdlZDtfZ2V0Q2FtcGFpZ25zUHJvbWlzZTtfaGFzQ29udGV4dEJlZW5VcGRhdGVkO19lbW90aW9uQWk7X2FuYWx5dGljVHJhZmZpYztfbXVybXVySGFzaDtfdmlzaXRvclByb2ZpbGVDYWNoZTtfaXNDbGllbnRTdXBwbGllZElEO192aXNpdG9yVmFyaWF0aW9uU3RhdGU7Z2V0IHZpc2l0b3JWYXJpYXRpb25TdGF0ZSgpe3JldHVybiB0aGlzLl92aXNpdG9yVmFyaWF0aW9uU3RhdGV9Z2V0IGlzQ2xpZW50U3VwcGxpZWRJRCgpe3JldHVybiB0aGlzLl9pc0NsaWVudFN1cHBsaWVkSUR9Z2V0IGhhc0NvbnRleHRCZWVuVXBkYXRlZCgpe3JldHVybiB0aGlzLl9oYXNDb250ZXh0QmVlblVwZGF0ZWR9c2V0IGhhc0NvbnRleHRCZWVuVXBkYXRlZCh0KXt0aGlzLl9oYXNDb250ZXh0QmVlblVwZGF0ZWQ9dH1nZXQgZ2V0Q2FtcGFpZ25zUHJvbWlzZSgpe3JldHVybiB0aGlzLl9nZXRDYW1wYWlnbnNQcm9taXNlfXNldCBnZXRDYW1wYWlnbnNQcm9taXNlKHQpe3RoaXMuX2dldENhbXBhaWduc1Byb21pc2U9dH1nZXQgb25GZXRjaEZsYWdzU3RhdHVzQ2hhbmdlZCgpe3JldHVybiB0aGlzLl9vbkZldGNoRmxhZ3NTdGF0dXNDaGFuZ2VkfXNldCBvbkZldGNoRmxhZ3NTdGF0dXNDaGFuZ2VkKHQpe3RoaXMuX29uRmV0Y2hGbGFnc1N0YXR1c0NoYW5nZWQ9dH1nZXQgZmxhZ3NTdGF0dXMoKXtyZXR1cm4gdGhpcy5fZmV0Y2hTdGF0dXN9c2V0IGZsYWdzU3RhdHVzKHQpe3RoaXMuX2ZldGNoU3RhdHVzPXQsdGhpcy5vbkZldGNoRmxhZ3NTdGF0dXNDaGFuZ2VkJiZ0aGlzLm9uRmV0Y2hGbGFnc1N0YXR1c0NoYW5nZWQodCl9Z2V0IHNlZ21lbnRIaXRUcm91Ymxlc2hvb3RpbmcoKXtyZXR1cm4gdGhpcy5fc2VnbWVudEhpdFRyb3VibGVzaG9vdGluZ31zZXQgc2VnbWVudEhpdFRyb3VibGVzaG9vdGluZyh0KXt0aGlzLl9zZWdtZW50SGl0VHJvdWJsZXNob290aW5nPXR9Z2V0IGNvbnNlbnRIaXRUcm91Ymxlc2hvb3RpbmcoKXtyZXR1cm4gdGhpcy5fY29uc2VudEhpdFRyb3VibGVzaG9vdGluZ31zZXQgY29uc2VudEhpdFRyb3VibGVzaG9vdGluZyh0KXt0aGlzLl9jb25zZW50SGl0VHJvdWJsZXNob290aW5nPXR9Z2V0IHNka0luaXRpYWxEYXRhKCl7cmV0dXJuIHRoaXMuX3Nka0luaXRpYWxEYXRhfXN0YXRpYyBTZGtTdGF0dXM7Z2V0U2RrU3RhdHVzKCl7cmV0dXJuIF9lLlNka1N0YXR1c31sYXN0RmV0Y2hGbGFnc1RpbWVzdGFtcD0wO192aXNpdG9yQ2FjaGVTdGF0dXM7Z2V0IHZpc2l0b3JDYWNoZVN0YXR1cygpe3JldHVybiB0aGlzLl92aXNpdG9yQ2FjaGVTdGF0dXN9c2V0IHZpc2l0b3JDYWNoZVN0YXR1cyh0KXt0aGlzLl92aXNpdG9yQ2FjaGVTdGF0dXM9dH1nZXQgZW1vdGlvbkFpKCl7cmV0dXJuIHRoaXMuX2Vtb3Rpb25BaX1nZXQgYW5hbHl0aWNUcmFmZmljKCl7cmV0dXJuIHRoaXMuX2FuYWx5dGljVHJhZmZpY31pbml0QmFzZVByb3BlcnRpZXModCl7Y29uc3R7Y29uZmlnTWFuYWdlcjppLGVtb3Rpb25BaTplLG1vbml0b3JpbmdEYXRhOnMsdmlzaXRvclByb2ZpbGVDYWNoZTphfT10O3RoaXMuX211cm11ckhhc2g9dC5tdXJtdXJIYXNofHxuZXcgcGUsdGhpcy5fZW1vdGlvbkFpPWUsdGhpcy5faGFzQ29udGV4dEJlZW5VcGRhdGVkPSEwLHRoaXMuX2V4cG9zZWRWYXJpYXRpb25zPXt9LHRoaXMuX3Nka0luaXRpYWxEYXRhPXMsdGhpcy5faW5zdGFuY2VJZD10aSgpLHRoaXMuX2lzQ2xlYW5pbmdEZUR1cGxpY2F0aW9uQ2FjaGU9ITEsdGhpcy5kZUR1cGxpY2F0aW9uQ2FjaGU9e30sdGhpcy5fY29udGV4dD17fSx0aGlzLl9jb25maWdNYW5hZ2VyPWksdGhpcy5jYW1wYWlnbnM9W10sdGhpcy5fdmlzaXRvclByb2ZpbGVDYWNoZT1hfWdldFZpc2l0b3JJZEZyb21UYWcoKXt7Y29uc3QgdD13aW5kb3cuQUJUYXN0eT8uYXBpPy5pbnRlcm5hbD8uX2lzQnlvaWRDb25maWd1cmVkPy4oKTtpZih0KXJldHVybjtjb25zdCBpPXdpbmRvdy5BQlRhc3R5Py5hcGk/LnYxPy5nZXRWYWx1ZShcInZpc2l0b3JJZFwiKTtyZXR1cm4gaSYmSnQodGhpcy5jb25maWcscSxcIlRoZSB2aXNpdG9yIElEICd7MH0nIGhhcyBiZWVuIHJldHJpZXZlZCBmcm9tIEFCVGFzdHkgdGFnXCIsaSksaX19aGFzVmlzaXRvclByb2ZpbGVDbGllbnRTdXBwbGllZElkKHQpe3JldHVybiB2b2lkIDA9PT10LmlzQ2xpZW50U3VwcGxpZWRJZHx8dC5pc0NsaWVudFN1cHBsaWVkSWR9aW5pdFZpc2l0b3JJZCh0LGksZSl7Y29uc3Qgcz10aGlzLmNvbmZpZy5yZXVzZVZpc2l0b3JJZHMmJiEwPT09ZT90aGlzLl92aXNpdG9yUHJvZmlsZUNhY2hlPy5sb2FkVmlzaXRvclByb2ZpbGUoKTpudWxsO3MmJkp0KHRoaXMuY29uZmlnLHEsXCJWaXNpdG9yIHByb2ZpbGUgaGFzIGJlZW4gbG9hZGVkIHswfVwiLHMpLHRoaXMuX2lzQ2xpZW50U3VwcGxpZWRJRD0hMSx0Pyh0aGlzLnZpc2l0b3JJZD10LHRoaXMuX2lzQ2xpZW50U3VwcGxpZWRJRD0hMCk6IWkmJnM/LmFub255bW91c0lkPyh0aGlzLnZpc2l0b3JJZD1zLmFub255bW91c0lkLHRoaXMuX2lzQ2xpZW50U3VwcGxpZWRJRD10aGlzLmhhc1Zpc2l0b3JQcm9maWxlQ2xpZW50U3VwcGxpZWRJZChzKSk6cz8udmlzaXRvcklkPyh0aGlzLnZpc2l0b3JJZD1zLnZpc2l0b3JJZCx0aGlzLl9pc0NsaWVudFN1cHBsaWVkSUQ9dGhpcy5oYXNWaXNpdG9yUHJvZmlsZUNsaWVudFN1cHBsaWVkSWQocykpOnRoaXMudmlzaXRvcklkPXRoaXMuZ2V0VmlzaXRvcklkRnJvbVRhZygpfHx0aGlzLmdlbmVyYXRlVmlzaXRvcklkKCksdGhpcy5fYW5vbnltb3VzSWQ9bnVsbCxpJiYodGhpcy5fYW5vbnltb3VzSWQ9cz8uYW5vbnltb3VzSWR8fHRpKCkpfWNvbnN0cnVjdG9yKHQpe2NvbnN0e3Zpc2l0b3JJZDppLGNvbnRleHQ6ZSxpc0F1dGhlbnRpY2F0ZWQ6cyxoYXNDb25zZW50ZWQ6YSxpbml0aWFsRmxhZ3NEYXRhOm4saW5pdGlhbENhbXBhaWduczpyLG9uRmxhZ3NTdGF0dXNDaGFuZ2VkOmh9PXQ7c3VwZXIoKSx0aGlzLl92aXNpdG9yVmFyaWF0aW9uU3RhdGU9dC52aXNpdG9yVmFyaWF0aW9uU3RhdGV8fHt9LHRoaXMuaW5pdEJhc2VQcm9wZXJ0aWVzKHQpLHRoaXMuaW5pdFZpc2l0b3JJZChpLHMsYSksdGhpcy5pbml0QW5hbHl0aWNUcmFmZmljKCksdGhpcy5zZXRDb25zZW50KGF8fCExKSx0aGlzLnVwZGF0ZUNvbnRleHQoZSksdGhpcy5sb2FkUHJlZGVmaW5lZENvbnRleHQoKSxKdCh0aGlzLmNvbmZpZyxxLFwiUHJlZGVmaW5lZCBDb250ZXh0IGhhdmUgYmVlbiBsb2FkZWQgezB9XCIse2ZzX2NsaWVudDpvLm5hbWUsZnNfdmVyc2lvbjpvLnZlcnNpb24sZnNfdXNlcnM6dGhpcy52aXNpdG9ySWR9KSx0aGlzLnVwZGF0ZUNhY2hlKCk7Y29uc3QgYz10aGlzLmdldFN0cmF0ZWd5KCk7dGhpcy5zZXRJbml0aWFsRmxhZ3MobixjKSx0aGlzLnNldEluaXRpYWxpemVDYW1wYWlnbnMociwhIW4sYyksdGhpcy5vbkZldGNoRmxhZ3NTdGF0dXNDaGFuZ2VkPWgsdGhpcy5mbGFnc1N0YXR1cz17c3RhdHVzOlB0LkZFVENIX1JFUVVJUkVELHJlYXNvbjp4dC5GTEFHU19ORVZFUl9GRVRDSEVEfSx0aGlzLl9lbW90aW9uQWkuaW5pdCh0aGlzKSxKdCh0aGlzLmNvbmZpZyxxLFwiVmlzaXRvciB7MH0gaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGNvbnRleHQgezF9LCBpc0F1dGhlbnRpY2F0ZWQ6ezJ9IGFuZCBoYXNDb25zZW50ZWQgezN9XCIsdGhpcy52aXNpdG9ySWQsdGhpcy5jb250ZXh0LCEhcywhIXRoaXMuaGFzQ29uc2VudGVkKX11cGRhdGVDYWNoZSgpe2NvbnN0IHQ9dGhpcy5oYXNDb25zZW50ZWQ/e3Zpc2l0b3JJZDp0aGlzLnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0aGlzLmFub255bW91c0lkLGlzQ2xpZW50U3VwcGxpZWRJZDp0aGlzLmlzQ2xpZW50U3VwcGxpZWRJRH06dm9pZCAwO3RoaXMuX3Zpc2l0b3JQcm9maWxlQ2FjaGU/LnNhdmVWaXNpdG9yUHJvZmlsZSh0KX1nZXQgdHJhZmZpYygpe3JldHVybiB0aGlzLl90cmFmZmljfXNldCB0cmFmZmljKHQpe3RoaXMuX3RyYWZmaWM9dH1nZXQgaW5zdGFuY2VJZCgpe3JldHVybiB0aGlzLl9pbnN0YW5jZUlkfWdldEN1cnJlbnREYXRlVGltZSgpe3JldHVybiBuZXcgRGF0ZX1pbml0QW5hbHl0aWNUcmFmZmljKCl7Y29uc3QgdD10aGlzLnZpc2l0b3JJZCt0aGlzLmdldEN1cnJlbnREYXRlVGltZSgpLnRvRGF0ZVN0cmluZygpLGk9dGhpcy5fbXVybXVySGFzaC5tdXJtdXJIYXNoM0ludDMyKHQpO3RoaXMuX2FuYWx5dGljVHJhZmZpYz1pJTFlM31nZW5lcmF0ZVZpc2l0b3JJZCgpe2NvbnN0IHQ9dGkoKTtyZXR1cm4gSnQodGhpcy5jb25maWcscSxcIlZpc2l0b3IgaWRlbnRpZmllciBpcyBlbXB0eS4gQSBVVUlEIHswfSBoYXMgYmVlbiBnZW5lcmF0ZWQuXCIsdCksdH1jbGVhckRlRHVwbGljYXRpb25DYWNoZSh0KXtpZih0aGlzLl9pc0NsZWFuaW5nRGVEdXBsaWNhdGlvbkNhY2hlKXJldHVybjt0aGlzLl9pc0NsZWFuaW5nRGVEdXBsaWNhdGlvbkNhY2hlPSEwO2NvbnN0IGk9T2JqZWN0LmVudHJpZXModGhpcy5kZUR1cGxpY2F0aW9uQ2FjaGUpO2Zvcihjb25zdFtlLHNdb2YgaSlEYXRlLm5vdygpLXM+MWUzKnQmJmRlbGV0ZSB0aGlzLmRlRHVwbGljYXRpb25DYWNoZVtlXTt0aGlzLl9pc0NsZWFuaW5nRGVEdXBsaWNhdGlvbkNhY2hlPSExfXNldEluaXRpYWxGbGFncyh0LGkpe3RoaXMuX2ZsYWdzPW5ldyBNYXAsQXJyYXkuaXNBcnJheSh0KSYmKHQuZm9yRWFjaCgodD0+e3RoaXMuX2ZsYWdzLnNldCh0LmtleSx7a2V5OnQua2V5LGNhbXBhaWduSWQ6dC5jYW1wYWlnbklkLGNhbXBhaWduTmFtZTp0LmNhbXBhaWduTmFtZSx2YXJpYXRpb25Hcm91cElkOnQudmFyaWF0aW9uR3JvdXBJZCx2YXJpYXRpb25Hcm91cE5hbWU6dC52YXJpYXRpb25Hcm91cE5hbWUsdmFyaWF0aW9uSWQ6dC52YXJpYXRpb25JZCx2YXJpYXRpb25OYW1lOnQudmFyaWF0aW9uTmFtZSxpc1JlZmVyZW5jZTp0LmlzUmVmZXJlbmNlLHZhbHVlOnNpKHQuaGV4LHRoaXMuY29uZmlnKT8udixzbHVnOnQuc2x1ZyxjYW1wYWlnblR5cGU6dC5jYW1wYWlnblR5cGV9KX0pKSxpPy5zZW5kVmlzaXRvckFsbG9jYXRlZFZhcmlhdGlvbnMoKSl9c2V0SW5pdGlhbGl6ZUNhbXBhaWducyh0LGksZSl7dCYmQXJyYXkuaXNBcnJheSh0KSYmIWkmJihlPy51cGRhdGVDYW1wYWlnbnModCksZT8uc2VuZFZpc2l0b3JBbGxvY2F0ZWRWYXJpYXRpb25zKCkpfWxvYWRQcmVkZWZpbmVkQ29udGV4dCgpe3RoaXMuY29udGV4dC5mc19jbGllbnQ9by5uYW1lLHRoaXMuY29udGV4dC5mc192ZXJzaW9uPW8udmVyc2lvbix0aGlzLmNvbnRleHQuZnNfdXNlcnM9dGhpcy52aXNpdG9ySWR9Z2V0IHZpc2l0b3JJZCgpe3JldHVybiB0aGlzLl92aXNpdG9ySWR9c2V0IHZpc2l0b3JJZCh0KXt0JiZcInN0cmluZ1wiPT10eXBlb2YgdD8odGhpcy5fdmlzaXRvcklkPXQsdGhpcy5sb2FkUHJlZGVmaW5lZENvbnRleHQoKSx0aGlzLnZpc2l0b3JDYWNoZT12b2lkIDApOlF0KHRoaXMuY29uZmlnLFwidmlzaXRvcklkIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIixcIlZJU0lUT1IgSURcIil9Z2V0IGhhc0NvbnNlbnRlZCgpe3JldHVybiB0aGlzLl9oYXNDb25zZW50ZWR9c2V0IGhhc0NvbnNlbnRlZCh0KXt0aGlzLl9oYXNDb25zZW50ZWQ9dH1zZXRDb25zZW50KHQpe3RoaXMuaGFzQ29uc2VudGVkPXQsdGhpcy5nZXRTdHJhdGVneSgpLnNldENvbnNlbnQodCl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gdGhpcy5fY29udGV4dH1zZXQgY29udGV4dCh0KXt0aGlzLl9jb250ZXh0PXt9LHRoaXMudXBkYXRlQ29udGV4dCh0KX1nZXQgZmxhZ3NEYXRhKCl7cmV0dXJuIHRoaXMuX2ZsYWdzfXNldCBmbGFnc0RhdGEodCl7dGhpcy5fZmxhZ3M9dH1nZXQgY29uZmlnTWFuYWdlcigpe3JldHVybiB0aGlzLl9jb25maWdNYW5hZ2VyfWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5jb25maWdNYW5hZ2VyLmNvbmZpZ31nZXQgY2FtcGFpZ25zKCl7cmV0dXJuIHRoaXMuX2NhbXBhaWduc31zZXQgY2FtcGFpZ25zKHQpe3RoaXMuX2NhbXBhaWducz10fWdldCBhbm9ueW1vdXNJZCgpe3JldHVybiB0aGlzLl9hbm9ueW1vdXNJZH1zZXQgYW5vbnltb3VzSWQodCl7dGhpcy5fYW5vbnltb3VzSWQ9dH1nZXRTdHJhdGVneSgpe2xldCB0O2NvbnN0IGk9e3Zpc2l0b3I6dGhpcyxtdXJtdXJIYXNoOm5ldyBwZX0sZT10aGlzLmdldFNka1N0YXR1cygpO3JldHVybiB0PXZvaWQgMD09PWV8fGU9PT1IdC5TREtfTk9UX0lOSVRJQUxJWkVEP25ldyB1ZShpKTplPT09SHQuU0RLX1BBTklDP25ldyBmZShpKTp0aGlzLmhhc0NvbnNlbnRlZD9uZXcgbGUoaSk6bmV3IEllKGkpLHR9YXN5bmMgc2VuZEV4cG9zZWRWYXJpYXRpb24odCl7e2lmKCF0fHwhWnQoKSlyZXR1cm47aWYodGhpcy5fZXhwb3NlZFZhcmlhdGlvbnNbdC5jYW1wYWlnbklkXT17Y2FtcGFpZ25JZDp0LmNhbXBhaWduSWQsdmFyaWF0aW9uR3JvdXBJZDp0LnZhcmlhdGlvbkdyb3VwSWQsdmFyaWF0aW9uSWQ6dC52YXJpYXRpb25JZH0sdGhpcy5fdmlzaXRvclZhcmlhdGlvblN0YXRlLmV4cG9zZWRWYXJpYXRpb25zPXRoaXMuX2V4cG9zZWRWYXJpYXRpb25zLCF0aGlzLmNvbmZpZy5pc1FBTW9kZUVuYWJsZWQpcmV0dXJuO2NvbnN0IGk9MTAsZT0xMDAscz1hd2FpdCBpbXBvcnQoXCIuL0RhcFNqSDkwLmpzXCIpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0Lml9KSk7aWYoT2JqZWN0LmtleXModGhpcy5fZXhwb3NlZFZhcmlhdGlvbnMpLmxlbmd0aD49aSYmKHMuc2VuZFZpc2l0b3JFeHBvc2VkVmFyaWF0aW9ucyh0aGlzLl92aXNpdG9yVmFyaWF0aW9uU3RhdGUpLHRoaXMuX2V4cG9zZWRWYXJpYXRpb25zPXt9KSx0aGlzLl9zZW5kRXhwb3NlZFZhcmlhdGlvblRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX3NlbmRFeHBvc2VkVmFyaWF0aW9uVGltZW91dElkKSwwPT09T2JqZWN0LmtleXModGhpcy5fZXhwb3NlZFZhcmlhdGlvbnMpLmxlbmd0aClyZXR1cm47dGhpcy5fc2VuZEV4cG9zZWRWYXJpYXRpb25UaW1lb3V0SWQ9c2V0VGltZW91dCgoKCk9PntzLnNlbmRWaXNpdG9yRXhwb3NlZFZhcmlhdGlvbnModGhpcy5fdmlzaXRvclZhcmlhdGlvblN0YXRlKSx0aGlzLl9leHBvc2VkVmFyaWF0aW9ucz17fX0pLGUpfX1jb2xsZWN0RUFJRXZlbnRzQXN5bmModCl7cmV0dXJuIHRoaXMuZ2V0U3RyYXRlZ3koKS5jb2xsZWN0RUFJRXZlbnRzQXN5bmModCl9c2VuZEVhaVZpc2l0b3JFdmVudCh0KXt0aGlzLmdldFN0cmF0ZWd5KCkucmVwb3J0RWFpVmlzaXRvckV2ZW50KHQpfXNlbmRFYWlQYWdlVmlldyh0KXt0aGlzLmdldFN0cmF0ZWd5KCkucmVwb3J0RWFpUGFnZVZpZXcodCl9b25FQUlDb2xsZWN0U3RhdHVzQ2hhbmdlKHQpe3RoaXMuZ2V0U3RyYXRlZ3koKS5vbkVBSUNvbGxlY3RTdGF0dXNDaGFuZ2UodCl9Y2xlYW51cCgpe3RoaXMuZ2V0U3RyYXRlZ3koKS5jbGVhbnVwKCl9YXN5bmMgZ2V0Q2FjaGVkRUFJU2NvcmUoKXtyZXR1cm4gdGhpcy52aXNpdG9yQ2FjaGV8fGF3YWl0IHRoaXMuZ2V0U3RyYXRlZ3koKS5sb29rdXBWaXNpdG9yKCksdGhpcy52aXNpdG9yQ2FjaGU/LmRhdGE/LmVBSVNjb3JlfWFzeW5jIGlzRUFJRGF0YUNvbGxlY3RlZCgpe3JldHVybiB0aGlzLnZpc2l0b3JDYWNoZXx8YXdhaXQgdGhpcy5nZXRTdHJhdGVneSgpLmxvb2t1cFZpc2l0b3IoKSx0aGlzLnZpc2l0b3JDYWNoZT8uZGF0YT8uaXNFQUlEYXRhQ29sbGVjdGVkfHwhMX1hc3luYyBzZXRDYWNoZWRFQUlTY29yZSh0KXt0aGlzLmdldFN0cmF0ZWd5KCkuY2FjaGVWaXNpdG9yKHQpfWFzeW5jIHNldElzRUFJRGF0YUNvbGxlY3RlZCh0KXt0aGlzLmdldFN0cmF0ZWd5KCkuY2FjaGVWaXNpdG9yKHZvaWQgMCx0KX1zZW5kVHJvdWJsZXNob290aW5nKHQpe3JldHVybiB0aGlzLmdldFN0cmF0ZWd5KCkuc2VuZFRyb3VibGVzaG9vdGluZ0hpdCh0KX1zZW5kVXNhZ2VIaXQodCl7cmV0dXJuIHRoaXMuZ2V0U3RyYXRlZ3koKS5zZW5kVXNhZ2VIaXQodCl9YWRkSW5UcmFja2luZ01hbmFnZXIodCl7cmV0dXJuIHRoaXMuZ2V0U3RyYXRlZ3koKS5hZGRJblRyYWNraW5nTWFuYWdlcih0KX19ZnVuY3Rpb24gdmUoe2ZsYWdEVE86dCxjb25maWc6aSx2aXNpdG9yVmFyaWF0aW9uU3RhdGU6ZX0pe3tpZighKGkuaXNRQU1vZGVFbmFibGVkJiZadCgpJiZ0JiZlLmZvcmNlZFZhcmlhdGlvbnMpKXJldHVybjtjb25zdCBzPWUuZm9yY2VkVmFyaWF0aW9uc1t0LmNhbXBhaWduSWRdO2lmKCFzKXJldHVybjtjb25zdHtjYW1wYWlnbklkOmEsY2FtcGFpZ25OYW1lOm8sdmFyaWF0aW9uR3JvdXBJZDpuLHZhcmlhdGlvbkdyb3VwTmFtZTpyLGNhbXBhaWduVHlwZTpoLENhbXBhaWduU2x1ZzpjLHZhcmlhdGlvbjpnfT1zLGQ9Zy5tb2RpZmljYXRpb25zLnZhbHVlW3Qua2V5XTtyZXR1cm57a2V5OnQua2V5LGNhbXBhaWduSWQ6YSxjYW1wYWlnbk5hbWU6byx2YXJpYXRpb25Hcm91cElkOm4sdmFyaWF0aW9uR3JvdXBOYW1lOnIsdmFyaWF0aW9uSWQ6Zy5pZCx2YXJpYXRpb25OYW1lOmcubmFtZSxpc1JlZmVyZW5jZTohIWcucmVmZXJlbmNlLGNhbXBhaWduVHlwZTpoLHNsdWc6Yyx2YWx1ZTpkfX19Y2xhc3MgbWV7X3Zpc2l0b3I7X2tleTtfZGVmYXVsdFZhbHVlO2hhc0dldFZhbHVlQmVlbkNhbGxlZD0hMTtjb25zdHJ1Y3Rvcih0KXtjb25zdHtrZXk6aSx2aXNpdG9yOmV9PXQ7dGhpcy5fa2V5PWksdGhpcy5fdmlzaXRvcj1lfWV4aXN0cygpe2lmKCF0aGlzLl92aXNpdG9yKXJldHVybiExO2NvbnN0IHQ9dGhpcy5fdmlzaXRvcj8uZmxhZ3NEYXRhLmdldCh0aGlzLl9rZXkpLGk9dmUoe2ZsYWdEVE86dCxjb25maWc6dGhpcy5fdmlzaXRvci5jb25maWcsdmlzaXRvclZhcmlhdGlvblN0YXRlOnRoaXMuX3Zpc2l0b3IudmlzaXRvclZhcmlhdGlvblN0YXRlfSl8fHQ7cmV0dXJuISEoaT8uY2FtcGFpZ25JZCYmaT8udmFyaWF0aW9uSWQmJmk/LnZhcmlhdGlvbkdyb3VwSWQpfWdldCBtZXRhZGF0YSgpe2lmKCF0aGlzLl92aXNpdG9yKXJldHVybiBkZS5FbXB0eSgpO2NvbnN0IHQ9dGhpcy5fdmlzaXRvci5mbGFnc0RhdGEuZ2V0KHRoaXMuX2tleSksaT12ZSh7ZmxhZ0RUTzp0LGNvbmZpZzp0aGlzLl92aXNpdG9yLmNvbmZpZyx2aXNpdG9yVmFyaWF0aW9uU3RhdGU6dGhpcy5fdmlzaXRvci52aXNpdG9yVmFyaWF0aW9uU3RhdGV9KTtyZXR1cm4gdGhpcy5fdmlzaXRvci5nZXRGbGFnTWV0YWRhdGEoe2tleTp0aGlzLl9rZXksZmxhZzppfHx0fSl9YXN5bmMgdmlzaXRvckV4cG9zZWQoKXtpZighdGhpcy5fdmlzaXRvcilyZXR1cm47Y29uc3QgdD10aGlzLl92aXNpdG9yLmZsYWdzRGF0YS5nZXQodGhpcy5fa2V5KSxpPXZlKHtmbGFnRFRPOnQsY29uZmlnOnRoaXMuX3Zpc2l0b3IuY29uZmlnLHZpc2l0b3JWYXJpYXRpb25TdGF0ZTp0aGlzLl92aXNpdG9yLnZpc2l0b3JWYXJpYXRpb25TdGF0ZX0pO3JldHVybiB0aGlzLl92aXNpdG9yLnZpc2l0b3JFeHBvc2VkKHtrZXk6dGhpcy5fa2V5LGZsYWc6aXx8dCxkZWZhdWx0VmFsdWU6dGhpcy5fZGVmYXVsdFZhbHVlLGhhc0dldFZhbHVlQmVlbkNhbGxlZDp0aGlzLmhhc0dldFZhbHVlQmVlbkNhbGxlZH0pfWdldFZhbHVlKHQsaT0hMCl7aWYodGhpcy5fZGVmYXVsdFZhbHVlPXQsdGhpcy5oYXNHZXRWYWx1ZUJlZW5DYWxsZWQ9ITAsIXRoaXMuX3Zpc2l0b3IpcmV0dXJuIHQ7Y29uc3QgZT10aGlzLl92aXNpdG9yLmZsYWdzRGF0YS5nZXQodGhpcy5fa2V5KSxzPXZlKHtmbGFnRFRPOmUsY29uZmlnOnRoaXMuX3Zpc2l0b3IuY29uZmlnLHZpc2l0b3JWYXJpYXRpb25TdGF0ZTp0aGlzLl92aXNpdG9yLnZpc2l0b3JWYXJpYXRpb25TdGF0ZX0pfHxlO3JldHVybiB0aGlzLl92aXNpdG9yLnNlbmRFeHBvc2VkVmFyaWF0aW9uKHMpLHRoaXMuX3Zpc2l0b3IuZ2V0RmxhZ1ZhbHVlKHtrZXk6dGhpcy5fa2V5LGRlZmF1bHRWYWx1ZTp0LGZsYWc6cyx2aXNpdG9yRXhwb3NlZDppfSl9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLl92aXNpdG9yPy5mbGFnc1N0YXR1cz8uc3RhdHVzPT09UHQuUEFOSUM/THQuUEFOSUM6dGhpcy5leGlzdHMoKT90aGlzLl92aXNpdG9yPy5mbGFnc1N0YXR1cz8uc3RhdHVzPT09UHQuRkVUQ0hfUkVRVUlSRUR8fHRoaXMuX3Zpc2l0b3I/LmZsYWdzU3RhdHVzPy5zdGF0dXM9PT1QdC5GRVRDSElORz9MdC5GRVRDSF9SRVFVSVJFRDpMdC5GRVRDSEVEOkx0Lk5PVF9GT1VORH19Y2xhc3MgQ2V7X3Zpc2l0b3I7X2tleXM9bmV3IFNldDtfZmxhZ3M7Y29uc3RydWN0b3IodCl7Y29uc3R7dmlzaXRvcjppLGZsYWdzOmV9PXQ7dGhpcy5fdmlzaXRvcj1pLHRoaXMuX2ZsYWdzPWV8fG5ldyBNYXAsMD09PXRoaXMuX2ZsYWdzLnNpemU/KHRoaXMuX2tleXM9bmV3IFNldChpPy5mbGFnc0RhdGEua2V5cygpKSx0aGlzLl9rZXlzLmZvckVhY2goKHQ9Pnt0aGlzLl9mbGFncy5zZXQodCxuZXcgbWUoe2tleTp0LHZpc2l0b3I6aX0pKX0pKSk6dGhpcy5fa2V5cz1uZXcgU2V0KHRoaXMuX2ZsYWdzLmtleXMoKSl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fa2V5cy5zaXplfWdldCh0KXtjb25zdCBpPXRoaXMuX2ZsYWdzLmdldCh0KTtyZXR1cm4gaXx8KHRoaXMuX3Zpc2l0b3I/LmNvbmZpZyYmJHQodGhpcy5fdmlzaXRvci5jb25maWcsZnQsJ0ZvciB0aGUgdmlzaXRvciBcInswfVwiLCBubyBmbGFncyB3ZXJlIGZvdW5kIHdpdGggdGhlIGtleSBcInsxfVwiLiBUaGVyZWZvcmUsIGFuIGVtcHR5IGZsYWcgaGFzIGJlZW4gcmV0dXJuZWQuJyx0aGlzLl92aXNpdG9yLnZpc2l0b3JJZCx0KSxuZXcgbWUoe2tleTp0fSkpfWhhcyh0KXtyZXR1cm4gdGhpcy5fa2V5cy5oYXModCl9a2V5cygpe3JldHVybiB0aGlzLl9rZXlzfVtTeW1ib2wuaXRlcmF0b3JdKCl7bGV0IHQ9MDtjb25zdCBpPUFycmF5LmZyb20odGhpcy5fa2V5cyk7cmV0dXJue25leHQ6KCk9PntpZih0PGkubGVuZ3RoKXtjb25zdCBlPWlbdCsrXTtyZXR1cm57dmFsdWU6W2UsdGhpcy5fZmxhZ3MuZ2V0KGUpXSxkb25lOiExfX1yZXR1cm57dmFsdWU6bnVsbCxkb25lOiEwfX19fWZpbHRlcih0KXtjb25zdCBpPW5ldyBNYXA7cmV0dXJuIHRoaXMuX2ZsYWdzLmZvckVhY2goKChlLHMpPT57dChlLHMsdGhpcykmJmkuc2V0KHMsZSl9KSksbmV3IENlKHt2aXNpdG9yOnRoaXMuX3Zpc2l0b3IsZmxhZ3M6aX0pfWFzeW5jIGV4cG9zZUFsbCgpe2F3YWl0IFByb21pc2UuYWxsKEFycmF5LmZyb20odGhpcy5fZmxhZ3MudmFsdWVzKCksKHQ9PnQudmlzaXRvckV4cG9zZWQoKSkpKX1nZXRNZXRhZGF0YSgpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm4gdGhpcy5fZmxhZ3MuZm9yRWFjaCgoKGksZSk9Pnt0LnNldChlLGkubWV0YWRhdGEpfSkpLHR9dG9KU09OKCl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5fZmxhZ3MuZm9yRWFjaCgoKGksZSk9Pntjb25zdCBzPWkubWV0YWRhdGE7dC5wdXNoKHtrZXk6ZSxjYW1wYWlnbklkOnMuY2FtcGFpZ25JZCxjYW1wYWlnbk5hbWU6cy5jYW1wYWlnbk5hbWUsdmFyaWF0aW9uR3JvdXBJZDpzLnZhcmlhdGlvbkdyb3VwSWQsdmFyaWF0aW9uR3JvdXBOYW1lOnMudmFyaWF0aW9uR3JvdXBOYW1lLHZhcmlhdGlvbklkOnMudmFyaWF0aW9uSWQsdmFyaWF0aW9uTmFtZTpzLnZhcmlhdGlvbk5hbWUsaXNSZWZlcmVuY2U6cy5pc1JlZmVyZW5jZSxjYW1wYWlnblR5cGU6cy5jYW1wYWlnblR5cGUsc2x1ZzpzLnNsdWcsaGV4OmVpKHt2OmkuZ2V0VmFsdWUobnVsbCwhMSl9KX0pfSkpLHR9Zm9yRWFjaCh0KXt0aGlzLl9mbGFncy5mb3JFYWNoKCgoaSxlKT0+e3QoaSxlLHRoaXMpfSkpfX1jbGFzcyBUZSBleHRlbmRzIF9le3VwZGF0ZUNvbnRleHQodCxpKXt0aGlzLmdldFN0cmF0ZWd5KCkudXBkYXRlQ29udGV4dCh0LGkpLHRoaXMubG9hZFByZWRlZmluZWRDb250ZXh0KCl9Y2xlYXJDb250ZXh0KCl7dGhpcy5nZXRTdHJhdGVneSgpLmNsZWFyQ29udGV4dCgpfWdldEZsYWcodCl7cmV0dXJuIHRoaXMuZmxhZ3NTdGF0dXMuc3RhdHVzIT09UHQuRkVUQ0hFRCYmdGhpcy5mbGFnc1N0YXR1cy5zdGF0dXMhPT1QdC5GRVRDSElORyYmJHQodGhpcy5jb25maWcsZnQsZnVuY3Rpb24odCl7bGV0IGk9XCJcIjtzd2l0Y2godCl7Y2FzZSB4dC5GTEFHU19ORVZFUl9GRVRDSEVEOmk9YFZpc2l0b3IgXFxgezB9XFxgIGhhcyBiZWVuIGNyZWF0ZWQgJHtMfWA7YnJlYWs7Y2FzZSB4dC5VUERBVEVfQ09OVEVYVDppPWBWaXNpdG9yIGNvbnRleHQgZm9yIHZpc2l0b3IgXFxgezB9XFxgIGhhcyBiZWVuIHVwZGF0ZWQgJHtMfWA7YnJlYWs7Y2FzZSB4dC5BVVRIRU5USUNBVEU6aT1gVmlzaXRvciBcXGB7MH1cXGAgaGFzIGJlZW4gYXV0aGVudGljYXRlZCAke0x9YDticmVhaztjYXNlIHh0LlVOQVVUSEVOVElDQVRFOmk9YFZpc2l0b3IgXFxgezB9XFxgIGhhcyBiZWVuIHVuYXV0aGVudGljYXRlZCAke0x9YDticmVhaztjYXNlIHh0LkZMQUdTX0ZFVENISU5HX0VSUk9SOmk9J1RoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBmZXRjaGluZyBmbGFncyBmb3IgdmlzaXRvciBgezB9YC4gU28gdGhlIHZhbHVlIG9mIHRoZSBmbGFnIGB7MX1gIG1heSBiZSBvdXRkYXRlZFwiJzticmVhaztjYXNlIHh0LkZMQUdTX0ZFVENIRURfRlJPTV9DQUNIRTppPVwiRmxhZ3MgZm9yIHZpc2l0b3IgYHswfWAgaGF2ZSBiZWVuIGZldGNoZWQgZnJvbSBjYWNoZVwifXJldHVybiBpfSh0aGlzLmZsYWdzU3RhdHVzLnJlYXNvbiksdGhpcy52aXNpdG9ySWQsdCksbmV3IG1lKHtrZXk6dCx2aXNpdG9yOnRoaXN9KX1nZXRGbGFncygpe3JldHVybiBuZXcgQ2Uoe3Zpc2l0b3I6dGhpc30pfXNlbmRIaXQodCl7cmV0dXJuIHRoaXMuZ2V0U3RyYXRlZ3koKS5zZW5kSGl0KHQpfXNlbmRIaXRzKHQpe3JldHVybiB0aGlzLmdldFN0cmF0ZWd5KCkuc2VuZEhpdHModCl9YXV0aGVudGljYXRlKHQpe3RoaXMuZ2V0U3RyYXRlZ3koKS5hdXRoZW50aWNhdGUodCksdGhpcy51cGRhdGVDYWNoZSgpfXVuYXV0aGVudGljYXRlKCl7dGhpcy5nZXRTdHJhdGVneSgpLnVuYXV0aGVudGljYXRlKCksdGhpcy51cGRhdGVDYWNoZSgpfWFzeW5jIGZldGNoRmxhZ3MoKXthd2FpdCB0aGlzLmdldFN0cmF0ZWd5KCkuZmV0Y2hGbGFncygpfXZpc2l0b3JFeHBvc2VkKHQpe3JldHVybiB0aGlzLmdldFN0cmF0ZWd5KCkudmlzaXRvckV4cG9zZWQodCl9Z2V0RmxhZ1ZhbHVlKHQpe3JldHVybiB0aGlzLmdldFN0cmF0ZWd5KCkuZ2V0RmxhZ1ZhbHVlKHQpfWdldEZsYWdNZXRhZGF0YSh0KXtyZXR1cm4gdGhpcy5nZXRTdHJhdGVneSgpLmdldEZsYWdNZXRhZGF0YSh0KX19Y2xhc3MgeWUgZXh0ZW5kcyB2aXtfbXVybXVySGFzaDtfc2RrTWFuYWdlcjtnZXQgX2J1Y2tldGluZ0NvbnRlbnQoKXtyZXR1cm4gdGhpcy5fc2RrTWFuYWdlci5nZXRCdWNrZXRpbmdDb250ZW50KCl9Y29uc3RydWN0b3Ioe2h0dHBDbGllbnQ6dCxjb25maWc6aSxtdXJtdXJIYXNoOmUsc2RrTWFuYWdlcjpzLHRyYWNraW5nTWFuYWdlcjphLGZsYWdzaGlwSW5zdGFuY2VJZDpvfSl7c3VwZXIoe2h0dHBDbGllbnQ6dCxjb25maWc6aSx0cmFja2luZ01hbmFnZXI6YSxmbGFnc2hpcEluc3RhbmNlSWQ6b30pLHRoaXMuX211cm11ckhhc2g9ZSx0aGlzLl9zZGtNYW5hZ2VyPXN9YXN5bmMgc2VuZENvbnRleHQodCl7dHJ5e2lmKE9iamVjdC5rZXlzKHQuY29udGV4dCkubGVuZ3RoPD0zfHwhdC5oYXNDb25zZW50ZWR8fCF0Lmhhc0NvbnRleHRCZWVuVXBkYXRlZClyZXR1cm47dC5oYXNDb250ZXh0QmVlblVwZGF0ZWQ9ITE7Y29uc3QgaT1uZXcgQ2koe2NvbnRleHQ6dC5jb250ZXh0LHZpc2l0b3JJZDp0LnZpc2l0b3JJZCxhbm9ueW1vdXNJZDp0LmFub255bW91c0lkfSk7YXdhaXQgdC5zZW5kSGl0KGkpO2NvbnN0IGU9bmV3IF9pKHtsYWJlbDpkaS5WSVNJVE9SX1NFTkRfSElULGxvZ0xldmVsOnMuSU5GTyx0cmFmZmljOnQudHJhZmZpY3x8MCx2aXNpdG9ySWQ6dC52aXNpdG9ySWQsdmlzaXRvclNlc3Npb25JZDp0Lmluc3RhbmNlSWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnQuc2RrSW5pdGlhbERhdGE/Lmluc3RhbmNlSWQsYW5vbnltb3VzSWQ6dC5hbm9ueW1vdXNJZCxjb25maWc6dGhpcy5jb25maWcsaGl0Q29udGVudDppLnRvQXBpS2V5cygpfSk7dC5zZWdtZW50SGl0VHJvdWJsZXNob290aW5nPWV9Y2F0Y2godCl7UXQodGhpcy5jb25maWcsdC5tZXNzYWdlfHx0LFwic2VuZENvbnRleHRcIil9fWFzeW5jIGdldFRoaXJkUGFydHlTZWdtZW50KHQpe2NvbnN0IGk9cXQoXCJodHRwczovL2FwaS1kYXRhLWNvbm5lY3Rvci5mbGFnc2hpcC5pby9hY2NvdW50cy97MH0vc2VnbWVudHMvezF9XCIsdGhpcy5jb25maWcuZW52SWQsdCksZT1EYXRlLm5vdygpLHM9e307dHJ5e2NvbnN0IHQ9KGF3YWl0IHRoaXMuX2h0dHBDbGllbnQuZ2V0QXN5bmMoaSx7bmV4dEZldGNoQ29uZmlnOnRoaXMuY29uZmlnLm5leHRGZXRjaENvbmZpZ30pKS5ib2R5O2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKGNvbnN0IGkgb2YgdClzW2Ake2kucGFydG5lcn06OiR7aS5zZWdtZW50fWBdPWkudmFsdWV9Y2F0Y2godCl7UXQodGhpcy5jb25maWcsaWkodC5tZXNzYWdlfHx0LHt1cmw6aSxuZXh0RmV0Y2hDb25maWc6dGhpcy5jb25maWcubmV4dEZldGNoQ29uZmlnLGR1cmF0aW9uOkRhdGUubm93KCktZX0pLFwiR0VUX1RISVJEX1BBUlRZX1NFR01FTlRcIil9cmV0dXJuIHN9YXN5bmMgZ2V0Q2FtcGFpZ25zQXN5bmModCl7aWYoIXRoaXMuX2J1Y2tldGluZ0NvbnRlbnQpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLl9idWNrZXRpbmdDb250ZW50Py5hY2NvdW50U2V0dGluZ3M/LnRyb3VibGVzaG9vdGluZztpZih0aGlzLnRyb3VibGVzaG9vdGluZz12b2lkIDAsaSYmKHRoaXMudHJvdWJsZXNob290aW5nPXtzdGFydERhdGU6bmV3IERhdGUoaS5zdGFydERhdGUpLGVuZERhdGU6bmV3IERhdGUoaS5lbmREYXRlKSx0aW1lem9uZTppLnRpbWV6b25lLHRyYWZmaWM6aS50cmFmZmljfSksdGhpcy5fYnVja2V0aW5nQ29udGVudC5wYW5pYylyZXR1cm4gdGhpcy5wYW5pYz0hMCxbXTtpZih0aGlzLnBhbmljPSExLCF0aGlzLl9idWNrZXRpbmdDb250ZW50LmNhbXBhaWducylyZXR1cm4gbnVsbDtpZih0aGlzLmNvbmZpZy5mZXRjaFRoaXJkUGFydHlEYXRhKXtjb25zdCBpPWF3YWl0IHRoaXMuZ2V0VGhpcmRQYXJ0eVNlZ21lbnQodC52aXNpdG9ySWQpO3QudXBkYXRlQ29udGV4dChpKX1hd2FpdCB0aGlzLnNlbmRDb250ZXh0KHQpO2NvbnN0IGU9W107cmV0dXJuIHRoaXMuX2J1Y2tldGluZ0NvbnRlbnQuY2FtcGFpZ25zLmZvckVhY2goKGk9Pntjb25zdCBzPXRoaXMuZ2V0VmlzaXRvckNhbXBhaWducyhpLnZhcmlhdGlvbkdyb3VwcyxpLmlkLGkudHlwZSx0KTtzJiYocy5zbHVnPWkuc2x1Zz8/bnVsbCxzLm5hbWU9aS5uYW1lLGUucHVzaChzKSl9KSksZX1nZXRWaXNpdG9yQ2FtcGFpZ25zKHQsaSxlLHMpe2Zvcihjb25zdCBhIG9mIHQpe2lmKHRoaXMuaXNNYXRjaFRhcmdldGluZyhhLHMpKXtjb25zdCB0PXRoaXMuZ2V0VmFyaWF0aW9uKGEscyk7cmV0dXJuIHQ/e2lkOmksdmFyaWF0aW9uOnQsdmFyaWF0aW9uR3JvdXBJZDphLmlkLHZhcmlhdGlvbkdyb3VwTmFtZTphLm5hbWUsdHlwZTplfTpudWxsfX1yZXR1cm4gbnVsbH1nZXRWYXJpYXRpb24odCxpKXtjb25zdCBlPXRoaXMuX211cm11ckhhc2gubXVybXVySGFzaDNJbnQzMih0LmlkK2kudmlzaXRvcklkKSUxMDA7bGV0IHM9MDtmb3IoY29uc3QgYSBvZiB0LnZhcmlhdGlvbnMpe2NvbnN0IG89aS52aXNpdG9yQ2FjaGU/LmRhdGE/LmFzc2lnbm1lbnRzSGlzdG9yeSxuPW8/b1t0LmlkXTpudWxsO2lmKG4pe2NvbnN0IGU9dC52YXJpYXRpb25zLmZpbmQoKHQ9PnQuaWQ9PT1uKSk7aWYoIWUpY29udGludWU7cmV0dXJuIEp0KHRoaXMuY29uZmlnLHl0LFwiVmlzaXRvciB7MH0sIFZhcmlhdGlvbiB7MX0gc2VsZWN0ZWQgZnJvbSBjYWNoZS5cIixpLnZpc2l0b3JJZCxlLmlkKSx7aWQ6ZS5pZCxuYW1lOmUubmFtZSxtb2RpZmljYXRpb25zOmUubW9kaWZpY2F0aW9ucyxyZWZlcmVuY2U6ZS5yZWZlcmVuY2V9fWlmKHZvaWQgMCE9PWEuYWxsb2NhdGlvbiYmMCE9PWEuYWxsb2NhdGlvbiYmKHMrPWEuYWxsb2NhdGlvbixlPHMpKXJldHVybiBKdCh0aGlzLmNvbmZpZyx5dCxcIlZpc2l0b3IgezB9LCBWYXJpYXRpb24gezF9IHNlbGVjdGVkIHdpdGggYWxsb2NhdGlvbiB7Mn0uXCIsaS52aXNpdG9ySWQsYS5pZCxzKSx7aWQ6YS5pZCxtb2RpZmljYXRpb25zOmEubW9kaWZpY2F0aW9ucyxyZWZlcmVuY2U6YS5yZWZlcmVuY2UsbmFtZTphLm5hbWV9fXJldHVybiBudWxsfWlzTWF0Y2hUYXJnZXRpbmcodCxpKXtyZXR1cm4hISh0JiZ0LnRhcmdldGluZyYmdC50YXJnZXRpbmcudGFyZ2V0aW5nR3JvdXBzKSYmdC50YXJnZXRpbmcudGFyZ2V0aW5nR3JvdXBzLnNvbWUoKHQ9PnRoaXMuY2hlY2tBbmRUYXJnZXRpbmcodC50YXJnZXRpbmdzLGkpKSl9aXNBTkRMaXN0T3BlcmF0b3IodCl7cmV0dXJuW1wiTk9UX0VRVUFMU1wiLFwiTk9UX0NPTlRBSU5TXCJdLmluY2x1ZGVzKHQpfWNoZWNrQW5kVGFyZ2V0aW5nKHQsaSl7bGV0IGUscz0hMTtmb3IoY29uc3R7a2V5OmEsdmFsdWU6byxvcGVyYXRvcjpufW9mIHQpe2lmKFwiRVhJU1RTXCI9PT1uKXtpZihhIGluIGkuY29udGV4dCl7cz0hMDtjb250aW51ZX1zPSExO2JyZWFrfWlmKFwiTk9UX0VYSVNUU1wiIT09bilpZihcImZzX2FsbF91c2Vyc1wiIT09YSl7aWYoXCJmc191c2Vyc1wiPT09YSllPWkudmlzaXRvcklkO2Vsc2V7aWYoIShhIGluIGkuY29udGV4dCkpe3M9ITE7YnJlYWt9ZT1pLmNvbnRleHRbYV19aWYocz10aGlzLnRlc3RPcGVyYXRvcihuLGUsbyksIXMpYnJlYWt9ZWxzZSBzPSEwO2Vsc2V7aWYoYSBpbiBpLmNvbnRleHQpe3M9ITE7YnJlYWt9cz0hMH19cmV0dXJuIHN9dGVzdExpc3RPcGVyYXRvckxvb3AodCxpLGUscyl7bGV0IGE9cztmb3IoY29uc3QgbyBvZiBlKWlmKGE9dGhpcy50ZXN0T3BlcmF0b3IodCxpLG8pLGEhPT1zKWJyZWFrO3JldHVybiBhfXRlc3RMaXN0T3BlcmF0b3IodCxpLGUpe3JldHVybiB0aGlzLmlzQU5ETGlzdE9wZXJhdG9yKHQpP3RoaXMudGVzdExpc3RPcGVyYXRvckxvb3AodCxpLGUsITApOnRoaXMudGVzdExpc3RPcGVyYXRvckxvb3AodCxpLGUsITEpfXRlc3RPcGVyYXRvcih0LGksZSl7bGV0IHM7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdGhpcy50ZXN0TGlzdE9wZXJhdG9yKHQsaSxlKTtzd2l0Y2godCl7Y2FzZVwiRVFVQUxTXCI6cz1pPT09ZTticmVhaztjYXNlXCJOT1RfRVFVQUxTXCI6cz1pIT09ZTticmVhaztjYXNlXCJDT05UQUlOU1wiOnM9aS50b1N0cmluZygpLmluY2x1ZGVzKGUudG9TdHJpbmcoKSk7YnJlYWs7Y2FzZVwiTk9UX0NPTlRBSU5TXCI6cz0haS50b1N0cmluZygpLmluY2x1ZGVzKGUudG9TdHJpbmcoKSk7YnJlYWs7Y2FzZVwiR1JFQVRFUl9USEFOXCI6cz1pPmU7YnJlYWs7Y2FzZVwiTE9XRVJfVEhBTlwiOnM9aTxlO2JyZWFrO2Nhc2VcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFNcIjpzPWk+PWU7YnJlYWs7Y2FzZVwiTE9XRVJfVEhBTl9PUl9FUVVBTFNcIjpzPWk8PWU7YnJlYWs7Y2FzZVwiU1RBUlRTX1dJVEhcIjpzPWkudG9TdHJpbmcoKS5zdGFydHNXaXRoKGUudG9TdHJpbmcoKSk7YnJlYWs7Y2FzZVwiRU5EU19XSVRIXCI6cz1pLnRvU3RyaW5nKCkuZW5kc1dpdGgoZS50b1N0cmluZygpKTticmVhaztkZWZhdWx0OnM9ITF9cmV0dXJuIHN9fWNsYXNzIEVlIGV4dGVuZHMgRXJyb3J7X3N0YXR1c0NvZGU7X2hlYWRlcnM7Z2V0IGhlYWRlcnMoKXtyZXR1cm4gdGhpcy5faGVhZGVyc31nZXQgc3RhdHVzQ29kZSgpe3JldHVybiB0aGlzLl9zdGF0dXNDb2RlfWNvbnN0cnVjdG9yKHQsaSxlKXtzdXBlcihpKSx0aGlzLl9zdGF0dXNDb2RlPXQsdGhpcy5faGVhZGVycz1lfX1jbGFzcyBBZXthc3luYyBnZXRSZXNwb25zZSh0KXtjb25zdCBpPXQuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIiksZT1pPy5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIik7bGV0IHM7Y29uc3QgYT17fTtpZih0LmhlYWRlcnMuZm9yRWFjaCgoKHQsaSk9PnthW2ldPXR9KSksZSYmdC5vayYmMjA0IT09dC5zdGF0dXMmJihzPWF3YWl0IHQuanNvbigpKSx0LnN0YXR1cz49NDAwKXtjb25zdCBpPWF3YWl0IHQudGV4dCgpO3Rocm93IG5ldyBFZSh0LnN0YXR1cyxpfHx0LnN0YXR1c1RleHQsYSl9cmV0dXJue3N0YXR1czp0LnN0YXR1cyxib2R5OnMsaGVhZGVyczphfX1hc3luYyBnZXRBc3luYyh0LHMpe2NvbnN0IGE9bmV3IGUsbz1zZXRUaW1lb3V0KCgoKT0+YS5hYm9ydCgpKSwxZTMqKHM/LnRpbWVvdXQ/cy50aW1lb3V0OjIpKTt0cnl7Y29uc3QgZT1hd2FpdCBpKHQse21ldGhvZDpcIkdFVFwiLGhlYWRlcnM6cz8uaGVhZGVycyxzaWduYWw6YS5zaWduYWwsa2VlcGFsaXZlOiEwLG5leHQ6cz8ubmV4dEZldGNoQ29uZmlnfSk7cmV0dXJuIHRoaXMuZ2V0UmVzcG9uc2UoZSl9ZmluYWxseXtjbGVhclRpbWVvdXQobyl9fWFzeW5jIHBvc3RBc3luYyh0LHMpe2NvbnN0IGE9bmV3IGUsbz1zZXRUaW1lb3V0KCgoKT0+YS5hYm9ydCgpKSxzLnRpbWVvdXQ/MWUzKnMudGltZW91dDoyZTMpO3RyeXtjb25zdCBlPWF3YWl0IGkodCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6cy5oZWFkZXJzLGJvZHk6SlNPTi5zdHJpbmdpZnkocy5ib2R5KSxzaWduYWw6YS5zaWduYWwsa2VlcGFsaXZlOiEwLG5leHQ6cz8ubmV4dEZldGNoQ29uZmlnfSk7cmV0dXJuIHRoaXMuZ2V0UmVzcG9uc2UoZSl9ZmluYWxseXtjbGVhclRpbWVvdXQobyl9fX1jbGFzcyBTZSBleHRlbmRzIHlle2dldENhbXBhaWduc0FzeW5jKHQpe3JldHVybiBzdXBlci5nZXRDYW1wYWlnbnNBc3luYyh0KX19Y2xhc3Mga2UgZXh0ZW5kcyBoaXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih7Li4udCxkZWNpc2lvbk1vZGU6VXQuQlVDS0VUSU5HX0VER0V9KX19Y2xhc3MgUmV7X2h0dHBDbGllbnQ7X2NvbmZpZztfdHJhY2tpbmdNYW5hZ2VyO19pbnRlcnZhbElEO19sYXN0TW9kaWZpZWQ7X2lzUG9vbGluZztfRUFJQ29uZmlnO19idWNrZXRpbmdDb250ZW50O19sYXN0QnVja2V0aW5nVGltZXN0YW1wO19mbGFnc2hpcEluc3RhbmNlSWQ7Y29uc3RydWN0b3Ioe2h0dHBDbGllbnQ6dCxzZGtDb25maWc6aSx0cmFja2luZ01hbmFnZXI6ZSxmbGFnc2hpcEluc3RhbmNlSWQ6c30pe3RoaXMuX2h0dHBDbGllbnQ9dCx0aGlzLl9jb25maWc9aSx0aGlzLl90cmFja2luZ01hbmFnZXI9ZSx0aGlzLl9idWNrZXRpbmdDb250ZW50PWkuaW5pdGlhbEJ1Y2tldGluZyx0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQ9cyx0aGlzLl9sYXN0TW9kaWZpZWQ9XCJcIn1yZXNldFNkaygpe3RoaXMuX2ludGVydmFsSUQmJmNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJRCksdGhpcy5faXNQb29saW5nPSExLHRoaXMuX2ludGVydmFsSUQ9dm9pZCAwLHRoaXMuX2xhc3RNb2RpZmllZD1cIlwiLHRoaXMuX2J1Y2tldGluZ0NvbnRlbnQ9dm9pZCAwLHRoaXMuX0VBSUNvbmZpZz12b2lkIDAsanQodGhpcy5fY29uZmlnLFwiQnVja2V0aW5nIHBvbGxpbmcgcHJvY2VzcyBoYXMgYmVlbiBzdG9wcGVkXCIsaHQpfWdldEJ1Y2tldGluZ0NvbnRlbnQoKXtyZXR1cm4gdGhpcy5fYnVja2V0aW5nQ29udGVudH1hc3luYyBpbml0U2RrKCl7Y29uc3QgdD0xZTMqdGhpcy5fY29uZmlnLnBvbGxpbmdJbnRlcnZhbDtqdCh0aGlzLl9jb25maWcsXCJCdWNrZXRpbmcgcG9sbGluZyBwcm9jZXNzIGhhcyBiZWVuIHN0YXJ0ZWRcIixodCksYXdhaXQgdGhpcy5mZXRjaEJ1Y2tldGluZ0ZpbGUoKSwwIT09dCYmKHRoaXMuX2ludGVydmFsSUQ9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5mZXRjaEJ1Y2tldGluZ0ZpbGUoKX0pLHQpKX1nZXRFQUlDb25maWcoKXtyZXR1cm4gdGhpcy5fRUFJQ29uZmlnfXNlbmRUcm91Ymxlc2hvb3RpbmcodCxpLGUsYSl7Y29uc3Qgbz1uZXcgX2koe3Zpc2l0b3JJZDp0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZCxsYWJlbDpkaS5TREtfQlVDS0VUSU5HX0ZJTEUsdHJhZmZpYzowLGxvZ0xldmVsOnMuSU5GTyxjb25maWc6dGhpcy5fY29uZmlnLGh0dHBSZXF1ZXN0SGVhZGVyczp0LGh0dHBSZXF1ZXN0TWV0aG9kOlwiUE9TVFwiLGh0dHBSZXF1ZXN0VXJsOmksaHR0cFJlc3BvbnNlQm9keTplPy5ib2R5LGh0dHBSZXNwb25zZUhlYWRlcnM6ZT8uaGVhZGVycyxodHRwUmVzcG9uc2VDb2RlOmU/LnN0YXR1cyxodHRwUmVzcG9uc2VUaW1lOkRhdGUubm93KCktYX0pO3RoaXMuX3RyYWNraW5nTWFuYWdlci5pbml0VHJvdWJsZXNob290aW5nSGl0PW99c2VuZEVycm9yVHJvdWJsZXNob290aW5nKHQsaSxlLGEpe2NvbnN0IG89bmV3IF9pKHt2aXNpdG9ySWQ6dGhpcy5fZmxhZ3NoaXBJbnN0YW5jZUlkLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQsbGFiZWw6ZGkuU0RLX0JVQ0tFVElOR19GSUxFX0VSUk9SLHRyYWZmaWM6MCxsb2dMZXZlbDpzLklORk8sY29uZmlnOnRoaXMuX2NvbmZpZyxodHRwUmVxdWVzdEhlYWRlcnM6dCxodHRwUmVxdWVzdE1ldGhvZDpcIlBPU1RcIixodHRwUmVxdWVzdFVybDppLGh0dHBSZXNwb25zZUJvZHk6ZT8ubWVzc2FnZSxodHRwUmVzcG9uc2VIZWFkZXJzOmU/LmhlYWRlcnMsaHR0cFJlc3BvbnNlQ29kZTplPy5zdGF0dXNDb2RlLGh0dHBSZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1hfSk7dGhpcy5fdHJhY2tpbmdNYW5hZ2VyLmluaXRUcm91Ymxlc2hvb3RpbmdIaXQ9b31oYW5kbGVQb2xsaW5nUmVzcG9uc2UodCl7Y29uc3R7cmVzcG9uc2U6aX09dDsyMDA9PT1pLnN0YXR1cz8oSnQodGhpcy5fY29uZmlnLGh0LFwiUG9sbGluZyBldmVudCB3aXRoIGNvZGUgc3RhdHVzIDIwMCA6IHswfVwiLGkuYm9keSksdGhpcy5fYnVja2V0aW5nQ29udGVudD1pLmJvZHksdGhpcy5fbGFzdEJ1Y2tldGluZ1RpbWVzdGFtcD0obmV3IERhdGUpLnRvSVNPU3RyaW5nKCksdGhpcy5fRUFJQ29uZmlnPXtlYWlDb2xsZWN0RW5hYmxlZDohIXRoaXMuX2J1Y2tldGluZ0NvbnRlbnQ/LmFjY291bnRTZXR0aW5ncz8uZWFpQWN0aXZhdGlvbkVuYWJsZWQsZWFpQWN0aXZhdGlvbkVuYWJsZWQ6ISF0aGlzLl9idWNrZXRpbmdDb250ZW50Py5hY2NvdW50U2V0dGluZ3M/LmVhaUNvbGxlY3RFbmFibGVkfSx0aGlzLnNlbmRUcm91Ymxlc2hvb3RpbmcodC5oZWFkZXJzLHQudXJsLGksdC5ub3cpKTozMDQ9PT1pLnN0YXR1cyYmWXQodGhpcy5fY29uZmlnLFwiUG9sbGluZyBldmVudCB3aXRoIGNvZGUgc3RhdHVzIDMwNFwiLGh0KTtjb25zdCBlPWk/LmhlYWRlcnM/LltcImxhc3QtbW9kaWZpZWRcIl07ZSYmKHRoaXMuX2xhc3RNb2RpZmllZCE9PWUmJnRoaXMuX2NvbmZpZy5vbkJ1Y2tldGluZ1VwZGF0ZWQmJnRoaXMuX2NvbmZpZy5vbkJ1Y2tldGluZ1VwZGF0ZWQobmV3IERhdGUoZSkpLHRoaXMuX2xhc3RNb2RpZmllZD1lKSx0aGlzLl9pc1Bvb2xpbmc9ITF9YXN5bmMgZmV0Y2hCdWNrZXRpbmdGaWxlKCl7aWYodGhpcy5faXNQb29saW5nKXJldHVybjt0aGlzLl9pc1Bvb2xpbmc9ITA7Y29uc3QgdD1xdChcImh0dHBzOi8vY2RuLmZsYWdzaGlwLmlvL3swfS9idWNrZXRpbmcuanNvblwiLHRoaXMuX2NvbmZpZy5lbnZJZCksaT17W290XTpvLm5hbWUsW250XTpvLnZlcnNpb24sW2F0XTpydH0sZT1EYXRlLm5vdygpO3RyeXt0aGlzLl9sYXN0TW9kaWZpZWQmJihpW1wiaWYtbW9kaWZpZWQtc2luY2VcIl09dGhpcy5fbGFzdE1vZGlmaWVkKTtjb25zdCBzPWF3YWl0IHRoaXMuX2h0dHBDbGllbnQuZ2V0QXN5bmModCx7aGVhZGVyczppLHRpbWVvdXQ6dGhpcy5fY29uZmlnLnRpbWVvdXQsbmV4dEZldGNoQ29uZmlnOnRoaXMuX2NvbmZpZy5uZXh0RmV0Y2hDb25maWd9KTt0aGlzLmhhbmRsZVBvbGxpbmdSZXNwb25zZSh7cmVzcG9uc2U6cyxoZWFkZXJzOmksdXJsOnQsbm93OmV9KX1jYXRjaChzKXt0aGlzLl9pc1Bvb2xpbmc9ITEsUXQodGhpcy5fY29uZmlnLGlpKFwiUG9sbGluZyBldmVudCBmYWlsZWQgd2l0aCBlcnJvclwiLHt1cmw6dCxoZWFkZXJzOmksZXJyb3I6cyxuZXh0RmV0Y2hDb25maWc6dGhpcy5fY29uZmlnLm5leHRGZXRjaENvbmZpZyxtZXRob2Q6XCJHRVRcIixkdXJhdGlvbjpEYXRlLm5vdygpLWV9KSxodCksdGhpcy5zZW5kRXJyb3JUcm91Ymxlc2hvb3RpbmcoaSx0LHMsZSl9fX1jbGFzcyBOZXtfaHR0cENsaWVudDtfY29uZmlnO190cmFja2luZ01hbmFnZXI7X2J1Y2tldGluZ0NvbnRlbnQ7X2ZsYWdzaGlwSW5zdGFuY2VJZDtjb25zdHJ1Y3Rvcih7aHR0cENsaWVudDp0LHNka0NvbmZpZzppLHRyYWNraW5nTWFuYWdlcjplLGZsYWdzaGlwSW5zdGFuY2VJZDpzfSl7dGhpcy5faHR0cENsaWVudD10LHRoaXMuX2NvbmZpZz1pLHRoaXMuX3RyYWNraW5nTWFuYWdlcj1lLHRoaXMuX2J1Y2tldGluZ0NvbnRlbnQ9aS5pbml0aWFsQnVja2V0aW5nLHRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZD1zfXJlc2V0U2RrKCl7fWdldEJ1Y2tldGluZ0NvbnRlbnQoKXtyZXR1cm4gdGhpcy5fYnVja2V0aW5nQ29udGVudH1hc3luYyBpbml0U2RrKCl7fWdldEVBSUNvbmZpZygpe319Y2xhc3MgRGV7X2h0dHBDbGllbnQ7X2NvbmZpZztfdHJhY2tpbmdNYW5hZ2VyO19FQUlDb25maWc7X2ZsYWdzaGlwSW5zdGFuY2VJZDtjb25zdHJ1Y3Rvcih7aHR0cENsaWVudDp0LHNka0NvbmZpZzppLHRyYWNraW5nTWFuYWdlcjplLGZsYWdzaGlwSW5zdGFuY2VJZDpzfSl7dGhpcy5faHR0cENsaWVudD10LHRoaXMuX2NvbmZpZz1pLHRoaXMuX3RyYWNraW5nTWFuYWdlcj1lLHRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZD1zfXJlc2V0U2RrKCl7dGhpcy5fRUFJQ29uZmlnPXZvaWQgMH1nZXRCdWNrZXRpbmdDb250ZW50KCl7fXNlbmRUcm91Ymxlc2hvb3RpbmcodCxpLGUsYSl7Y29uc3Qgbz1uZXcgX2koe2ZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQsbGFiZWw6ZGkuQUNDT1VOVF9TRVRUSU5HUyxsb2dMZXZlbDpzLkRFQlVHLHZpc2l0b3JJZDp0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQsY29uZmlnOnRoaXMuX2NvbmZpZyxhY2NvdW50U2V0dGluZ3M6dCx0cmFmZmljOjAsaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6aSxodHRwUmVzcG9uc2VIZWFkZXJzOmU/LmhlYWRlcnMsaHR0cFJlc3BvbnNlQ29kZTplPy5zdGF0dXMsaHR0cFJlc3BvbnNlVGltZTpEYXRlLm5vdygpLWF9KTt0aGlzLl90cmFja2luZ01hbmFnZXIuaW5pdFRyb3VibGVzaG9vdGluZ0hpdD1vfXNlbmRFcnJvclRyb3VibGVzaG9vdGluZyh0LGksZSl7Y29uc3QgYT1uZXcgX2koe3Zpc2l0b3JJZDp0aGlzLl9mbGFnc2hpcEluc3RhbmNlSWQsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMuX2ZsYWdzaGlwSW5zdGFuY2VJZCxsYWJlbDpkaS5BQ0NPVU5UX1NFVFRJTkdTX0VSUk9SLHRyYWZmaWM6MCxsb2dMZXZlbDpzLkVSUk9SLGNvbmZpZzp0aGlzLl9jb25maWcsaHR0cFJlcXVlc3RNZXRob2Q6XCJQT1NUXCIsaHR0cFJlcXVlc3RVcmw6dCxodHRwUmVzcG9uc2VCb2R5Omk/Lm1lc3NhZ2UsaHR0cFJlc3BvbnNlSGVhZGVyczppPy5oZWFkZXJzLGh0dHBSZXNwb25zZUNvZGU6aT8uc3RhdHVzLGh0dHBSZXNwb25zZVRpbWU6RGF0ZS5ub3coKS1lfSk7dGhpcy5fdHJhY2tpbmdNYW5hZ2VyLmluaXRUcm91Ymxlc2hvb3RpbmdIaXQ9YX1hc3luYyBpbml0U2RrKCl7Y29uc3QgdD1EYXRlLm5vdygpLGk9cXQoXCJodHRwczovL2Nkbi5mbGFnc2hpcC5pby97MH0vYWNjb3VudFNldHRpbmdzLmpzb25cIix0aGlzLl9jb25maWcuZW52SWQpO3RyeXtjb25zdCBlPWF3YWl0IHRoaXMuX2h0dHBDbGllbnQuZ2V0QXN5bmMoaSk7dGhpcy5fRUFJQ29uZmlnPWUuYm9keS5hY2NvdW50U2V0dGluZ3MsdGhpcy5zZW5kVHJvdWJsZXNob290aW5nKGUuYm9keS5hY2NvdW50U2V0dGluZ3MsaSxlLHQpfWNhdGNoKGUpe0t0KHRoaXMuX2NvbmZpZyxcIkVycm9yIHdoaWxlIGZldGNoaW5nIEVBSSBjb25maWc6IHswfVwiLGU/Lm1lc3NhZ2V8fGUpLHRoaXMuc2VuZEVycm9yVHJvdWJsZXNob290aW5nKGksZSx0KX19Z2V0RUFJQ29uZmlnKCl7cmV0dXJuIHRoaXMuX0VBSUNvbmZpZ319Y2xhc3MgYmV7X0VBSVNjb3JlO19FQUlTY29yZUNoZWNrZWQ7X2h0dHBDbGllbnQ7X3Nka0NvbmZpZztfZUFJQ29uZmlnO19pc0VBSURhdGFDb2xsZWN0aW5nO19mZXRjaEVBSVNjb3JlUHJvbWlzZTtfc3RhcnRTY29yaW5nVGltZXN0YW1wO19zY29yaW5nSW50ZXJ2YWxJZDtfb25FQUlDb2xsZWN0U3RhdHVzQ2hhbmdlO192aXNpdG9yO19zdGFydENvbGxlY3RpbmdFQUlEYXRhVGltZXN0YW1wO2NvbnN0cnVjdG9yKHtodHRwQ2xpZW50OnQsc2RrQ29uZmlnOmksZUFJQ29uZmlnOmV9KXt0aGlzLl9FQUlTY29yZUNoZWNrZWQ9ITEsdGhpcy5faHR0cENsaWVudD10LHRoaXMuX3Nka0NvbmZpZz1pLHRoaXMuX2VBSUNvbmZpZz1lLHRoaXMuX2lzRUFJRGF0YUNvbGxlY3Rpbmc9ITF9aW5pdCh0KXt0aGlzLl92aXNpdG9yPXR9b25FQUlDb2xsZWN0U3RhdHVzQ2hhbmdlKHQpe3RoaXMuX29uRUFJQ29sbGVjdFN0YXR1c0NoYW5nZT10fWdldCBFQUlTY29yZSgpe3JldHVybiB0aGlzLl9FQUlTY29yZX1nZXQgRUFJU2NvcmVDaGVja2VkKCl7cmV0dXJuIHRoaXMuX0VBSVNjb3JlQ2hlY2tlZH1zZXRJc0VBSURhdGFDb2xsZWN0ZWQodCl7cmV0dXJuIHRoaXMuX3Zpc2l0b3Iuc2V0SXNFQUlEYXRhQ29sbGVjdGVkKHQpfWlzRUFJRGF0YUNvbGxlY3RlZCgpe3JldHVybiB0aGlzLl92aXNpdG9yLmlzRUFJRGF0YUNvbGxlY3RlZCgpfXNlbmRFQUlTY29yZVRyb3VibGVzaG9vdGluZyh0LGkpe2NvbnN0IGU9bmV3IF9pKHtmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy5fdmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCx2aXNpdG9ySWQ6dGhpcy5fdmlzaXRvci52aXNpdG9ySWQsbGFiZWw6ZGkuRU1PVElPTl9BSV9TQ09SRV9GUk9NX0xPQ0FMX0NBQ0hFLGxvZ0xldmVsOnMuREVCVUcsZUFJU2NvcmU6dCxpc0VBSVNjb3JlRnJvbUxvY2FsQ2FjaGU6ITAsY29uZmlnOnRoaXMuX3Nka0NvbmZpZyxodHRwUmVxdWVzdFVybDppLHRyYWZmaWM6dGhpcy5fdmlzaXRvci50cmFmZmljfSk7dGhpcy5fdmlzaXRvci5zZW5kVHJvdWJsZXNob290aW5nKGUpfXNlbmRSZXF1ZXN0VHJvdWJsZXNob290aW5nKHQsaSxlLGE9XCJHRVRcIixvLG4pe2NvbnN0IHI9bmV3IF9pKHtmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy5fdmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCx2aXNpdG9ySWQ6dGhpcy5fdmlzaXRvci52aXNpdG9ySWQsbGFiZWw6aSxsb2dMZXZlbDpzLkRFQlVHLGhpdENvbnRlbnQ6byxlQUlTY29yZTpuLGh0dHBSZXNwb25zZUJvZHk6dC5ib2R5LGh0dHBSZXF1ZXN0TWV0aG9kOmEsaHR0cFJlcXVlc3RVcmw6ZSxodHRwUmVzcG9uc2VDb2RlOnQuc3RhdHVzLGh0dHBSZXNwb25zZUhlYWRlcnM6dC5oZWFkZXJzLHRyYWZmaWM6dGhpcy5fdmlzaXRvci50cmFmZmljLGNvbmZpZzp0aGlzLl9zZGtDb25maWd9KTt0aGlzLl92aXNpdG9yLnNlbmRUcm91Ymxlc2hvb3Rpbmcocil9c2VuZFJlcXVlc3RUcm91Ymxlc2hvb3RpbmdFcnJvcih0LGksZSxhKXtjb25zdCBvPW5ldyBfaSh7ZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMuX3Zpc2l0b3Iuc2RrSW5pdGlhbERhdGE/Lmluc3RhbmNlSWQsdmlzaXRvcklkOnRoaXMuX3Zpc2l0b3IudmlzaXRvcklkLGxhYmVsOmksbG9nTGV2ZWw6cy5FUlJPUixodHRwUmVxdWVzdE1ldGhvZDpcIkdFVFwiLGh0dHBSZXF1ZXN0VXJsOmUsaGl0Q29udGVudDphLHRyYWZmaWM6dGhpcy5fdmlzaXRvci50cmFmZmljLGh0dHBSZXNwb25zZUJvZHk6dD8ubWVzc2FnZSxodHRwUmVzcG9uc2VIZWFkZXJzOnQ/LmhlYWRlcnMsaHR0cFJlc3BvbnNlQ29kZTp0Py5zdGF0dXNDb2RlLGNvbmZpZzp0aGlzLl9zZGtDb25maWd9KTt0aGlzLl92aXNpdG9yLnNlbmRUcm91Ymxlc2hvb3Rpbmcobyl9c2VuZENvbGxlY3RpbmdUcm91Ymxlc2hvb3RpbmcodCxpLGUpe2NvbnN0IGE9bmV3IF9pKHtmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy5fdmlzaXRvci5zZGtJbml0aWFsRGF0YT8uaW5zdGFuY2VJZCx2aXNpdG9ySWQ6dGhpcy5fdmlzaXRvci52aXNpdG9ySWQsbGFiZWw6aSxsb2dMZXZlbDpzLkRFQlVHLGVBSURhdGFUaW1lc3RhbXA6bmV3IERhdGUodCkudG9JU09TdHJpbmcoKSxjb25maWc6dGhpcy5fc2RrQ29uZmlnLGVBSVNjb3JlOmUsdHJhZmZpYzp0aGlzLl92aXNpdG9yLnRyYWZmaWN9KTt0aGlzLl92aXNpdG9yLnNlbmRUcm91Ymxlc2hvb3RpbmcoYSl9c2VuZENvbGxlY3RpbmdVc2FnZUhpdCh0KXtjb25zdCBpPW5ldyB4aSh7dmlzaXRvcklkOnRoaXMuX3Zpc2l0b3Iuc2RrSW5pdGlhbERhdGE/Lmluc3RhbmNlSWQsbGFiZWw6dCxjb25maWc6dGhpcy5fc2RrQ29uZmlnLGxvZ0xldmVsOnMuREVCVUd9KTt0aGlzLl92aXNpdG9yLnNlbmRVc2FnZUhpdChpKX1hc3luYyBmZXRjaEVBSVNjb3JlKHQ9ITEpe2lmKCF0aGlzLl9lQUlDb25maWc/LmVhaUFjdGl2YXRpb25FbmFibGVkKXJldHVybjtpZih0aGlzLl9FQUlTY29yZUNoZWNrZWQpcmV0dXJuIHRoaXMuX0VBSVNjb3JlO2NvbnN0IGk9YXdhaXQgdGhpcy5fdmlzaXRvci5nZXRDYWNoZWRFQUlTY29yZSgpO2lmKGkpcmV0dXJuIHRoaXMuX0VBSVNjb3JlPWksdGhpcy5fRUFJU2NvcmVDaGVja2VkPSEwLHRoaXMuX3Zpc2l0b3IuY29udGV4dFtiXT10aGlzLl9FQUlTY29yZT8uZWFpPy5lYXMsdGhpcy5zZW5kRUFJU2NvcmVUcm91Ymxlc2hvb3RpbmcodGhpcy5fRUFJU2NvcmUpLHRoaXMuX0VBSVNjb3JlO2lmKHRoaXMuX2ZldGNoRUFJU2NvcmVQcm9taXNlKXJldHVybiBhd2FpdCB0aGlzLl9mZXRjaEVBSVNjb3JlUHJvbWlzZSx0aGlzLl9FQUlTY29yZTtjb25zdCBlPXRoaXMuX3Zpc2l0b3IudmlzaXRvcklkLHM9YCR7cXQoXCJodHRwczovL3VjLWluZm8uZmxhZ3NoaXAuaW8vdjEvc2VnbWVudHMvY2xpZW50cy97MH0vdmlzaXRvcnMvezF9XCIsdGhpcy5fc2RrQ29uZmlnLmVudklkLGUpfT9wYXJ0bmVyPWVhaSR7dD9gJnY9JHtEYXRlLm5vdygpfWA6XCJcIn1gO3RyeXt0aGlzLl9mZXRjaEVBSVNjb3JlUHJvbWlzZT10aGlzLl9odHRwQ2xpZW50LmdldEFzeW5jKHMpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hFQUlTY29yZVByb21pc2U7dGhpcy5fRUFJU2NvcmU9dC5ib2R5LHRoaXMuX0VBSVNjb3JlQ2hlY2tlZD0hMCx0aGlzLnNlbmRSZXF1ZXN0VHJvdWJsZXNob290aW5nKHQsZGkuRU1PVElPTl9BSV9TQ09SRSxzLFwiR0VUXCIsdm9pZCAwLHRoaXMuX0VBSVNjb3JlKSx0aGlzLl9FQUlTY29yZSYmKHRoaXMuX3Zpc2l0b3Iuc2V0Q2FjaGVkRUFJU2NvcmUodGhpcy5fRUFJU2NvcmUpLHRoaXMuX3Zpc2l0b3IudXBkYXRlQ29udGV4dChiLHRoaXMuX0VBSVNjb3JlPy5lYWk/LmVhcykpLEp0KHRoaXMuX3Nka0NvbmZpZyxELFwidmlzaXRvciB7MH0sIEVBSVNjb3JlIGZldGNoZWQ6IHsxfVwiLGUsdGhpcy5fRUFJU2NvcmUpfWNhdGNoKHQpe0t0KHRoaXMuX3Nka0NvbmZpZyxELFwidmlzaXRvciB7MH0sIEZhaWxlZCB0byBmZXRjaCBFQUlTY29yZTogezF9XCIsZSx0Lm1lc3NhZ2UpLHRoaXMuc2VuZFJlcXVlc3RUcm91Ymxlc2hvb3RpbmdFcnJvcih0LGRpLkVNT1RJT05fQUlfU0NPUkVfRVJST1Iscyl9ZmluYWxseXt0aGlzLl9mZXRjaEVBSVNjb3JlUHJvbWlzZT12b2lkIDB9cmV0dXJuIHRoaXMuX0VBSVNjb3JlfWFzeW5jIGNvbGxlY3RFQUlFdmVudHNBc3luYyh0KXtpZih0aGlzLl9pc0VBSURhdGFDb2xsZWN0aW5nfHwhdGhpcy5fZUFJQ29uZmlnPy5lYWlDb2xsZWN0RW5hYmxlZClyZXR1cm47Y29uc3QgaT1hd2FpdCB0aGlzLmlzRUFJRGF0YUNvbGxlY3RlZCgpO2lmKCF0aGlzLl9lQUlDb25maWcuZWFpQWN0aXZhdGlvbkVuYWJsZWQmJmkpcmV0dXJuO2lmKGF3YWl0IHRoaXMuZmV0Y2hFQUlTY29yZSgpKXJldHVybjtjb25zdCBlPXRoaXMuX3Zpc2l0b3IudmlzaXRvcklkO2F3YWl0IHRoaXMuc3RhcnRDb2xsZWN0aW5nRUFJRGF0YShlLHQpfWFzeW5jIHJlcG9ydFBhZ2VWaWV3KHQpe2lmKHRoaXMuX2lzRUFJRGF0YUNvbGxlY3RpbmcpcmV0dXJuIHRoaXMuc2VuZEVBSUV2ZW50KHQpfWFzeW5jIHNlbmRFQUlFdmVudCh0KXtjb25zdCBpPXQudG9BcGlLZXlzKCk7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5faHR0cENsaWVudC5wb3N0QXN5bmMoUix7Ym9keTppLGhlYWRlcnM6e1thdF06cnR9fSkscz1cIlBBR0VWSUVXXCI9PT1pLnQ/ZGkuRU1PVElPTl9BSV9QQUdFX1ZJRVc6ZGkuRU1PVElPTl9BSV9WSVNJVE9SX0VWRU5UO3RoaXMuc2VuZFJlcXVlc3RUcm91Ymxlc2hvb3RpbmcoZSxzLFIsXCJQT1NUXCIsdC50b0FwaUtleXMoKSksSnQodGhpcy5fc2RrQ29uZmlnLE4sXCJFbW90aW9uIEFJIGV2ZW50IHNlbnQ6IHswfVwiLHQudG9BcGlLZXlzKCkpfWNhdGNoKHQpe2NvbnN0IGU9XCJQQUdFVklFV1wiPT09aS50P2RpLkVNT1RJT05fQUlfUEFHRV9WSUVXX0VSUk9SOmRpLkVNT1RJT05fQUlfVklTSVRPUl9FVkVOVF9FUlJPUjt0aGlzLnNlbmRSZXF1ZXN0VHJvdWJsZXNob290aW5nRXJyb3IodCxlLFIsaSksS3QodGhpcy5fc2RrQ29uZmlnLE4sXCJGYWlsZWQgdG8gc2VuZCBFbW90aW9uIEFJIGV2ZW50OiB7MH1cIix0Lm1lc3NhZ2UpfX1maW5hbGl6ZURhdGFDb2xsZWN0aW9uKHQpe3RoaXMuX3Njb3JpbmdJbnRlcnZhbElkJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl9zY29yaW5nSW50ZXJ2YWxJZCksdGhpcy5fc2NvcmluZ0ludGVydmFsSWQ9dm9pZCAwKSx0aGlzLl9pc0VBSURhdGFDb2xsZWN0aW5nPSExLHRoaXMuc2V0SXNFQUlEYXRhQ29sbGVjdGVkKHQpfXN0b3BDb2xsZWN0aW5nRUFJRGF0YSgpe2lmKHRoaXMuc2VuZENvbGxlY3RpbmdUcm91Ymxlc2hvb3RpbmcoRGF0ZS5ub3coKSxkaS5FTU9USU9OX0FJX1NUT1BfQ09MTEVDVElORyksdGhpcy5zZW5kQ29sbGVjdGluZ1VzYWdlSGl0KGRpLkVNT1RJT05fQUlfU1RPUF9DT0xMRUNUSU5HKSx0aGlzLnJlbW92ZUxpc3RlbmVycygpLCF0aGlzLl9lQUlDb25maWc/LmVhaUFjdGl2YXRpb25FbmFibGVkKXJldHVybiB0aGlzLl9pc0VBSURhdGFDb2xsZWN0aW5nPSExLHZvaWQgdGhpcy5zZXRJc0VBSURhdGFDb2xsZWN0ZWQoITApO3RoaXMuX3N0YXJ0U2NvcmluZ1RpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuc2VuZENvbGxlY3RpbmdUcm91Ymxlc2hvb3RpbmcodGhpcy5fc3RhcnRTY29yaW5nVGltZXN0YW1wLGRpLkVNT1RJT05fQUlfU1RBUlRfU0NPUklORyksdGhpcy5fc2NvcmluZ0ludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKGFzeW5jKCk9PntpZihEYXRlLm5vdygpLXRoaXMuX3N0YXJ0U2NvcmluZ1RpbWVzdGFtcD4xMmU0KXJldHVybiB0aGlzLnNlbmRDb2xsZWN0aW5nVHJvdWJsZXNob290aW5nKERhdGUubm93KCksZGkuRU1PVElPTl9BSV9TQ09SSU5HX0ZBSUxFRCksdm9pZCB0aGlzLmZpbmFsaXplRGF0YUNvbGxlY3Rpb24oITEpO3RoaXMuX0VBSVNjb3JlQ2hlY2tlZD0hMTtjb25zdCB0PWF3YWl0IHRoaXMuZmV0Y2hFQUlTY29yZSghMCk7dCYmKHRoaXMuc2VuZENvbGxlY3RpbmdUcm91Ymxlc2hvb3RpbmcoRGF0ZS5ub3coKSxkaS5FTU9USU9OX0FJX1NDT1JJTkdfU1VDQ0VTUyx0KSx0aGlzLmZpbmFsaXplRGF0YUNvbGxlY3Rpb24oITApKX0pLDVlMyl9YXN5bmMgcmVwb3J0VmlzaXRvckV2ZW50KHQpe2lmKCF0aGlzLl9pc0VBSURhdGFDb2xsZWN0aW5nKXJldHVybjtjb25zdCBpPURhdGUubm93KCktdGhpcy5fc3RhcnRDb2xsZWN0aW5nRUFJRGF0YVRpbWVzdGFtcDtpPD0zZTQ/dGhpcy5zZW5kRUFJRXZlbnQodCk6aTw9MTJlND8odGhpcy5zZW5kRUFJRXZlbnQodCksdGhpcy5zdG9wQ29sbGVjdGluZ0VBSURhdGEoKSk6KHRoaXMucmVtb3ZlTGlzdGVuZXJzKCksdGhpcy5faXNFQUlEYXRhQ29sbGVjdGluZz0hMSx0aGlzLnNldElzRUFJRGF0YUNvbGxlY3RlZCghMSkpfX1jbGFzcyBPZXtfY3VzdG9tZXJBY2NvdW50SWQ7X3Zpc2l0b3JJZDtfaGFzQWRCbG9ja2VyO19zY3JlZW5EZXB0aDtfc2NyZWVuU2l6ZTtfZG9Ob3RUcmFjaztfZm9udHM7X2hhc0Zha2VCcm93c2VySW5mb3M7X2hhc0Zha2VMYW5ndWFnZUluZm9zO19oYXNGYWtlT3NJbmZvcztfaGFzRmFrZVJlc29sdXRpb25JbmZvcztfdXNlckxhbmd1YWdlO19kZXZpY2VDYXRlZ29yeTtfcGl4ZWxSYXRpbztfcGx1Z2lucztfZG9jdW1lbnRSZWZlcmVyO192aWV3cG9ydFNpemU7X3RvdWNoU3VwcG9ydDtfY3VycmVudFVybDtfdXNlckFnZW50O19jdXN0b21lclVzZXJJZDtfdGltZXpvbmVPZmZzZXQ7X2V2ZW50Q2F0ZWdvcnk7Z2V0IGN1c3RvbWVyQWNjb3VudElkKCl7cmV0dXJuIHRoaXMuX2N1c3RvbWVyQWNjb3VudElkfWdldCB2aXNpdG9ySWQoKXtyZXR1cm4gdGhpcy5fdmlzaXRvcklkfWdldCBoYXNBZEJsb2NrZXIoKXtyZXR1cm4gdGhpcy5faGFzQWRCbG9ja2VyfWdldCBzY3JlZW5EZXB0aCgpe3JldHVybiB0aGlzLl9zY3JlZW5EZXB0aH1nZXQgc2NyZWVuU2l6ZSgpe3JldHVybiB0aGlzLl9zY3JlZW5TaXplfWdldCBkb05vdFRyYWNrKCl7cmV0dXJuIHRoaXMuX2RvTm90VHJhY2t9Z2V0IGZvbnRzKCl7cmV0dXJuIHRoaXMuX2ZvbnRzfWdldCBoYXNGYWtlQnJvd3NlckluZm9zKCl7cmV0dXJuIHRoaXMuX2hhc0Zha2VCcm93c2VySW5mb3N9Z2V0IGhhc0Zha2VMYW5ndWFnZUluZm9zKCl7cmV0dXJuIHRoaXMuX2hhc0Zha2VMYW5ndWFnZUluZm9zfWdldCBoYXNGYWtlT3NJbmZvcygpe3JldHVybiB0aGlzLl9oYXNGYWtlT3NJbmZvc31nZXQgaGFzRmFrZVJlc29sdXRpb25JbmZvcygpe3JldHVybiB0aGlzLl9oYXNGYWtlUmVzb2x1dGlvbkluZm9zfWdldCB1c2VyTGFuZ3VhZ2UoKXtyZXR1cm4gdGhpcy5fdXNlckxhbmd1YWdlfWdldCBkZXZpY2VDYXRlZ29yeSgpe3JldHVybiB0aGlzLl9kZXZpY2VDYXRlZ29yeX1nZXQgcGl4ZWxSYXRpbygpe3JldHVybiB0aGlzLl9waXhlbFJhdGlvfWdldCBwbHVnaW5zKCl7cmV0dXJuIHRoaXMuX3BsdWdpbnN9Z2V0IGRvY3VtZW50UmVmZXJlcigpe3JldHVybiB0aGlzLl9kb2N1bWVudFJlZmVyZXJ9Z2V0IHZpZXdwb3J0U2l6ZSgpe3JldHVybiB0aGlzLl92aWV3cG9ydFNpemV9Z2V0IHRvdWNoU3VwcG9ydCgpe3JldHVybiB0aGlzLl90b3VjaFN1cHBvcnR9Z2V0IGN1cnJlbnRVcmwoKXtyZXR1cm4gdGhpcy5fY3VycmVudFVybH1nZXQgdXNlckFnZW50KCl7cmV0dXJuIHRoaXMuX3VzZXJBZ2VudH1nZXQgY3VzdG9tZXJVc2VySWQoKXtyZXR1cm4gdGhpcy5fY3VzdG9tZXJVc2VySWR9Z2V0IHRpbWV6b25lT2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3RpbWV6b25lT2Zmc2V0fWdldCBldmVudENhdGVnb3J5KCl7cmV0dXJuIHRoaXMuX2V2ZW50Q2F0ZWdvcnl9Y29uc3RydWN0b3Ioe2N1c3RvbWVyQWNjb3VudElkOnQsdmlzaXRvcklkOmksaGFzQWRCbG9ja2VyOmUsc2NyZWVuRGVwdGg6cyxzY3JlZW5TaXplOmEsZG9Ob3RUcmFjazpvLGZvbnRzOm4saGFzRmFrZUJyb3dzZXJJbmZvczpyLGhhc0Zha2VMYW5ndWFnZUluZm9zOmgsaGFzRmFrZU9zSW5mb3M6YyxoYXNGYWtlUmVzb2x1dGlvbkluZm9zOmcsdXNlckxhbmd1YWdlOmQsZGV2aWNlQ2F0ZWdvcnk6bCxwaXhlbFJhdGlvOnUscGx1Z2luczpmLGRvY3VtZW50UmVmZXJlcjpJLHZpZXdwb3J0U2l6ZTpwLHRvdWNoU3VwcG9ydDpfLGN1cnJlbnRVcmw6dix1c2VyQWdlbnQ6bSxjdXN0b21lclVzZXJJZDpDLHRpbWV6b25lT2Zmc2V0OlQsZXZlbnRDYXRlZ29yeTp5fSl7dGhpcy5fY3VzdG9tZXJBY2NvdW50SWQ9dCx0aGlzLl92aXNpdG9ySWQ9aSx0aGlzLl9oYXNBZEJsb2NrZXI9ZSx0aGlzLl9zY3JlZW5EZXB0aD1zLHRoaXMuX3NjcmVlblNpemU9YSx0aGlzLl9kb05vdFRyYWNrPW8sdGhpcy5fZm9udHM9bix0aGlzLl9oYXNGYWtlQnJvd3NlckluZm9zPXIsdGhpcy5faGFzRmFrZUxhbmd1YWdlSW5mb3M9aCx0aGlzLl9oYXNGYWtlT3NJbmZvcz1jLHRoaXMuX2hhc0Zha2VSZXNvbHV0aW9uSW5mb3M9Zyx0aGlzLl91c2VyTGFuZ3VhZ2U9ZCx0aGlzLl9kZXZpY2VDYXRlZ29yeT1sLHRoaXMuX3BpeGVsUmF0aW89dSx0aGlzLl9wbHVnaW5zPWYsdGhpcy5fZG9jdW1lbnRSZWZlcmVyPUksdGhpcy5fdmlld3BvcnRTaXplPXAsdGhpcy5fdG91Y2hTdXBwb3J0PV8sdGhpcy5fY3VycmVudFVybD12LHRoaXMuX3VzZXJBZ2VudD1tLHRoaXMuX2N1c3RvbWVyVXNlcklkPUMsdGhpcy5fdGltZXpvbmVPZmZzZXQ9VCx0aGlzLl9ldmVudENhdGVnb3J5PXl9dG9BcGlLZXlzKCl7Y29uc3QgdD17Y2lkOnRoaXMuX2N1c3RvbWVyQWNjb3VudElkLHZpZDp0aGlzLl92aXNpdG9ySWQsYWRiOnRoaXMuX2hhc0FkQmxvY2tlcixzZDp0aGlzLl9zY3JlZW5EZXB0aCxzcjp0aGlzLl9zY3JlZW5TaXplLGRudDp0aGlzLl9kb05vdFRyYWNrLGZudDp0aGlzLl9mb250cyxobGI6dGhpcy5faGFzRmFrZUJyb3dzZXJJbmZvcyxobGw6dGhpcy5faGFzRmFrZUxhbmd1YWdlSW5mb3MsaGxvOnRoaXMuX2hhc0Zha2VPc0luZm9zLGhscjp0aGlzLl9oYXNGYWtlUmVzb2x1dGlvbkluZm9zLHVsOnRoaXMuX3VzZXJMYW5ndWFnZSxkYzp0aGlzLl9kZXZpY2VDYXRlZ29yeSxweHI6dGhpcy5fcGl4ZWxSYXRpbyxkcjp0aGlzLl9kb2N1bWVudFJlZmVyZXIsdnA6dGhpcy5fdmlld3BvcnRTaXplLHRvZjp0aGlzLl90aW1lem9uZU9mZnNldCx0c3A6dGhpcy5fdG91Y2hTdXBwb3J0LGRsOnRoaXMuX2N1cnJlbnRVcmwsdWE6dGhpcy5fdXNlckFnZW50LGVjOnRoaXMuX2V2ZW50Q2F0ZWdvcnksdDpcIlBBR0VWSUVXXCJ9O3JldHVybiB0aGlzLl9wbHVnaW5zJiYodC5wbHU9dGhpcy5fcGx1Z2lucyksdGhpcy5fY3VzdG9tZXJVc2VySWQmJih0LmN1aWQ9dGhpcy5fY3VzdG9tZXJVc2VySWQpLHR9fXZhciB3ZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxQYWdlVmlldzpPZX0pO2NsYXNzIE1le19jdXN0b21lckFjY291bnRJZDtfdmlzaXRvcklkO19jdXJyZW50VXJsO19jbGlja1BhdGg7X2NsaWNrUG9zaXRpb247X3NjcmVlblNpemU7X3Njcm9sbFBvc2l0aW9uO2dldCBjdXN0b21lckFjY291bnRJZCgpe3JldHVybiB0aGlzLl9jdXN0b21lckFjY291bnRJZH1nZXQgdmlzaXRvcklkKCl7cmV0dXJuIHRoaXMuX3Zpc2l0b3JJZH1nZXQgY3VycmVudFVybCgpe3JldHVybiB0aGlzLl9jdXJyZW50VXJsfWdldCBjbGlja1BhdGgoKXtyZXR1cm4gdGhpcy5fY2xpY2tQYXRofWdldCBjbGlja1Bvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX2NsaWNrUG9zaXRpb259Z2V0IHNjcmVlblNpemUoKXtyZXR1cm4gdGhpcy5fc2NyZWVuU2l6ZX1nZXQgc2Nyb2xsUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsUG9zaXRpb259Y29uc3RydWN0b3Ioe2N1c3RvbWVyQWNjb3VudElkOnQsdmlzaXRvcklkOmksY3VycmVudFVybDplLGNsaWNrUGF0aDpzLGNsaWNrUG9zaXRpb246YSxzY3JlZW5TaXplOm8sc2Nyb2xsUG9zaXRpb246bn0pe3RoaXMuX2N1c3RvbWVyQWNjb3VudElkPXQsdGhpcy5fdmlzaXRvcklkPWksdGhpcy5fY3VycmVudFVybD1lLHRoaXMuX2NsaWNrUGF0aD1zLHRoaXMuX2NsaWNrUG9zaXRpb249YSx0aGlzLl9zY3JlZW5TaXplPW8sdGhpcy5fc2Nyb2xsUG9zaXRpb249bn10b0FwaUtleXMoKXtjb25zdCB0PXtjaWQ6dGhpcy5fY3VzdG9tZXJBY2NvdW50SWQsdmlkOnRoaXMuX3Zpc2l0b3JJZCxkbDp0aGlzLl9jdXJyZW50VXJsLHNyOnRoaXMuX3NjcmVlblNpemUsdDpcIlZJU0lUT1JFVkVOVFwifTtyZXR1cm4gdGhpcy5fY2xpY2tQYXRoJiYodC5jcD10aGlzLl9jbGlja1BhdGgpLHRoaXMuX2NsaWNrUG9zaXRpb24mJih0LmNwbz10aGlzLl9jbGlja1Bvc2l0aW9uKSx0aGlzLl9zY3JvbGxQb3NpdGlvbiYmKHQuc3A9dGhpcy5fc2Nyb2xsUG9zaXRpb24pLHR9fXZhciBIZSxWZSxGZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxWaXNpdG9yRXZlbnQ6TWV9KTtjbGFzcyB4ZSBleHRlbmRzIGJle29uU2Nyb2xsO29uTW91c2VNb3ZlO29uTW91c2VEb3duO29uTW91c2VVcDtvblBvcFN0YXRlO19vcmlnaW5hbFB1c2hTdGF0ZTtfb3JpZ2luYWxSZXBsYWNlU3RhdGU7X2NsaWNrUGF0aD1cIlwiO3Njcm9sbFRpbWVvdXRJZD1udWxsO3Njcm9sbEVuZERlbGF5PTIwMDtfY2xpY2tQYXRoVGltZW91dElkPW51bGw7X2xhc3RQYWdlVmlld0xvY2F0aW9uO2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX29yaWdpbmFsUHVzaFN0YXRlPXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSx0aGlzLl9vcmlnaW5hbFJlcGxhY2VTdGF0ZT13aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGV9Y2xlYW51cCgpe3RoaXMucmVtb3ZlTGlzdGVuZXJzKCksdGhpcy5faXNFQUlEYXRhQ29sbGVjdGluZz0hMSxjbGVhckludGVydmFsKHRoaXMuX3Njb3JpbmdJbnRlcnZhbElkKX1nZXREZXZpY2VDYXRlZ29yeSgpe2NvbnN0IHQ9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3JldHVybi9pcGhvbmV8aXBhZHxpcG9kLy50ZXN0KHQpP1wiaXBob25lXCI6L2FuZHJvaWQvLnRlc3QodCk/XCJhbmRyb2lkXCI6L3dpbmRvd3MgbnQvLnRlc3QodCk/XCJ3aW4zMlwiOi9tYWNpbnRvc2h8bWFjIG9zIHgvLnRlc3QodCk/XCJkYXJ3aW5cIjovbGludXgvLnRlc3QodCk/L2FybXY4bC8udGVzdCh0KT9cImxpbnV4IGFybXY4bFwiOlwibGludXhcIjpcInVua25vd25cIn1hc3luYyBwcm9jZXNzUGFnZVZpZXcodCl7aWYodGhpcy5fbGFzdFBhZ2VWaWV3TG9jYXRpb249PT13aW5kb3cubG9jYXRpb24uaHJlZilyZXR1cm47dGhpcy5fbGFzdFBhZ2VWaWV3TG9jYXRpb249d2luZG93LmxvY2F0aW9uLmhyZWY7Y29uc3QgaT1uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDAsZT1cIm9udG91Y2hzdGFydFwiaW4gd2luZG93LHM9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvd3x8XCJvbm1zZ2VzdHVyZWNoYW5nZVwiaW4gd2luZG93LGE9SlNPTi5zdHJpbmdpZnkoW2ksZSxzXSksbz1uZXcgT2Uoe3Zpc2l0b3JJZDp0LGN1c3RvbWVyQWNjb3VudElkOnRoaXMuX3Nka0NvbmZpZy5lbnZJZCxjdXJyZW50VXJsOndpbmRvdy5sb2NhdGlvbi5ocmVmLGhhc0FkQmxvY2tlcjohMSxzY3JlZW5EZXB0aDpgJHt3aW5kb3cuc2NyZWVuLmNvbG9yRGVwdGh9YCxzY3JlZW5TaXplOmAke3dpbmRvdy5pbm5lcldpZHRofSwke3dpbmRvdy5pbm5lckhlaWdodH07YCxkb05vdFRyYWNrOm5hdmlnYXRvci5kb05vdFRyYWNrfHxcInVuc3BlY2lmaWVkXCIsZm9udHM6XCJbXVwiLGhhc0Zha2VCcm93c2VySW5mb3M6ITEsaGFzRmFrZUxhbmd1YWdlSW5mb3M6ITEsaGFzRmFrZU9zSW5mb3M6ITEsaGFzRmFrZVJlc29sdXRpb25JbmZvczohMSx1c2VyTGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlLGRldmljZUNhdGVnb3J5OnRoaXMuZ2V0RGV2aWNlQ2F0ZWdvcnkoKSxwaXhlbFJhdGlvOndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLGRvY3VtZW50UmVmZXJlcjpkb2N1bWVudC5yZWZlcnJlcix2aWV3cG9ydFNpemU6YFske2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aH0sJHtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fV1gLHRpbWV6b25lT2Zmc2V0OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx0b3VjaFN1cHBvcnQ6YSxldmVudENhdGVnb3J5OlwiY2xpY2sgdHVubmVsIGF1dG9cIix1c2VyQWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH0pO2F3YWl0IHRoaXMucmVwb3J0UGFnZVZpZXcobyl9YXN5bmMgc3RhcnRDb2xsZWN0aW5nRUFJRGF0YSh0KXt0aGlzLl9pc0VBSURhdGFDb2xsZWN0aW5nPSEwLGF3YWl0IHRoaXMucHJvY2Vzc1BhZ2VWaWV3KHQpLHRoaXMuX3N0YXJ0Q29sbGVjdGluZ0VBSURhdGFUaW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLnNlbmRDb2xsZWN0aW5nVHJvdWJsZXNob290aW5nKHRoaXMuX3N0YXJ0Q29sbGVjdGluZ0VBSURhdGFUaW1lc3RhbXAsZGkuRU1PVElPTl9BSV9TVEFSVF9DT0xMRUNUSU5HKSx0aGlzLnNlbmRDb2xsZWN0aW5nVXNhZ2VIaXQoZGkuRU1PVElPTl9BSV9TVEFSVF9DT0xMRUNUSU5HKTtsZXQgaT1udWxsO3RoaXMub25TY3JvbGw9KCk9PnRoaXMuaGFuZGxlU2Nyb2xsKHQpLHRoaXMub25Nb3VzZU1vdmU9aT0+dGhpcy5oYW5kbGVNb3VzZU1vdmUoaSx0KSx0aGlzLm9uTW91c2VEb3duPSgpPT57aT1EYXRlLm5vdygpfSx0aGlzLm9uTW91c2VVcD1lPT57aWYoaSl7Y29uc3Qgcz1EYXRlLm5vdygpLWk7dGhpcy5oYW5kbGVDbGljayhlLHQscyksaT1udWxsfX0sdGhpcy5vblBvcFN0YXRlPSgpPT57dGhpcy5wcm9jZXNzUGFnZVZpZXcodCl9LG9pKCgoKT0+e3dpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZT0oLi4uaSk9Pnt0aGlzLl9vcmlnaW5hbFB1c2hTdGF0ZS5hcHBseSh3aW5kb3cuaGlzdG9yeSxpKSx0aGlzLnByb2Nlc3NQYWdlVmlldyh0KX0sd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlPSguLi5pKT0+e3RoaXMuX29yaWdpbmFsUmVwbGFjZVN0YXRlLmFwcGx5KHdpbmRvdy5oaXN0b3J5LGkpLHRoaXMucHJvY2Vzc1BhZ2VWaWV3KHQpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMub25TY3JvbGwpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm9uTW91c2VNb3ZlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5vbk1vdXNlRG93biksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm9uTW91c2VVcCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLHRoaXMub25Qb3BTdGF0ZSl9KSl9cmVtb3ZlTGlzdGVuZXJzKCl7b2koKCgpPT57d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm9uU2Nyb2xsKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMub25Nb3VzZURvd24pLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5vbk1vdXNlVXApLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIix0aGlzLm9uUG9wU3RhdGUpLHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZT10aGlzLl9vcmlnaW5hbFB1c2hTdGF0ZSx3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGU9dGhpcy5fb3JpZ2luYWxSZXBsYWNlU3RhdGV9KSksbnVsbCE9PXRoaXMuc2Nyb2xsVGltZW91dElkJiYoY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVGltZW91dElkKSx0aGlzLnNjcm9sbFRpbWVvdXRJZD1udWxsKSxudWxsIT09dGhpcy5fY2xpY2tQYXRoVGltZW91dElkJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2NsaWNrUGF0aFRpbWVvdXRJZCksdGhpcy5fY2xpY2tQYXRoVGltZW91dElkPW51bGwpfW9uU2Nyb2xsRW5kKHQpe2NvbnN0IGk9RGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKC01KSxlPWAke3dpbmRvdy5zY3JvbGxZfSwke2l9O2Ascz1uZXcgTWUoe3Zpc2l0b3JJZDp0LGN1c3RvbWVyQWNjb3VudElkOnRoaXMuX3Nka0NvbmZpZy5lbnZJZCxzY3JvbGxQb3NpdGlvbjplLHNjcmVlblNpemU6YCR7d2luZG93LmlubmVyV2lkdGh9LCR7d2luZG93LmlubmVySGVpZ2h0fTtgLGN1cnJlbnRVcmw6d2luZG93LmxvY2F0aW9uLmhyZWZ9KTt0aGlzLnJlcG9ydFZpc2l0b3JFdmVudChzKX1oYW5kbGVTY3JvbGw9dD0+e251bGwhPT10aGlzLnNjcm9sbFRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsVGltZW91dElkKSx0aGlzLnNjcm9sbFRpbWVvdXRJZD13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLm9uU2Nyb2xsRW5kKHQpLHRoaXMuc2Nyb2xsVGltZW91dElkPW51bGx9KSwyMDApfTtzZW5kQ2xpY2tQYXRoKHQpe2NvbnN0IGk9bmV3IE1lKHt2aXNpdG9ySWQ6dCxjdXN0b21lckFjY291bnRJZDp0aGlzLl9zZGtDb25maWcuZW52SWQsY2xpY2tQYXRoOnRoaXMuX2NsaWNrUGF0aCxzY3JlZW5TaXplOmAke3dpbmRvdy5pbm5lcldpZHRofSwke3dpbmRvdy5pbm5lckhlaWdodH07YCxjdXJyZW50VXJsOndpbmRvdy5sb2NhdGlvbi5ocmVmfSk7dGhpcy5fY2xpY2tQYXRoPVwiXCIsdGhpcy5yZXBvcnRWaXNpdG9yRXZlbnQoaSl9aGFuZGxlTW91c2VNb3ZlPSh0LGkpPT57bnVsbCE9PXRoaXMuX2NsaWNrUGF0aFRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX2NsaWNrUGF0aFRpbWVvdXRJZCksdGhpcy5fY2xpY2tQYXRoKz1gJHt0LmNsaWVudFh9LCR7dC5jbGllbnRZfSwke0RhdGUubm93KCkudG9TdHJpbmcoKS5zbGljZSgtNSl9O2AsdGhpcy5fY2xpY2tQYXRoLmxlbmd0aD49MTkwMD90aGlzLnNlbmRDbGlja1BhdGgoaSk6dGhpcy5fY2xpY2tQYXRoVGltZW91dElkPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3RoaXMuc2VuZENsaWNrUGF0aChpKX0pLDUwMCl9O2hhbmRsZUNsaWNrPSh0LGksZSk9Pntjb25zdCBzPURhdGUubm93KCkudG9TdHJpbmcoKS5zbGljZSgtNSksYT1uZXcgTWUoe3Zpc2l0b3JJZDppLGN1c3RvbWVyQWNjb3VudElkOnRoaXMuX3Nka0NvbmZpZy5lbnZJZCxjbGlja1Bvc2l0aW9uOmAke3QuY2xpZW50WH0sJHt0LmNsaWVudFl9LCR7c30sJHtlfTtgLHNjcmVlblNpemU6YCR7d2luZG93LmlubmVyV2lkdGh9LCR7d2luZG93LmlubmVySGVpZ2h0fTtgLGN1cnJlbnRVcmw6d2luZG93LmxvY2F0aW9uLmhyZWZ9KTt0aGlzLnJlcG9ydFZpc2l0b3JFdmVudChhKX19Y2xhc3MgUGV7X3Nka0NvbmZpZztjb25zdHJ1Y3Rvcih0KXt0aGlzLl9zZGtDb25maWc9dH1zYXZlVmlzaXRvclByb2ZpbGUodCl7dHJ5e2lmKCF0KXJldHVybiB2b2lkIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKE8pO2xvY2FsU3RvcmFnZS5zZXRJdGVtKE8sSlNPTi5zdHJpbmdpZnkodCkpfWNhdGNoKHQpe0t0KHRoaXMuX3Nka0NvbmZpZyxcIlZpc2l0b3JQcm9maWxlQ2FjaGUuc2F2ZVZpc2l0b3JQcm9maWxlXCIsdD8ubWVzc2FnZSl9fWxvYWRWaXNpdG9yUHJvZmlsZSgpe3RyeXtjb25zdCB0PWxvY2FsU3RvcmFnZS5nZXRJdGVtKE8pO3JldHVybiB0P0pTT04ucGFyc2UodCk6bnVsbH1jYXRjaCh0KXtLdCh0aGlzLl9zZGtDb25maWcsXCJWaXNpdG9yUHJvZmlsZUNhY2hlLmxvYWRWaXNpdG9yUHJvZmlsZVwiLHQ/Lm1lc3NhZ2UpfXJldHVybiBudWxsfX0hZnVuY3Rpb24odCl7dC5BQlRfVEFHX1RSQUNLX0FDVElPTj1cIkFCVF9UQUdfVFJBQ0tfQUNUSU9OXCIsdC5BQlRfV0VCX1NES19UUkFDS19BQ1RJT049XCJBQlRfV0VCX1NES19UUkFDS19BQ1RJT05cIn0oSGV8fChIZT17fSkpLGZ1bmN0aW9uKHQpe3QuRXZlbnQ9XCJFdmVudFwiLHQuSXRlbT1cIkl0ZW1cIix0LlBhZ2U9XCJQYWdlXCIsdC5TY3JlZW49XCJTY3JlZW5cIix0LlRyYW5zYWN0aW9uPVwiVHJhbnNhY3Rpb25cIix0LlNlZ21lbnQ9XCJTZWdtZW50XCIsdC5BY3RpdmF0ZT1cIkFjdGl2YXRlXCIsdC5Ucm91Ymxlc2hvb3Rpbmc9XCJUcm91Ymxlc2hvb3RpbmdcIix0LlVzYWdlSGl0PVwiVXNhZ2VIaXRcIix0LkFjdGl2YXRlQmF0Y2g9XCJBY3RpdmF0ZUJhdGNoXCIsdC5CYXRjaD1cIkJhdGNoXCIsdC5IaXRBYnN0cmFjdD1cIkhpdEFic3RyYWN0XCIsdC5EaWFnbm9zdGljPVwiRGlhZ25vc3RpY1wifShWZXx8KFZlPXt9KSk7Y2xhc3MgTGV7dmlzaXRvcj1udWxsO29uTWVzc2FnZVJlY2VpdmVkO3RydXN0ZWROb25jZXM7aW5pdFRpbWVzdGFtcDtzZGtDb25maWc7Y29uc3RydWN0b3Ioe3Nka0NvbmZpZzp0fSl7dGhpcy50cnVzdGVkTm9uY2VzPXt9LHRoaXMuc2RrQ29uZmlnPXR9Z2VuZXJhdGVOb25jZSgpe2lmKCFadCgpfHwhdGhpcy52aXNpdG9yfHwhdGhpcy52aXNpdG9yLmhhc0NvbnNlbnRlZClyZXR1cm47Y29uc3QgdD1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMikrRGF0ZS5ub3coKS50b1N0cmluZygzNik7cmV0dXJuIHRoaXMudHJ1c3RlZE5vbmNlc1t0XT0hMSx0fWluaXRpYWxpemUodCl7dGhpcy52aXNpdG9yPXQsdGhpcy5pbml0VGltZXN0YW1wPURhdGUubm93KCksWnQoKSYmKHRoaXMub25NZXNzYWdlUmVjZWl2ZWQmJndpbmRvdz8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm9uTWVzc2FnZVJlY2VpdmVkKSx0aGlzLm9uTWVzc2FnZVJlY2VpdmVkPXQ9Pnt0aGlzLmhhbmRsZU1lc3NhZ2UodCl9LHdpbmRvdz8uYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm9uTWVzc2FnZVJlY2VpdmVkKSl9YXN5bmMgcHJvY2Vzc0hpdCh0KXtpZih0Py5lYyE9PVRpLkFDVElPTl9UUkFDS0lOR3x8IXQuZWEpcmV0dXJuIHZvaWQgSnQodGhpcy5zZGtDb25maWcsd3QsXCJJbnZhbGlkIGhpdCBkYXRhOiB7MH1cIix0KTtjb25zdCBpPW5ldyB5aSh7Y2F0ZWdvcnk6dC5lYyxhY3Rpb246dC5lYSxsYWJlbDp0LmVsLHZhbHVlOnQuZXYsdmlzaXRvcklkOnRoaXMudmlzaXRvcj8udmlzaXRvcklkLGFub255bW91c0lkOnRoaXMudmlzaXRvcj8uYW5vbnltb3VzSWQsaXNBY3Rpb25UcmFja2luZ0hpdDohMH0pO3RoaXMudmlzaXRvcj8uYWRkSW5UcmFja2luZ01hbmFnZXIoaSksSnQodGhpcy5zZGtDb25maWcsd3QsXCJIaXQgcmVjZWl2ZWQ6IHswfVwiLHQpfWhhbmRsZU1lc3NhZ2UodCl7aWYoIXQ/LmRhdGF8fHQ/Lm9yaWdpbiE9PXdpbmRvdy5sb2NhdGlvbi5vcmlnaW58fCF0aGlzLnZpc2l0b3I/Lmhhc0NvbnNlbnRlZClyZXR1cm47Y29uc3QgaT10LmRhdGE7aWYoaS5hY3Rpb24hPT1IZS5BQlRfVEFHX1RSQUNLX0FDVElPTnx8IWkubm9uY2UpcmV0dXJuO2NvbnN0e25vbmNlOmV9PWk7aWYodm9pZCAwPT09dGhpcy50cnVzdGVkTm9uY2VzW2VdfHx0aGlzLnRydXN0ZWROb25jZXNbZV0pcmV0dXJuIHZvaWQgSnQodGhpcy5zZGtDb25maWcsd3QsXCJJbnZhbGlkIG5vbmNlOiB7MH1cIixlKTt0aGlzLnRydXN0ZWROb25jZXNbZV09ITA7Y29uc3Qgcz1pLmRhdGE7aWYocyYmcy5sZW5ndGgpZm9yKGNvbnN0IHQgb2Ygcyl0aGlzLnByb2Nlc3NIaXQodCl9ZGlzcGF0Y2hFdmVudEhpdHModCl7aWYoIXRoaXMuc2hvdWxkUHJvY2Vzc0hpdHModCkpcmV0dXJuO2NvbnN0IGk9dGhpcy5nZXROb25jZSgpO2lmKCFpKXJldHVybjtjb25zdCBlPXRoaXMuZmlsdGVySGl0c1RvRGlzcGF0Y2godCk7ZS5sZW5ndGgmJnRoaXMucG9zdEhpdHMoZSxpKX1zaG91bGRQcm9jZXNzSGl0cyh0KXtyZXR1cm4gWnQoKSYmISF0aGlzLnZpc2l0b3ImJiEhdCYmdC5sZW5ndGg+MH1nZXROb25jZSgpe3JldHVybiB3aW5kb3cuQUJUYXN0eT8uYXBpPy5pbnRlcm5hbD8uX2dldEFjdGlvblRyYWNraW5nTm9uY2U/LigpfWZpbHRlckhpdHNUb0Rpc3BhdGNoKHQpe3JldHVybiB0LmZpbHRlcigodD0+e2NvbnN0IGk9dGhpcy5pbml0VGltZXN0YW1wJiZ0LmNyZWF0ZWRBdD49dGhpcy5pbml0VGltZXN0YW1wLGU9dC52aXNpdG9ySWQ9PT10aGlzLnZpc2l0b3I/LnZpc2l0b3JJZHx8dC52aXNpdG9ySWQ9PT10aGlzLnZpc2l0b3I/LmFub255bW91c0lkO3JldHVybiB0LmRhdGEuZWM9PT1UaS5BQ1RJT05fVFJBQ0tJTkcmJmkmJmV9KSkubWFwKCh0PT50LmRhdGEpKX1wb3N0SGl0cyh0LGkpe2NvbnN0IGU9e2FjdGlvbjpIZS5BQlRfV0VCX1NES19UUkFDS19BQ1RJT04sZGF0YTp0LG5vbmNlOmksdGltZXN0YW1wOkRhdGUubm93KCl9O3dpbmRvdz8ucG9zdE1lc3NhZ2UoZSx3aW5kb3cubG9jYXRpb24ub3JpZ2luKSxKdCh0aGlzLnNka0NvbmZpZyx3dCxcImFjdGlvbiB0cmFja2luZyBoaXRzIGhhdmUgYmVlbiBkaXNwYXRjaGVkIHswfVwiLHQpfX1jbGFzcyBVZXtzaGFyZWRBY3Rpb25UcmFja2luZzt2aXNpdG9yO2NvbnN0cnVjdG9yKHtzaGFyZWRBY3Rpb25UcmFja2luZzp0fSl7dGhpcy5zaGFyZWRBY3Rpb25UcmFja2luZz10fXNldFZpc2l0b3IodCl7dGhpcy52aXNpdG9yPXR9Z2V0QXBpVjEoKXtyZXR1cm57X2dldEFjdGlvblRyYWNraW5nTm9uY2U6KCk9PnRoaXMuc2hhcmVkQWN0aW9uVHJhY2tpbmc/LmdlbmVyYXRlTm9uY2UoKSxfZ2V0VmlzaXRvcklkOigpPT4hMCE9PXRoaXMudmlzaXRvcj8uaXNDbGllbnRTdXBwbGllZElEP3RoaXMudmlzaXRvcj8udmlzaXRvcklkOnZvaWQgMH19fWNsYXNzIEdle3N0YXRpYyBfaW5zdGFuY2U7X2NvbmZpZ01hbmFnZXI7X2NvbmZpZztfc3RhdHVzO192aXNpdG9ySW5zdGFuY2U7aW5zdGFuY2VJZDtsYXN0SW5pdGlhbGl6YXRpb25UaW1lc3RhbXA7X3Nka01hbmFnZXI7c3RhdGljIHZpc2l0b3JQcm9maWxlO3N0YXRpYyBvblNhdmVWaXNpdG9yUHJvZmlsZTtfc2RrQXBpO192aXNpdG9yVmFyaWF0aW9uU3RhdGU7c2V0IGNvbmZpZ01hbmFnZXIodCl7dGhpcy5fY29uZmlnTWFuYWdlcj10fWdldCBjb25maWdNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ01hbmFnZXJ9Y29uc3RydWN0b3IoKXt0aGlzLmluc3RhbmNlSWQ9dGkoKSx0aGlzLl9zdGF0dXM9SHQuU0RLX05PVF9JTklUSUFMSVpFRDtjb25zdCB0PUdlO3Quc2V0VmlzaXRvclByb2ZpbGU9ZnVuY3Rpb24odCl7R2UudmlzaXRvclByb2ZpbGU9dH0sdC5nZXRWaXNpdG9yUHJvZmlsZT1mdW5jdGlvbigpe3JldHVybiBHZS52aXNpdG9yUHJvZmlsZX0sdC5zZXRPblNhdmVWaXNpdG9yUHJvZmlsZT1mdW5jdGlvbih0KXtHZS5vblNhdmVWaXNpdG9yUHJvZmlsZT10fSx0LmdldE9uU2F2ZVZpc2l0b3JQcm9maWxlPWZ1bmN0aW9uKCl7cmV0dXJuIEdlLm9uU2F2ZVZpc2l0b3JQcm9maWxlfSx0aGlzLl92aXNpdG9yVmFyaWF0aW9uU3RhdGU9e319c3RhdGljIGdldEluc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlfHwodGhpcy5faW5zdGFuY2U9bmV3IHRoaXMpLHRoaXMuX2luc3RhbmNlfXNldFN0YXR1cyh0KXtpZih0aGlzLl9zdGF0dXM9PT10KXJldHVybjt0aGlzLl9zdGF0dXM9dCxfZS5TZGtTdGF0dXM9dDtjb25zdCBpPXRoaXMuZ2V0Q29uZmlnKCk/Lm9uU2RrU3RhdHVzQ2hhbmdlZDtXdCh0aGlzLl9jb25maWcsXCJTREsgU1RBVFVTXCIsXCJTREsgc3RhdHVzIGhhcyBjaGFuZ2VkOiAgezB9XCIsSHRbdF0pLHRoaXMuZ2V0Q29uZmlnKCkuZGVjaXNpb25Nb2RlIT09VXQuQlVDS0VUSU5HX0VER0UmJih0PT09SHQuU0RLX0lOSVRJQUxJWkVEJiZ0aGlzLmNvbmZpZ01hbmFnZXI/LnRyYWNraW5nTWFuYWdlcj8uc3RhcnRCYXRjaGluZ0xvb3AoKSx0PT09SHQuU0RLX05PVF9JTklUSUFMSVpFRCYmdGhpcy5jb25maWdNYW5hZ2VyPy50cmFja2luZ01hbmFnZXI/LnN0b3BCYXRjaGluZ0xvb3AoKSksaSYmaSh0KX1zdGF0aWMgZ2V0U3RhdHVzKCl7cmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5fc3RhdHVzfWdldFN0YXR1cygpe3JldHVybiB0aGlzLl9zdGF0dXN9c3RhdGljIGdldENvbmZpZygpe3JldHVybiB0aGlzLmdldEluc3RhbmNlKCkuX2NvbmZpZ31nZXRDb25maWcoKXtyZXR1cm4gdGhpcy5fY29uZmlnfWdldFZpc2l0b3IoKXtyZXR1cm4gdGhpcy5fdmlzaXRvckluc3RhbmNlfXN0YXRpYyBnZXRWaXNpdG9yKCl7cmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5nZXRWaXNpdG9yKCl9YnVpbGRDb25maWcodCl7bGV0IGk7c3dpdGNoKHQ/LmRlY2lzaW9uTW9kZSl7Y2FzZSBVdC5CVUNLRVRJTkc6aT1uZXcgZ2kodCk7YnJlYWs7Y2FzZSBVdC5CVUNLRVRJTkdfRURHRTppPW5ldyBrZSh0KTticmVhaztkZWZhdWx0Omk9bmV3IGNpKHQpfXJldHVybiBpfWNyZWF0ZU1hbmFnZXJzKHQsaSxlKXtsZXQgcztzd2l0Y2goaS5kZWNpc2lvbk1vZGUpe2Nhc2UgVXQuQlVDS0VUSU5HOnJldHVybiBzPW5ldyBSZSh7aHR0cENsaWVudDp0LHNka0NvbmZpZzppLHRyYWNraW5nTWFuYWdlcjplLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLmluc3RhbmNlSWR9KSx7c2RrTWFuYWdlcjpzLGRlY2lzaW9uTWFuYWdlcjpuZXcgeWUoe2h0dHBDbGllbnQ6dCxjb25maWc6aSxtdXJtdXJIYXNoOm5ldyBwZSxzZGtNYW5hZ2VyOnMsdHJhY2tpbmdNYW5hZ2VyOmUsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMuaW5zdGFuY2VJZH0pfTtjYXNlIFV0LkJVQ0tFVElOR19FREdFOnJldHVybiBzPW5ldyBOZSh7aHR0cENsaWVudDp0LHNka0NvbmZpZzppLHRyYWNraW5nTWFuYWdlcjplLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLmluc3RhbmNlSWR9KSx7c2RrTWFuYWdlcjpzLGRlY2lzaW9uTWFuYWdlcjpuZXcgU2Uoe2h0dHBDbGllbnQ6dCxjb25maWc6aSxtdXJtdXJIYXNoOm5ldyBwZSxzZGtNYW5hZ2VyOnMsdHJhY2tpbmdNYW5hZ2VyOmUsZmxhZ3NoaXBJbnN0YW5jZUlkOnRoaXMuaW5zdGFuY2VJZH0pfTtkZWZhdWx0OnJldHVybiBzPW5ldyBEZSh7aHR0cENsaWVudDp0LHNka0NvbmZpZzppLHRyYWNraW5nTWFuYWdlcjplLGZsYWdzaGlwSW5zdGFuY2VJZDp0aGlzLmluc3RhbmNlSWR9KSx7c2RrTWFuYWdlcjpzLGRlY2lzaW9uTWFuYWdlcjpuZXcgbWkoe3RyYWNraW5nTWFuYWdlcjplLGh0dHBDbGllbnQ6dCxjb25maWc6aSxmbGFnc2hpcEluc3RhbmNlSWQ6dGhpcy5pbnN0YW5jZUlkfSl9fX1idWlsZFNka0FwaSh0LGkpe3RoaXMuX3Nka0FwaT1uZXcgVWUoe3NoYXJlZEFjdGlvblRyYWNraW5nOnR9KSx3aW5kb3cuQUJUYXN0eVdlYlNkaz17ZW52SWQ6aS5lbnZJZCxpbnRlcm5hbDp0aGlzLl9zZGtBcGkuZ2V0QXBpVjEoKX19c2VuZEluaXRpYWxpemVkUG9zdE1lc3NhZ2UoKXtvaSgoKCk9Pnt3aW5kb3cucG9zdE1lc3NhZ2Uoe2FjdGlvbjp1aS5BQl9UQVNUWV9XRUJfU0RLX0lOSVRJQUxJWkVEfSxcIipcIil9KSl9YXN5bmMgaW5pdGlhbGl6ZVNkayh0KXt0aGlzLnNldFN0YXR1cyhIdC5TREtfSU5JVElBTElaSU5HKSx0aGlzLl9zZGtNYW5hZ2VyPy5yZXNldFNkaygpO2xldCBpPXRoaXMuY29uZmlnTWFuYWdlcj8uc2hhcmVkQWN0aW9uVHJhY2tpbmc7IWkmJlp0KCkmJihpPW5ldyBMZSh7c2RrQ29uZmlnOnR9KSx0aGlzLmJ1aWxkU2RrQXBpKGksdCkpO2NvbnN0IGU9bmV3IEFlLHM9dGhpcy5jb25maWdNYW5hZ2VyPy50cmFja2luZ01hbmFnZXJ8fG5ldyBWaShlLHQsdGhpcy5pbnN0YW5jZUlkLGkpLHtzZGtNYW5hZ2VyOmEsZGVjaXNpb25NYW5hZ2VyOm99PXRoaXMuY3JlYXRlTWFuYWdlcnMoZSx0LHMpO3RoaXMuX3Nka01hbmFnZXI9YSxvLnN0YXR1c0NoYW5nZWRDYWxsYmFjayh0aGlzLnNldFN0YXR1cy5iaW5kKHRoaXMpKSxvLmZsYWdzaGlwSW5zdGFuY2VJZD10aGlzLmluc3RhbmNlSWQsdGhpcy5jb25maWdNYW5hZ2VyPW5ldyBCdCh0LG8scyxpKSxhd2FpdCh0aGlzLl9zZGtNYW5hZ2VyPy5pbml0U2RrKCkpLHRoaXMuc2V0U3RhdHVzKEh0LlNES19JTklUSUFMSVpFRCl9c3RhdGljIGFzeW5jIHN0YXJ0KHQsaSxlKXtjb25zdCBzPXRoaXMuZ2V0SW5zdGFuY2UoKSxhPXMuYnVpbGRDb25maWcoZSk7cmV0dXJuIGEuZW52SWQ9dCxhLmFwaUtleT1pLHMuX2NvbmZpZz1hLGEub25Mb2d8fGEubG9nTWFuYWdlcnx8KGEubG9nTWFuYWdlcj1uZXcgRmkpLHQmJmk/KEp0KGEsRyxcIkZsYWdzaGlwIFNESyB2ZXJzaW9uIHswfSBpcyBzdGFydGluZyBpbiB7MX0gbW9kZSB3aXRoIGNvbmZpZyB7Mn1cIixvLnZlcnNpb24sYS5kZWNpc2lvbk1vZGUsYSksIWEuaGl0Q2FjaGVJbXBsZW1lbnRhdGlvbiYmWnQoKSYmKGEuaGl0Q2FjaGVJbXBsZW1lbnRhdGlvbj1uZXcgTGkpLCFhLnZpc2l0b3JDYWNoZUltcGxlbWVudGF0aW9uJiZadCgpJiYoYS52aXNpdG9yQ2FjaGVJbXBsZW1lbnRhdGlvbj1uZXcgR2kpLGF3YWl0IHMuaW5pdGlhbGl6ZVNkayhhKSxqdChhLHF0KFwiRmxhZ3NoaXAgU0RLICh2ZXJzaW9uOiB7MH0pIHsxfSBpbiAqKnsyfSoqIG1vZGVcIixvLnZlcnNpb24sSHRbcy5fc3RhdHVzXSxhLmRlY2lzaW9uTW9kZSksRyksaW1wb3J0KFwiLi9EQjRiQzVCbC5qc1wiKS50aGVuKCh0PT57dC5sYXVuY2hRYUFzc2lzdGFudChhLHMuX3Zpc2l0b3JWYXJpYXRpb25TdGF0ZSl9KSkscy5sYXN0SW5pdGlhbGl6YXRpb25UaW1lc3RhbXA9KG5ldyBEYXRlKS50b0lTT1N0cmluZygpLHMuc2VuZEluaXRpYWxpemVkUG9zdE1lc3NhZ2UoKSxzKToocy5zZXRTdGF0dXMoSHQuU0RLX05PVF9JTklUSUFMSVpFRCksUXQoYSxWLEcpLHMpfWFzeW5jIGNsb3NlKCl7YXdhaXQgR2UuY2xvc2UoKX1zdGF0aWMgYXN5bmMgY2xvc2UoKXthd2FpdCh0aGlzLl9pbnN0YW5jZT8uY29uZmlnTWFuYWdlcj8udHJhY2tpbmdNYW5hZ2VyPy5zZW5kQmF0Y2goKSl9bmV3VmlzaXRvcih0KXtyZXR1cm4gR2UubmV3VmlzaXRvcih0KX1pbml0aWFsaXplQ29uZmlnTWFuYWdlcigpe2NvbnN0IHQ9bmV3IGNpO3QubG9nTWFuYWdlcj1uZXcgRmk7Y29uc3QgaT1uZXcgQWUsZT1uZXcgVmkoaSx0KSxzPW5ldyBtaSh7aHR0cENsaWVudDppLGNvbmZpZzp0LHRyYWNraW5nTWFuYWdlcjplfSk7dGhpcy5fY29uZmlnPXQsdGhpcy5jb25maWdNYW5hZ2VyPW5ldyBCdCh0LHMsZSl9c3RhdGljIG5ld1Zpc2l0b3Ioe3Zpc2l0b3JJZDp0LGNvbnRleHQ6aSxpc0F1dGhlbnRpY2F0ZWQ6ZSxoYXNDb25zZW50ZWQ6cyxpbml0aWFsQ2FtcGFpZ25zOmEsaW5pdGlhbEZsYWdzRGF0YTpvLHNob3VsZFNhdmVJbnN0YW5jZTpuLG9uRmxhZ3NTdGF0dXNDaGFuZ2VkOnJ9KXtjb25zdCBoPW4/P1p0KCksYz10aGlzLmdldEluc3RhbmNlKCk7Yy5jb25maWdNYW5hZ2VyfHwoYy5pbml0aWFsaXplQ29uZmlnTWFuYWdlcigpLFF0KGMuZ2V0Q29uZmlnKCksVSxxKSk7Y29uc3QgZz1jLmdldENvbmZpZygpLGQ9Yy5jb25maWdNYW5hZ2VyO3ZvaWQgMD09PXMmJnp0KGcsXCJDb25zZW50IGhhcyBub3QgYmVlbiBzcGVjaWZpZWQuIEJ5IGRlZmF1bHQsIGNvbnNlbnQgaXMgc2V0IHRvIGZhbHNlLCB3aGljaCBtYXkgcmVzdWx0IGluIHNvbWUgZmVhdHVyZXMgYmVpbmcgZGVhY3RpdmF0ZWQuXCIscSk7Y29uc3QgbD1uZXcgeGUoe3Nka0NvbmZpZzpnLGh0dHBDbGllbnQ6bmV3IEFlLGVBSUNvbmZpZzpjLl9zZGtNYW5hZ2VyPy5nZXRFQUlDb25maWcoKX0pLHU9bmV3IFBlKGcpLGY9bmV3IFRlKHt2aXNpdG9ySWQ6dCxjb250ZXh0Oml8fHt9LGlzQXV0aGVudGljYXRlZDplPz8hMSxoYXNDb25zZW50ZWQ6cz8/ITEsY29uZmlnTWFuYWdlcjpkLGluaXRpYWxDYW1wYWlnbnM6YSxpbml0aWFsRmxhZ3NEYXRhOm8sb25GbGFnc1N0YXR1c0NoYW5nZWQ6cixlbW90aW9uQWk6bCx2aXNpdG9yUHJvZmlsZUNhY2hlOnUsbW9uaXRvcmluZ0RhdGE6e2luc3RhbmNlSWQ6dGhpcy5nZXRJbnN0YW5jZSgpLmluc3RhbmNlSWQsbGFzdEluaXRpYWxpemF0aW9uVGltZXN0YW1wOnRoaXMuZ2V0SW5zdGFuY2UoKS5sYXN0SW5pdGlhbGl6YXRpb25UaW1lc3RhbXAsaW5pdGlhbENhbXBhaWduczphLGluaXRpYWxGbGFnc0RhdGE6b30sbXVybXVySGFzaDpuZXcgcGUsdmlzaXRvclZhcmlhdGlvblN0YXRlOmMuX3Zpc2l0b3JWYXJpYXRpb25TdGF0ZX0pO29pKCgoKT0+e1p0KCkmJihjLl9zZGtBcGk/LnNldFZpc2l0b3IoZiksZC5zaGFyZWRBY3Rpb25UcmFja2luZyYmZC5zaGFyZWRBY3Rpb25UcmFja2luZy5pbml0aWFsaXplKGYpKX0pKTtjb25zdCBJPW5ldyBHdChmKTtyZXR1cm4gdGhpcy5nZXRJbnN0YW5jZSgpLl92aXNpdG9ySW5zdGFuY2U9aD9JOnZvaWQgMCxoJiZKdChnLHEsXCJWaXNpdG9yIHswfSBoYXMgYmVlbiBzYXZlZCBpbiBTREsgaW5zdGFuY2VcIixJLnZpc2l0b3JJZCksZy5mZXRjaE5vdyYmZy5kZWNpc2lvbk1vZGUhPT1VdC5CVUNLRVRJTkdfRURHRSYmSS5mZXRjaEZsYWdzKCksSX19ZXhwb3J0e2xpIGFzICQsamkgYXMgQSxKaSBhcyBCLEZ0IGFzIEMsY2kgYXMgRCxUaSBhcyBFLGsgYXMgRixZaSBhcyBHLFZ0IGFzIEgsWmkgYXMgSSx0ZSBhcyBKLGllIGFzIEsscyBhcyBMLGVlIGFzIE0sc2UgYXMgTixYaSBhcyBPLGFlIGFzIFAsZiBhcyBRLG9lIGFzIFIsbyBhcyBTLFQsbmUgYXMgVSxHdCBhcyBWLHJlIGFzIFcsaGUgYXMgWCxjZSBhcyBZLGdlIGFzIFosZGkgYXMgXyx5IGFzIGEsdWkgYXMgYTAsbWUgYXMgYTEsZGUgYXMgYTIsQ2UgYXMgYTMsUyBhcyBiLEEgYXMgYyxNdCBhcyBkLGwgYXMgZSx1IGFzIGYsQyBhcyBnLF8gYXMgaCxadCBhcyBpLG0gYXMgaixwIGFzIGssV3QgYXMgbCx2IGFzIG0sSSBhcyBuLG9pIGFzIG8sR2UgYXMgcCxVdCBhcyBxLEh0IGFzIHIseHQgYXMgcyxQdCBhcyB0LEx0IGFzIHUsS2kgYXMgdixRaSBhcyB3LCRpIGFzIHgsemkgYXMgeSxXaSBhcyB6fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5zWDkwemtlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/nsX90zke.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js":
/*!********************************************************************!*\
  !*** ./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ABTastyWebSDKPostMessageType: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.a0),\n/* harmony export */   APP_VERSION_CODE: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.R),\n/* harmony export */   APP_VERSION_NAME: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.P),\n/* harmony export */   CARRIER_NAME: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.M),\n/* harmony export */   CacheStrategy: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   DEVICE_LOCALE: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   DEVICE_MODEL: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   DEVICE_TYPE: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   DecisionApiConfig: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.D),\n/* harmony export */   DecisionMode: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   EventCategory: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.E),\n/* harmony export */   FLAGSHIP_CLIENT: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.W),\n/* harmony export */   FLAGSHIP_CONTEXT: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.Z),\n/* harmony export */   FLAGSHIP_VERSION: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.X),\n/* harmony export */   FLAGSHIP_VISITOR: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.Y),\n/* harmony export */   FSFetchReasons: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   FSFetchStatus: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.t),\n/* harmony export */   FSFlag: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.a1),\n/* harmony export */   FSFlagCollection: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.a3),\n/* harmony export */   FSFlagMetadata: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.a2),\n/* harmony export */   FSFlagStatus: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.u),\n/* harmony export */   FSSdkStatus: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   Flagship: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   HitType: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.H),\n/* harmony export */   INTERFACE_NAME: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.U),\n/* harmony export */   INTERNET_CONNECTION: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.N),\n/* harmony export */   IP: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.I),\n/* harmony export */   LOCATION_CITY: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   LOCATION_COUNTRY: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.A),\n/* harmony export */   LOCATION_LAT: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.B),\n/* harmony export */   LOCATION_LONG: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   LOCATION_REGION: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   LogLevel: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.L),\n/* harmony export */   OS_NAME: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.O),\n/* harmony export */   OS_VERSION_CODE: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.K),\n/* harmony export */   OS_VERSION_NAME: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.J),\n/* harmony export */   TroubleshootingLabel: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__._),\n/* harmony export */   Visitor: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.V),\n/* harmony export */   VisitorCacheStatus: () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.$),\n/* harmony export */   \"default\": () => (/* reexport safe */ _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__.p)\n/* harmony export */ });\n/* harmony import */ var _chunks_browser_esm_nsX90zke_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/browser/esm/nsX90zke.js */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/chunks/browser/esm/nsX90zke.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ \"(pages-dir-browser)/./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n\n//# sourceMappingURL=index.browser.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vanMtc2RrL2Rpc3QvaW5kZXguYnJvd3Nlci5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpMEI7QUFDajBCIiwic291cmNlcyI6WyIvVXNlcnMvdmFsZXJpYW4ua2Fyc2VudHkvRG9jdW1lbnRzL0FwcC9teS1uZXh0anMtYXBwL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vanMtc2RrL2Rpc3QvaW5kZXguYnJvd3Nlci5lc20uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0e2EwIGFzIEFCVGFzdHlXZWJTREtQb3N0TWVzc2FnZVR5cGUsUiBhcyBBUFBfVkVSU0lPTl9DT0RFLFAgYXMgQVBQX1ZFUlNJT05fTkFNRSxNIGFzIENBUlJJRVJfTkFNRSxDIGFzIENhY2hlU3RyYXRlZ3ksdiBhcyBERVZJQ0VfTE9DQUxFLHggYXMgREVWSUNFX01PREVMLHcgYXMgREVWSUNFX1RZUEUsRCBhcyBEZWNpc2lvbkFwaUNvbmZpZyxxIGFzIERlY2lzaW9uTW9kZSxFIGFzIEV2ZW50Q2F0ZWdvcnksVyBhcyBGTEFHU0hJUF9DTElFTlQsWiBhcyBGTEFHU0hJUF9DT05URVhULFggYXMgRkxBR1NISVBfVkVSU0lPTixZIGFzIEZMQUdTSElQX1ZJU0lUT1IscyBhcyBGU0ZldGNoUmVhc29ucyx0IGFzIEZTRmV0Y2hTdGF0dXMsYTEgYXMgRlNGbGFnLGEzIGFzIEZTRmxhZ0NvbGxlY3Rpb24sYTIgYXMgRlNGbGFnTWV0YWRhdGEsdSBhcyBGU0ZsYWdTdGF0dXMsciBhcyBGU1Nka1N0YXR1cyxwIGFzIEZsYWdzaGlwLEggYXMgSGl0VHlwZSxVIGFzIElOVEVSRkFDRV9OQU1FLE4gYXMgSU5URVJORVRfQ09OTkVDVElPTixJIGFzIElQLHkgYXMgTE9DQVRJT05fQ0lUWSxBIGFzIExPQ0FUSU9OX0NPVU5UUlksQiBhcyBMT0NBVElPTl9MQVQsRyBhcyBMT0NBVElPTl9MT05HLHogYXMgTE9DQVRJT05fUkVHSU9OLEwgYXMgTG9nTGV2ZWwsTyBhcyBPU19OQU1FLEsgYXMgT1NfVkVSU0lPTl9DT0RFLEogYXMgT1NfVkVSU0lPTl9OQU1FLF8gYXMgVHJvdWJsZXNob290aW5nTGFiZWwsViBhcyBWaXNpdG9yLCQgYXMgVmlzaXRvckNhY2hlU3RhdHVzLHAgYXMgZGVmYXVsdH1mcm9tXCIuL2NodW5rcy9icm93c2VyL2VzbS9uc1g5MHprZS5qc1wiO2ltcG9ydFwiZXZlbnRzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5icm93c2VyLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FSFlag.js":
/*!****************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/FSFlag.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FSFlag: () => (/* binding */ FSFlag)\n/* harmony export */ });\n/* harmony import */ var _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @flagship.io/js-sdk */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/constants.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/utils.js\");\n\n\n\nclass FSFlag {\n    key;\n    flag;\n    constructor(key, state) {\n        const flagsData = state.flags;\n        if (!state.hasVisitorData) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.logWarn)(_flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.Flagship.getConfig(), _constants__WEBPACK_IMPORTED_MODULE_2__.noVisitorMessage, 'GetFlag');\n        }\n        this.key = key;\n        this.flag = flagsData?.get(key);\n    }\n    getValue(defaultValue) {\n        if (!this.flag) {\n            return defaultValue;\n        }\n        if (this.flag.value === null || this.flag.value === undefined) {\n            return defaultValue;\n        }\n        if (defaultValue !== null && defaultValue !== undefined && !(0,_utils__WEBPACK_IMPORTED_MODULE_0__.hasSameType)(this.flag.value, defaultValue)) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_0__.logInfo)(_flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.Flagship.getConfig(), (0,_utils__WEBPACK_IMPORTED_MODULE_0__.sprintf)(_constants__WEBPACK_IMPORTED_MODULE_2__.GET_FLAG_CAST_ERROR, this.key), 'getValue');\n            return defaultValue;\n        }\n        return this.flag.value;\n    }\n    exists() {\n        if (!this.flag) {\n            return false;\n        }\n        return !!(this.flag.campaignId && this.flag.variationId && this.flag.variationGroupId);\n    }\n    async visitorExposed() {\n        // do nothing\n    }\n    get metadata() {\n        if (!this.flag) {\n            return _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.FSFlagMetadata.Empty();\n        }\n        return new _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.FSFlagMetadata({\n            campaignId: this.flag.campaignId,\n            campaignName: this.flag.campaignName,\n            variationGroupId: this.flag.variationGroupId,\n            variationGroupName: this.flag.variationGroupName,\n            variationId: this.flag.variationId,\n            variationName: this.flag.variationName,\n            isReference: !!this.flag.isReference,\n            campaignType: this.flag.campaignType,\n            slug: this.flag.slug\n        });\n    }\n    get status() {\n        if (!this.exists()) {\n            return _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.FSFlagStatus.NOT_FOUND;\n        }\n        return _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.FSFlagStatus.FETCHED;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL0ZTRmxhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZFO0FBQ1Q7QUFDSDtBQUMxRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUFPLENBQUMseURBQVEsY0FBYyx3REFBZ0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxtREFBVztBQUMvRSxZQUFZLCtDQUFPLENBQUMseURBQVEsY0FBYywrQ0FBTyxDQUFDLDJEQUFtQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQWM7QUFDakM7QUFDQSxtQkFBbUIsK0RBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBWTtBQUMvQjtBQUNBLGVBQWUsNkRBQVk7QUFDM0I7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3ZhbGVyaWFuLmthcnNlbnR5L0RvY3VtZW50cy9BcHAvbXktbmV4dGpzLWFwcC9ub2RlX21vZHVsZXMvQGZsYWdzaGlwLmlvL3JlYWN0LXNkay9kaXN0L3NyYy9GU0ZsYWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmxhZ3NoaXAsIEZTRmxhZ01ldGFkYXRhLCBGU0ZsYWdTdGF0dXMgfSBmcm9tICdAZmxhZ3NoaXAuaW8vanMtc2RrJztcbmltcG9ydCB7IEdFVF9GTEFHX0NBU1RfRVJST1IsIG5vVmlzaXRvck1lc3NhZ2UgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBoYXNTYW1lVHlwZSwgbG9nSW5mbywgbG9nV2Fybiwgc3ByaW50ZiB9IGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IGNsYXNzIEZTRmxhZyB7XG4gICAga2V5O1xuICAgIGZsYWc7XG4gICAgY29uc3RydWN0b3Ioa2V5LCBzdGF0ZSkge1xuICAgICAgICBjb25zdCBmbGFnc0RhdGEgPSBzdGF0ZS5mbGFncztcbiAgICAgICAgaWYgKCFzdGF0ZS5oYXNWaXNpdG9yRGF0YSkge1xuICAgICAgICAgICAgbG9nV2FybihGbGFnc2hpcC5nZXRDb25maWcoKSwgbm9WaXNpdG9yTWVzc2FnZSwgJ0dldEZsYWcnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5mbGFnID0gZmxhZ3NEYXRhPy5nZXQoa2V5KTtcbiAgICB9XG4gICAgZ2V0VmFsdWUoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5mbGFnKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZsYWcudmFsdWUgPT09IG51bGwgfHwgdGhpcy5mbGFnLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gbnVsbCAmJiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhaGFzU2FtZVR5cGUodGhpcy5mbGFnLnZhbHVlLCBkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgICAgICBsb2dJbmZvKEZsYWdzaGlwLmdldENvbmZpZygpLCBzcHJpbnRmKEdFVF9GTEFHX0NBU1RfRVJST1IsIHRoaXMua2V5KSwgJ2dldFZhbHVlJyk7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZsYWcudmFsdWU7XG4gICAgfVxuICAgIGV4aXN0cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISEodGhpcy5mbGFnLmNhbXBhaWduSWQgJiYgdGhpcy5mbGFnLnZhcmlhdGlvbklkICYmIHRoaXMuZmxhZy52YXJpYXRpb25Hcm91cElkKTtcbiAgICB9XG4gICAgYXN5bmMgdmlzaXRvckV4cG9zZWQoKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgZ2V0IG1ldGFkYXRhKCkge1xuICAgICAgICBpZiAoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgcmV0dXJuIEZTRmxhZ01ldGFkYXRhLkVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBGU0ZsYWdNZXRhZGF0YSh7XG4gICAgICAgICAgICBjYW1wYWlnbklkOiB0aGlzLmZsYWcuY2FtcGFpZ25JZCxcbiAgICAgICAgICAgIGNhbXBhaWduTmFtZTogdGhpcy5mbGFnLmNhbXBhaWduTmFtZSxcbiAgICAgICAgICAgIHZhcmlhdGlvbkdyb3VwSWQ6IHRoaXMuZmxhZy52YXJpYXRpb25Hcm91cElkLFxuICAgICAgICAgICAgdmFyaWF0aW9uR3JvdXBOYW1lOiB0aGlzLmZsYWcudmFyaWF0aW9uR3JvdXBOYW1lLFxuICAgICAgICAgICAgdmFyaWF0aW9uSWQ6IHRoaXMuZmxhZy52YXJpYXRpb25JZCxcbiAgICAgICAgICAgIHZhcmlhdGlvbk5hbWU6IHRoaXMuZmxhZy52YXJpYXRpb25OYW1lLFxuICAgICAgICAgICAgaXNSZWZlcmVuY2U6ICEhdGhpcy5mbGFnLmlzUmVmZXJlbmNlLFxuICAgICAgICAgICAgY2FtcGFpZ25UeXBlOiB0aGlzLmZsYWcuY2FtcGFpZ25UeXBlLFxuICAgICAgICAgICAgc2x1ZzogdGhpcy5mbGFnLnNsdWdcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5leGlzdHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIEZTRmxhZ1N0YXR1cy5OT1RfRk9VTkQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZTRmxhZ1N0YXR1cy5GRVRDSEVEO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FSFlag.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipContext.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/FlagshipContext.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlagshipContext: () => (/* binding */ FlagshipContext),\n/* harmony export */   initStat: () => (/* binding */ initStat)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n'use client';\n\nconst initStat = {\n    isInitializing: true\n};\nconst FlagshipContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    state: { ...initStat }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL0ZsYWdzaGlwQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDc0M7QUFDL0I7QUFDUDtBQUNBO0FBQ08sd0JBQXdCLG9EQUFhO0FBQzVDLGFBQWE7QUFDYixDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvdmFsZXJpYW4ua2Fyc2VudHkvRG9jdW1lbnRzL0FwcC9teS1uZXh0anMtYXBwL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL0ZsYWdzaGlwQ29udGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGNvbnN0IGluaXRTdGF0ID0ge1xuICAgIGlzSW5pdGlhbGl6aW5nOiB0cnVlXG59O1xuZXhwb3J0IGNvbnN0IEZsYWdzaGlwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIHN0YXRlOiB7IC4uLmluaXRTdGF0IH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipContext.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipHooks.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/FlagshipHooks.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFlagship: () => (/* binding */ useFlagship),\n/* harmony export */   useFsFlag: () => (/* binding */ useFsFlag)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @flagship.io/js-sdk */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/constants.js\");\n/* harmony import */ var _FlagshipContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FlagshipContext */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipContext.js\");\n/* harmony import */ var _FSFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FSFlag */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FSFlag.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/utils.js\");\n'use client';\n\n\n\n\n\n\n/**\n * This hook returns a flag object by its key. If no flag match the given key an empty flag will be returned.\n * @param key\n * @param defaultValue\n * @returns\n */\nconst useFsFlag = (key) => {\n    const { state } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_FlagshipContext__WEBPACK_IMPORTED_MODULE_1__.FlagshipContext);\n    const { visitor } = state;\n    if (!visitor) {\n        return new _FSFlag__WEBPACK_IMPORTED_MODULE_2__.FSFlag(key, state);\n    }\n    return visitor.getFlag(key);\n};\nconst handleContextChange = (param) => {\n    const { updateFunction, functionName, visitor, config } = param;\n    if (!visitor) {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_3__.logError)(config, _constants__WEBPACK_IMPORTED_MODULE_4__.noVisitorMessage, functionName);\n        return;\n    }\n    const originalContextClone = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.deepClone)(visitor.context);\n    updateFunction();\n    const updatedContext = visitor.context;\n    if ((0,_utils__WEBPACK_IMPORTED_MODULE_3__.hasContextChanged)(originalContextClone, updatedContext)) {\n        visitor.fetchFlags();\n    }\n};\nconst useFlagship = () => {\n    const { state } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_FlagshipContext__WEBPACK_IMPORTED_MODULE_1__.FlagshipContext);\n    const { visitor, config } = state;\n    const fsUpdateContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((context) => {\n        handleContextChange({\n            config,\n            visitor,\n            updateFunction: () => visitor?.updateContext(context),\n            functionName: 'updateContext'\n        });\n    }, [visitor]);\n    const fsClearContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        handleContextChange({\n            config,\n            visitor,\n            updateFunction: () => visitor?.clearContext(),\n            functionName: 'cleanContext'\n        });\n    }, [visitor]);\n    const fsAuthenticate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((visitorId) => {\n        const functionName = 'authenticate';\n        if (!visitor) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.logError)(config, _constants__WEBPACK_IMPORTED_MODULE_4__.noVisitorMessage, functionName);\n            return;\n        }\n        const originalVisitorId = visitor.visitorId;\n        visitor.authenticate(visitorId);\n        if (originalVisitorId !== visitorId) {\n            visitor.fetchFlags();\n        }\n    }, [visitor]);\n    const fsUnauthenticate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        const functionName = 'unauthenticate';\n        if (!visitor) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.logError)(config, _constants__WEBPACK_IMPORTED_MODULE_4__.noVisitorMessage, functionName);\n            return;\n        }\n        const originalVisitorId = visitor.visitorId;\n        visitor.unauthenticate();\n        if (originalVisitorId !== visitor.visitorId) {\n            visitor.fetchFlags();\n        }\n    }, [visitor]);\n    const fsSendHit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((hit) => {\n        const functionName = 'sendHit';\n        if (!visitor) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.logError)(config, _constants__WEBPACK_IMPORTED_MODULE_4__.noVisitorMessage, functionName);\n            return Promise.resolve();\n        }\n        if (Array.isArray(hit)) {\n            return visitor.sendHits(hit);\n        }\n        return visitor.sendHit(hit);\n    }, [visitor]);\n    const getFlag = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((key) => {\n        if (!visitor) {\n            return new _FSFlag__WEBPACK_IMPORTED_MODULE_2__.FSFlag(key, state);\n        }\n        return visitor.getFlag(key);\n    }, [visitor]);\n    const fetchFlags = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async () => {\n        if (!visitor) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.logWarn)(config, _constants__WEBPACK_IMPORTED_MODULE_4__.noVisitorMessage, 'fetchFlags');\n            return Promise.resolve();\n        }\n        return visitor.fetchFlags();\n    }, [visitor]);\n    const setConsent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((hasConsented) => {\n        if (!visitor) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_3__.logWarn)(config, _constants__WEBPACK_IMPORTED_MODULE_4__.noVisitorMessage, 'setConsent');\n            return;\n        }\n        visitor.setConsent(hasConsented);\n    }, [visitor]);\n    const close = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        return _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_5__.Flagship.close();\n    }, []);\n    const getFlags = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n        if (!visitor) {\n            const flags = new Map();\n            state.flags?.forEach((flag, key) => {\n                flags.set(key, new _FSFlag__WEBPACK_IMPORTED_MODULE_2__.FSFlag(key, state));\n            });\n            return new _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_5__.FSFlagCollection({ flags });\n        }\n        return visitor.getFlags();\n    }, [visitor]);\n    const collectEAIEventsAsync = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (...args) => {\n        if (!visitor) {\n            return;\n        }\n        return visitor.collectEAIEventsAsync(...args);\n    }, [visitor]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n        visitorId: visitor?.visitorId,\n        anonymousId: visitor?.anonymousId,\n        context: { ...visitor?.context },\n        hasConsented: visitor?.hasConsented,\n        sdkStatus: _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_5__.Flagship.getStatus(),\n        flagsStatus: visitor?.flagsStatus,\n        setConsent,\n        updateContext: fsUpdateContext,\n        clearContext: fsClearContext,\n        authenticate: fsAuthenticate,\n        unauthenticate: fsUnauthenticate,\n        sendHits: fsSendHit,\n        getFlag,\n        fetchFlags,\n        close,\n        getFlags,\n        collectEAIEventsAsync\n    }), [visitor, setConsent,\n        fsUpdateContext,\n        fsClearContext, fsAuthenticate, fsUnauthenticate,\n        fsSendHit, getFlag, fetchFlags, close,\n        getFlags,\n        collectEAIEventsAsync]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL0ZsYWdzaGlwSG9va3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUQ7QUFDUTtBQUNsQjtBQUNLO0FBQ2xCO0FBQ3dDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxRQUFRLEVBQUUsaURBQVUsQ0FBQyw2REFBZTtBQUNoRCxZQUFZLFVBQVU7QUFDdEI7QUFDQSxtQkFBbUIsMkNBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFnRDtBQUM1RDtBQUNBLFFBQVEsZ0RBQVEsU0FBUyx3REFBZ0I7QUFDekM7QUFDQTtBQUNBLGlDQUFpQyxpREFBUztBQUMxQztBQUNBO0FBQ0EsUUFBUSx5REFBaUI7QUFDekI7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLFFBQVEsRUFBRSxpREFBVSxDQUFDLDZEQUFlO0FBQ2hELFlBQVksa0JBQWtCO0FBQzlCLDRCQUE0QixrREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0E7QUFDQSxZQUFZLGdEQUFRLFNBQVMsd0RBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QixrREFBVztBQUN4QztBQUNBO0FBQ0EsWUFBWSxnREFBUSxTQUFTLHdEQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBLFlBQVksZ0RBQVEsU0FBUyx3REFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQixrREFBVztBQUMvQjtBQUNBLHVCQUF1QiwyQ0FBTTtBQUM3QjtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1QixrREFBVztBQUNsQztBQUNBLFlBQVksK0NBQU8sU0FBUyx3REFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1QixrREFBVztBQUNsQztBQUNBLFlBQVksK0NBQU8sU0FBUyx3REFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQixrREFBVztBQUM3QixlQUFlLHlEQUFRO0FBQ3ZCLEtBQUs7QUFDTCxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDJDQUFNO0FBQ3pDLGFBQWE7QUFDYix1QkFBdUIsaUVBQWdCLEdBQUcsT0FBTztBQUNqRDtBQUNBO0FBQ0EsS0FBSztBQUNMLGtDQUFrQyxrREFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLDhDQUFPO0FBQ2xCO0FBQ0E7QUFDQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0EsbUJBQW1CLHlEQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvbm9kZV9tb2R1bGVzL0BmbGFnc2hpcC5pby9yZWFjdC1zZGsvZGlzdC9zcmMvRmxhZ3NoaXBIb29rcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZsYWdzaGlwLCBGU0ZsYWdDb2xsZWN0aW9uIH0gZnJvbSAnQGZsYWdzaGlwLmlvL2pzLXNkayc7XG5pbXBvcnQgeyBub1Zpc2l0b3JNZXNzYWdlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRmxhZ3NoaXBDb250ZXh0IH0gZnJvbSAnLi9GbGFnc2hpcENvbnRleHQnO1xuaW1wb3J0IHsgRlNGbGFnIH0gZnJvbSAnLi9GU0ZsYWcnO1xuaW1wb3J0IHsgZGVlcENsb25lLCBoYXNDb250ZXh0Q2hhbmdlZCwgbG9nRXJyb3IsIGxvZ1dhcm4gfSBmcm9tICcuL3V0aWxzJztcbi8qKlxuICogVGhpcyBob29rIHJldHVybnMgYSBmbGFnIG9iamVjdCBieSBpdHMga2V5LiBJZiBubyBmbGFnIG1hdGNoIHRoZSBnaXZlbiBrZXkgYW4gZW1wdHkgZmxhZyB3aWxsIGJlIHJldHVybmVkLlxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUZzRmxhZyA9IChrZXkpID0+IHtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSB1c2VDb250ZXh0KEZsYWdzaGlwQ29udGV4dCk7XG4gICAgY29uc3QgeyB2aXNpdG9yIH0gPSBzdGF0ZTtcbiAgICBpZiAoIXZpc2l0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGU0ZsYWcoa2V5LCBzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdG9yLmdldEZsYWcoa2V5KTtcbn07XG5jb25zdCBoYW5kbGVDb250ZXh0Q2hhbmdlID0gKHBhcmFtKSA9PiB7XG4gICAgY29uc3QgeyB1cGRhdGVGdW5jdGlvbiwgZnVuY3Rpb25OYW1lLCB2aXNpdG9yLCBjb25maWcgfSA9IHBhcmFtO1xuICAgIGlmICghdmlzaXRvcikge1xuICAgICAgICBsb2dFcnJvcihjb25maWcsIG5vVmlzaXRvck1lc3NhZ2UsIGZ1bmN0aW9uTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb3JpZ2luYWxDb250ZXh0Q2xvbmUgPSBkZWVwQ2xvbmUodmlzaXRvci5jb250ZXh0KTtcbiAgICB1cGRhdGVGdW5jdGlvbigpO1xuICAgIGNvbnN0IHVwZGF0ZWRDb250ZXh0ID0gdmlzaXRvci5jb250ZXh0O1xuICAgIGlmIChoYXNDb250ZXh0Q2hhbmdlZChvcmlnaW5hbENvbnRleHRDbG9uZSwgdXBkYXRlZENvbnRleHQpKSB7XG4gICAgICAgIHZpc2l0b3IuZmV0Y2hGbGFncygpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdXNlRmxhZ3NoaXAgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gdXNlQ29udGV4dChGbGFnc2hpcENvbnRleHQpO1xuICAgIGNvbnN0IHsgdmlzaXRvciwgY29uZmlnIH0gPSBzdGF0ZTtcbiAgICBjb25zdCBmc1VwZGF0ZUNvbnRleHQgPSB1c2VDYWxsYmFjaygoY29udGV4dCkgPT4ge1xuICAgICAgICBoYW5kbGVDb250ZXh0Q2hhbmdlKHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIHZpc2l0b3IsXG4gICAgICAgICAgICB1cGRhdGVGdW5jdGlvbjogKCkgPT4gdmlzaXRvcj8udXBkYXRlQ29udGV4dChjb250ZXh0KSxcbiAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ3VwZGF0ZUNvbnRleHQnXG4gICAgICAgIH0pO1xuICAgIH0sIFt2aXNpdG9yXSk7XG4gICAgY29uc3QgZnNDbGVhckNvbnRleHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGhhbmRsZUNvbnRleHRDaGFuZ2Uoe1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgdmlzaXRvcixcbiAgICAgICAgICAgIHVwZGF0ZUZ1bmN0aW9uOiAoKSA9PiB2aXNpdG9yPy5jbGVhckNvbnRleHQoKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ2NsZWFuQ29udGV4dCdcbiAgICAgICAgfSk7XG4gICAgfSwgW3Zpc2l0b3JdKTtcbiAgICBjb25zdCBmc0F1dGhlbnRpY2F0ZSA9IHVzZUNhbGxiYWNrKCh2aXNpdG9ySWQpID0+IHtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25OYW1lID0gJ2F1dGhlbnRpY2F0ZSc7XG4gICAgICAgIGlmICghdmlzaXRvcikge1xuICAgICAgICAgICAgbG9nRXJyb3IoY29uZmlnLCBub1Zpc2l0b3JNZXNzYWdlLCBmdW5jdGlvbk5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVmlzaXRvcklkID0gdmlzaXRvci52aXNpdG9ySWQ7XG4gICAgICAgIHZpc2l0b3IuYXV0aGVudGljYXRlKHZpc2l0b3JJZCk7XG4gICAgICAgIGlmIChvcmlnaW5hbFZpc2l0b3JJZCAhPT0gdmlzaXRvcklkKSB7XG4gICAgICAgICAgICB2aXNpdG9yLmZldGNoRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgIH0sIFt2aXNpdG9yXSk7XG4gICAgY29uc3QgZnNVbmF1dGhlbnRpY2F0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25OYW1lID0gJ3VuYXV0aGVudGljYXRlJztcbiAgICAgICAgaWYgKCF2aXNpdG9yKSB7XG4gICAgICAgICAgICBsb2dFcnJvcihjb25maWcsIG5vVmlzaXRvck1lc3NhZ2UsIGZ1bmN0aW9uTmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxWaXNpdG9ySWQgPSB2aXNpdG9yLnZpc2l0b3JJZDtcbiAgICAgICAgdmlzaXRvci51bmF1dGhlbnRpY2F0ZSgpO1xuICAgICAgICBpZiAob3JpZ2luYWxWaXNpdG9ySWQgIT09IHZpc2l0b3IudmlzaXRvcklkKSB7XG4gICAgICAgICAgICB2aXNpdG9yLmZldGNoRmxhZ3MoKTtcbiAgICAgICAgfVxuICAgIH0sIFt2aXNpdG9yXSk7XG4gICAgY29uc3QgZnNTZW5kSGl0ID0gdXNlQ2FsbGJhY2soKGhpdCkgPT4ge1xuICAgICAgICBjb25zdCBmdW5jdGlvbk5hbWUgPSAnc2VuZEhpdCc7XG4gICAgICAgIGlmICghdmlzaXRvcikge1xuICAgICAgICAgICAgbG9nRXJyb3IoY29uZmlnLCBub1Zpc2l0b3JNZXNzYWdlLCBmdW5jdGlvbk5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGhpdCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnNlbmRIaXRzKGhpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3Iuc2VuZEhpdChoaXQpO1xuICAgIH0sIFt2aXNpdG9yXSk7XG4gICAgY29uc3QgZ2V0RmxhZyA9IHVzZUNhbGxiYWNrKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCF2aXNpdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZTRmxhZyhrZXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci5nZXRGbGFnKGtleSk7XG4gICAgfSwgW3Zpc2l0b3JdKTtcbiAgICBjb25zdCBmZXRjaEZsYWdzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXZpc2l0b3IpIHtcbiAgICAgICAgICAgIGxvZ1dhcm4oY29uZmlnLCBub1Zpc2l0b3JNZXNzYWdlLCAnZmV0Y2hGbGFncycpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLmZldGNoRmxhZ3MoKTtcbiAgICB9LCBbdmlzaXRvcl0pO1xuICAgIGNvbnN0IHNldENvbnNlbnQgPSB1c2VDYWxsYmFjaygoaGFzQ29uc2VudGVkKSA9PiB7XG4gICAgICAgIGlmICghdmlzaXRvcikge1xuICAgICAgICAgICAgbG9nV2Fybihjb25maWcsIG5vVmlzaXRvck1lc3NhZ2UsICdzZXRDb25zZW50Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmlzaXRvci5zZXRDb25zZW50KGhhc0NvbnNlbnRlZCk7XG4gICAgfSwgW3Zpc2l0b3JdKTtcbiAgICBjb25zdCBjbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIEZsYWdzaGlwLmNsb3NlKCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGdldEZsYWdzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoIXZpc2l0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGZsYWdzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgc3RhdGUuZmxhZ3M/LmZvckVhY2goKGZsYWcsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGZsYWdzLnNldChrZXksIG5ldyBGU0ZsYWcoa2V5LCBzdGF0ZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZTRmxhZ0NvbGxlY3Rpb24oeyBmbGFncyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci5nZXRGbGFncygpO1xuICAgIH0sIFt2aXNpdG9yXSk7XG4gICAgY29uc3QgY29sbGVjdEVBSUV2ZW50c0FzeW5jID0gdXNlQ2FsbGJhY2soYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKCF2aXNpdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IuY29sbGVjdEVBSUV2ZW50c0FzeW5jKC4uLmFyZ3MpO1xuICAgIH0sIFt2aXNpdG9yXSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgdmlzaXRvcklkOiB2aXNpdG9yPy52aXNpdG9ySWQsXG4gICAgICAgIGFub255bW91c0lkOiB2aXNpdG9yPy5hbm9ueW1vdXNJZCxcbiAgICAgICAgY29udGV4dDogeyAuLi52aXNpdG9yPy5jb250ZXh0IH0sXG4gICAgICAgIGhhc0NvbnNlbnRlZDogdmlzaXRvcj8uaGFzQ29uc2VudGVkLFxuICAgICAgICBzZGtTdGF0dXM6IEZsYWdzaGlwLmdldFN0YXR1cygpLFxuICAgICAgICBmbGFnc1N0YXR1czogdmlzaXRvcj8uZmxhZ3NTdGF0dXMsXG4gICAgICAgIHNldENvbnNlbnQsXG4gICAgICAgIHVwZGF0ZUNvbnRleHQ6IGZzVXBkYXRlQ29udGV4dCxcbiAgICAgICAgY2xlYXJDb250ZXh0OiBmc0NsZWFyQ29udGV4dCxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmc0F1dGhlbnRpY2F0ZSxcbiAgICAgICAgdW5hdXRoZW50aWNhdGU6IGZzVW5hdXRoZW50aWNhdGUsXG4gICAgICAgIHNlbmRIaXRzOiBmc1NlbmRIaXQsXG4gICAgICAgIGdldEZsYWcsXG4gICAgICAgIGZldGNoRmxhZ3MsXG4gICAgICAgIGNsb3NlLFxuICAgICAgICBnZXRGbGFncyxcbiAgICAgICAgY29sbGVjdEVBSUV2ZW50c0FzeW5jXG4gICAgfSksIFt2aXNpdG9yLCBzZXRDb25zZW50LFxuICAgICAgICBmc1VwZGF0ZUNvbnRleHQsXG4gICAgICAgIGZzQ2xlYXJDb250ZXh0LCBmc0F1dGhlbnRpY2F0ZSwgZnNVbmF1dGhlbnRpY2F0ZSxcbiAgICAgICAgZnNTZW5kSGl0LCBnZXRGbGFnLCBmZXRjaEZsYWdzLCBjbG9zZSxcbiAgICAgICAgZ2V0RmxhZ3MsXG4gICAgICAgIGNvbGxlY3RFQUlFdmVudHNBc3luY10pO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipHooks.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipProvider.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/FlagshipProvider.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlagshipProvider: () => (/* binding */ FlagshipProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @flagship.io/js-sdk */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js\");\n/* harmony import */ var _FlagshipContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FlagshipContext */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipContext.js\");\n/* harmony import */ var _internalType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internalType */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/internalType.js\");\n/* harmony import */ var _sdkVersion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sdkVersion */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/sdkVersion.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/utils.js\");\n'use client';\n\n\n\n\n\n\n\nfunction FlagshipProvider({ children, envId, apiKey, decisionMode = _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__.DecisionMode.DECISION_API, visitorData, loadingComponent, onSdkStatusChanged, onBucketingUpdated, initialCampaigns, initialFlagsData, fetchFlagsOnBucketingUpdated, hitDeduplicationTime = 2, fetchNow = true, language = 1, sdkVersion = _sdkVersion__WEBPACK_IMPORTED_MODULE_3__.version, onFlagsStatusChanged, shouldSaveInstance, ...props }) {\n    const flags = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.extractFlagsMap)(initialFlagsData, initialCampaigns);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        ..._FlagshipContext__WEBPACK_IMPORTED_MODULE_5__.initStat,\n        flags,\n        hasVisitorData: !!visitorData\n    });\n    const [lastModified, setLastModified] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    stateRef.current = state;\n    const visitorDataRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(visitorData);\n    // #region functions\n    const onBucketingLastModified = (lastUpdate) => {\n        if (onBucketingUpdated) {\n            onBucketingUpdated(lastUpdate);\n        }\n        setLastModified(lastUpdate);\n    };\n    const statusChanged = (status) => {\n        if (onSdkStatusChanged) {\n            onSdkStatusChanged(status);\n        }\n        switch (status) {\n            case _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__.FSSdkStatus.SDK_PANIC:\n            case _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__.FSSdkStatus.SDK_INITIALIZED:\n                createVisitor();\n                break;\n            case _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__.FSSdkStatus.SDK_NOT_INITIALIZED:\n                setState((prev) => ({\n                    ...prev,\n                    config: _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getConfig(),\n                    isInitializing: false\n                }));\n                break;\n        }\n    };\n    const initSdk = () => {\n        _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"].start(envId, apiKey, {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            decisionMode: decisionMode,\n            fetchNow,\n            onSdkStatusChanged: statusChanged,\n            onBucketingUpdated: onBucketingLastModified,\n            hitDeduplicationTime,\n            language,\n            sdkVersion,\n            ...props\n        });\n    };\n    function initializeState(param) {\n        setState((currentState) => ({\n            ...currentState,\n            visitor: param.fsVisitor,\n            config: _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getConfig(),\n            isInitializing: false,\n            hasVisitorData: !!visitorData\n        }));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const onVisitorReady = (fsVisitor, error) => {\n        if (error) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.logError)(_flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getConfig(), error.message || error, 'onReady');\n        }\n        initializeState({ fsVisitor });\n    };\n    const createVisitor = () => {\n        if (!visitorDataRef.current) {\n            return;\n        }\n        const fsVisitor = _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"].newVisitor({\n            visitorId: visitorDataRef.current.id,\n            context: visitorDataRef.current.context,\n            isAuthenticated: visitorDataRef.current.isAuthenticated,\n            hasConsented: visitorDataRef.current.hasConsented,\n            initialCampaigns,\n            initialFlagsData,\n            onFlagsStatusChanged,\n            shouldSaveInstance\n        });\n        fsVisitor?.on('ready', (error) => {\n            onVisitorReady(fsVisitor, error);\n        });\n        if (!fetchNow) {\n            initializeState({ fsVisitor });\n        }\n    };\n    function updateVisitor() {\n        if (!visitorDataRef.current || _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getStatus() !== _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_2__.FSSdkStatus.SDK_INITIALIZED) {\n            return;\n        }\n        if (!state.visitor ||\n            (state.visitor.visitorId !== visitorDataRef.current.id &&\n                (!visitorDataRef.current.isAuthenticated || (visitorDataRef.current.isAuthenticated && state.visitor.anonymousId)))) {\n            state.visitor?.cleanup();\n            createVisitor();\n            return;\n        }\n        if (visitorDataRef.current.hasConsented !== state.visitor.hasConsented) {\n            state.visitor.setConsent(visitorDataRef.current.hasConsented ?? true);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        state.visitor.updateContext(visitorDataRef.current.context);\n        if (!state.visitor.anonymousId && visitorDataRef.current.isAuthenticated) {\n            state.visitor.authenticate(visitorDataRef.current.id);\n        }\n        if (state.visitor.anonymousId && !visitorDataRef.current.isAuthenticated) {\n            state.visitor.unauthenticate();\n        }\n        state.visitor.fetchFlags();\n    }\n    // #endregion\n    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.useNonInitialEffect)(() => {\n        if (fetchFlagsOnBucketingUpdated) {\n            state.visitor?.fetchFlags();\n        }\n    }, [lastModified]);\n    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.useNonInitialEffect)(() => {\n        visitorDataRef.current = visitorData;\n        updateVisitor();\n    }, [JSON.stringify(visitorData)]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        initSdk();\n    }, [envId, apiKey, decisionMode]);\n    const handleDisplay = () => {\n        const isFirstInit = !state.visitor;\n        if (state.isInitializing &&\n            loadingComponent &&\n            isFirstInit &&\n            fetchNow) {\n            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: loadingComponent });\n        }\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        window?.addEventListener?.(_internalType__WEBPACK_IMPORTED_MODULE_6__.INTERNAL_EVENTS.FsTriggerRendering, onVariationsForced);\n        return () => window?.removeEventListener?.(_internalType__WEBPACK_IMPORTED_MODULE_6__.INTERNAL_EVENTS.FsTriggerRendering, onVariationsForced);\n    }, [state.config?.isQAModeEnabled]);\n    const onVariationsForced = (e) => {\n        const { detail } = e;\n        if (detail.forcedReFetchFlags) {\n            stateRef.current?.visitor?.fetchFlags();\n        }\n        else {\n            setState(state => ({ ...state, toggleForcedVariations: !state.toggleForcedVariations }));\n        }\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FlagshipContext__WEBPACK_IMPORTED_MODULE_5__.FlagshipContext.Provider, { value: { state, setState }, children: handleDisplay() }));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL0ZsYWdzaGlwUHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3VFO0FBQ25CO0FBQ3NCO0FBQ1o7QUFDYjtBQUNLO0FBQ21CO0FBQ2xFLDRCQUE0Qix3Q0FBd0MsNkRBQVksOE5BQThOLGdEQUFXLHNEQUFzRDtBQUN0WCxrQkFBa0IsdURBQWU7QUFDakMsOEJBQThCLCtDQUFRO0FBQ3RDLFdBQVcsc0RBQVE7QUFDbkI7QUFDQTtBQUNBLEtBQUs7QUFDTCw0Q0FBNEMsK0NBQVE7QUFDcEQscUJBQXFCLDZDQUFNO0FBQzNCO0FBQ0EsMkJBQTJCLDZDQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBVztBQUM1QixpQkFBaUIsNERBQVc7QUFDNUI7QUFDQTtBQUNBLGlCQUFpQiw0REFBVztBQUM1QjtBQUNBO0FBQ0EsNEJBQTRCLHFFQUFrQjtBQUM5QztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUVBQWtCO0FBQ3RDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFRLENBQUMscUVBQWtCO0FBQ3ZDO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzRUFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsOEJBQThCLFdBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFFQUFrQixPQUFPLDREQUFXO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDJEQUFtQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSwyREFBbUI7QUFDdkI7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFJLENBQUMsdURBQVMsSUFBSSw0QkFBNEI7QUFDakU7QUFDQSxlQUFlLHNEQUFJLENBQUMsdURBQVMsSUFBSSxvQkFBb0I7QUFDckQ7QUFDQSxJQUFJLGdEQUFTO0FBQ2IsbUNBQW1DLDBEQUFlO0FBQ2xELG1EQUFtRCwwREFBZTtBQUNsRSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpRUFBaUU7QUFDbEc7QUFDQTtBQUNBLFlBQVksc0RBQUksQ0FBQyw2REFBZSxhQUFhLFNBQVMsaUJBQWlCLDZCQUE2QjtBQUNwRyIsInNvdXJjZXMiOlsiL1VzZXJzL3ZhbGVyaWFuLmthcnNlbnR5L0RvY3VtZW50cy9BcHAvbXktbmV4dGpzLWFwcC9ub2RlX21vZHVsZXMvQGZsYWdzaGlwLmlvL3JlYWN0LXNkay9kaXN0L3NyYy9GbGFnc2hpcFByb3ZpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCB7IEZyYWdtZW50IGFzIF9GcmFnbWVudCwganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGbGFnc2hpcCwgeyBEZWNpc2lvbk1vZGUsIEZTU2RrU3RhdHVzIH0gZnJvbSAnQGZsYWdzaGlwLmlvL2pzLXNkayc7XG5pbXBvcnQgeyBGbGFnc2hpcENvbnRleHQsIGluaXRTdGF0IH0gZnJvbSAnLi9GbGFnc2hpcENvbnRleHQnO1xuaW1wb3J0IHsgSU5URVJOQUxfRVZFTlRTIH0gZnJvbSAnLi9pbnRlcm5hbFR5cGUnO1xuaW1wb3J0IHsgdmVyc2lvbiBhcyBTREtfVkVSU0lPTiB9IGZyb20gJy4vc2RrVmVyc2lvbic7XG5pbXBvcnQgeyB1c2VOb25Jbml0aWFsRWZmZWN0LCBsb2dFcnJvciwgZXh0cmFjdEZsYWdzTWFwIH0gZnJvbSAnLi91dGlscyc7XG5leHBvcnQgZnVuY3Rpb24gRmxhZ3NoaXBQcm92aWRlcih7IGNoaWxkcmVuLCBlbnZJZCwgYXBpS2V5LCBkZWNpc2lvbk1vZGUgPSBEZWNpc2lvbk1vZGUuREVDSVNJT05fQVBJLCB2aXNpdG9yRGF0YSwgbG9hZGluZ0NvbXBvbmVudCwgb25TZGtTdGF0dXNDaGFuZ2VkLCBvbkJ1Y2tldGluZ1VwZGF0ZWQsIGluaXRpYWxDYW1wYWlnbnMsIGluaXRpYWxGbGFnc0RhdGEsIGZldGNoRmxhZ3NPbkJ1Y2tldGluZ1VwZGF0ZWQsIGhpdERlZHVwbGljYXRpb25UaW1lID0gMiwgZmV0Y2hOb3cgPSB0cnVlLCBsYW5ndWFnZSA9IDEsIHNka1ZlcnNpb24gPSBTREtfVkVSU0lPTiwgb25GbGFnc1N0YXR1c0NoYW5nZWQsIHNob3VsZFNhdmVJbnN0YW5jZSwgLi4ucHJvcHMgfSkge1xuICAgIGNvbnN0IGZsYWdzID0gZXh0cmFjdEZsYWdzTWFwKGluaXRpYWxGbGFnc0RhdGEsIGluaXRpYWxDYW1wYWlnbnMpO1xuICAgIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgICAgICAuLi5pbml0U3RhdCxcbiAgICAgICAgZmxhZ3MsXG4gICAgICAgIGhhc1Zpc2l0b3JEYXRhOiAhIXZpc2l0b3JEYXRhXG4gICAgfSk7XG4gICAgY29uc3QgW2xhc3RNb2RpZmllZCwgc2V0TGFzdE1vZGlmaWVkXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYoKTtcbiAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGU7XG4gICAgY29uc3QgdmlzaXRvckRhdGFSZWYgPSB1c2VSZWYodmlzaXRvckRhdGEpO1xuICAgIC8vICNyZWdpb24gZnVuY3Rpb25zXG4gICAgY29uc3Qgb25CdWNrZXRpbmdMYXN0TW9kaWZpZWQgPSAobGFzdFVwZGF0ZSkgPT4ge1xuICAgICAgICBpZiAob25CdWNrZXRpbmdVcGRhdGVkKSB7XG4gICAgICAgICAgICBvbkJ1Y2tldGluZ1VwZGF0ZWQobGFzdFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0TGFzdE1vZGlmaWVkKGxhc3RVcGRhdGUpO1xuICAgIH07XG4gICAgY29uc3Qgc3RhdHVzQ2hhbmdlZCA9IChzdGF0dXMpID0+IHtcbiAgICAgICAgaWYgKG9uU2RrU3RhdHVzQ2hhbmdlZCkge1xuICAgICAgICAgICAgb25TZGtTdGF0dXNDaGFuZ2VkKHN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgRlNTZGtTdGF0dXMuU0RLX1BBTklDOlxuICAgICAgICAgICAgY2FzZSBGU1Nka1N0YXR1cy5TREtfSU5JVElBTElaRUQ6XG4gICAgICAgICAgICAgICAgY3JlYXRlVmlzaXRvcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGU1Nka1N0YXR1cy5TREtfTk9UX0lOSVRJQUxJWkVEOlxuICAgICAgICAgICAgICAgIHNldFN0YXRlKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICBjb25maWc6IEZsYWdzaGlwLmdldENvbmZpZygpLFxuICAgICAgICAgICAgICAgICAgICBpc0luaXRpYWxpemluZzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGluaXRTZGsgPSAoKSA9PiB7XG4gICAgICAgIEZsYWdzaGlwLnN0YXJ0KGVudklkLCBhcGlLZXksIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBkZWNpc2lvbk1vZGU6IGRlY2lzaW9uTW9kZSxcbiAgICAgICAgICAgIGZldGNoTm93LFxuICAgICAgICAgICAgb25TZGtTdGF0dXNDaGFuZ2VkOiBzdGF0dXNDaGFuZ2VkLFxuICAgICAgICAgICAgb25CdWNrZXRpbmdVcGRhdGVkOiBvbkJ1Y2tldGluZ0xhc3RNb2RpZmllZCxcbiAgICAgICAgICAgIGhpdERlZHVwbGljYXRpb25UaW1lLFxuICAgICAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgICAgICBzZGtWZXJzaW9uLFxuICAgICAgICAgICAgLi4ucHJvcHNcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplU3RhdGUocGFyYW0pIHtcbiAgICAgICAgc2V0U3RhdGUoKGN1cnJlbnRTdGF0ZSkgPT4gKHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRTdGF0ZSxcbiAgICAgICAgICAgIHZpc2l0b3I6IHBhcmFtLmZzVmlzaXRvcixcbiAgICAgICAgICAgIGNvbmZpZzogRmxhZ3NoaXAuZ2V0Q29uZmlnKCksXG4gICAgICAgICAgICBpc0luaXRpYWxpemluZzogZmFsc2UsXG4gICAgICAgICAgICBoYXNWaXNpdG9yRGF0YTogISF2aXNpdG9yRGF0YVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3Qgb25WaXNpdG9yUmVhZHkgPSAoZnNWaXNpdG9yLCBlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ0Vycm9yKEZsYWdzaGlwLmdldENvbmZpZygpLCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLCAnb25SZWFkeScpO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYWxpemVTdGF0ZSh7IGZzVmlzaXRvciB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZVZpc2l0b3IgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdmlzaXRvckRhdGFSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZzVmlzaXRvciA9IEZsYWdzaGlwLm5ld1Zpc2l0b3Ioe1xuICAgICAgICAgICAgdmlzaXRvcklkOiB2aXNpdG9yRGF0YVJlZi5jdXJyZW50LmlkLFxuICAgICAgICAgICAgY29udGV4dDogdmlzaXRvckRhdGFSZWYuY3VycmVudC5jb250ZXh0LFxuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB2aXNpdG9yRGF0YVJlZi5jdXJyZW50LmlzQXV0aGVudGljYXRlZCxcbiAgICAgICAgICAgIGhhc0NvbnNlbnRlZDogdmlzaXRvckRhdGFSZWYuY3VycmVudC5oYXNDb25zZW50ZWQsXG4gICAgICAgICAgICBpbml0aWFsQ2FtcGFpZ25zLFxuICAgICAgICAgICAgaW5pdGlhbEZsYWdzRGF0YSxcbiAgICAgICAgICAgIG9uRmxhZ3NTdGF0dXNDaGFuZ2VkLFxuICAgICAgICAgICAgc2hvdWxkU2F2ZUluc3RhbmNlXG4gICAgICAgIH0pO1xuICAgICAgICBmc1Zpc2l0b3I/Lm9uKCdyZWFkeScsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgb25WaXNpdG9yUmVhZHkoZnNWaXNpdG9yLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWZldGNoTm93KSB7XG4gICAgICAgICAgICBpbml0aWFsaXplU3RhdGUoeyBmc1Zpc2l0b3IgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVZpc2l0b3IoKSB7XG4gICAgICAgIGlmICghdmlzaXRvckRhdGFSZWYuY3VycmVudCB8fCBGbGFnc2hpcC5nZXRTdGF0dXMoKSAhPT0gRlNTZGtTdGF0dXMuU0RLX0lOSVRJQUxJWkVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdGF0ZS52aXNpdG9yIHx8XG4gICAgICAgICAgICAoc3RhdGUudmlzaXRvci52aXNpdG9ySWQgIT09IHZpc2l0b3JEYXRhUmVmLmN1cnJlbnQuaWQgJiZcbiAgICAgICAgICAgICAgICAoIXZpc2l0b3JEYXRhUmVmLmN1cnJlbnQuaXNBdXRoZW50aWNhdGVkIHx8ICh2aXNpdG9yRGF0YVJlZi5jdXJyZW50LmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS52aXNpdG9yLmFub255bW91c0lkKSkpKSB7XG4gICAgICAgICAgICBzdGF0ZS52aXNpdG9yPy5jbGVhbnVwKCk7XG4gICAgICAgICAgICBjcmVhdGVWaXNpdG9yKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpc2l0b3JEYXRhUmVmLmN1cnJlbnQuaGFzQ29uc2VudGVkICE9PSBzdGF0ZS52aXNpdG9yLmhhc0NvbnNlbnRlZCkge1xuICAgICAgICAgICAgc3RhdGUudmlzaXRvci5zZXRDb25zZW50KHZpc2l0b3JEYXRhUmVmLmN1cnJlbnQuaGFzQ29uc2VudGVkID8/IHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHN0YXRlLnZpc2l0b3IudXBkYXRlQ29udGV4dCh2aXNpdG9yRGF0YVJlZi5jdXJyZW50LmNvbnRleHQpO1xuICAgICAgICBpZiAoIXN0YXRlLnZpc2l0b3IuYW5vbnltb3VzSWQgJiYgdmlzaXRvckRhdGFSZWYuY3VycmVudC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgIHN0YXRlLnZpc2l0b3IuYXV0aGVudGljYXRlKHZpc2l0b3JEYXRhUmVmLmN1cnJlbnQuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS52aXNpdG9yLmFub255bW91c0lkICYmICF2aXNpdG9yRGF0YVJlZi5jdXJyZW50LmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgc3RhdGUudmlzaXRvci51bmF1dGhlbnRpY2F0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnZpc2l0b3IuZmV0Y2hGbGFncygpO1xuICAgIH1cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgdXNlTm9uSW5pdGlhbEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChmZXRjaEZsYWdzT25CdWNrZXRpbmdVcGRhdGVkKSB7XG4gICAgICAgICAgICBzdGF0ZS52aXNpdG9yPy5mZXRjaEZsYWdzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbbGFzdE1vZGlmaWVkXSk7XG4gICAgdXNlTm9uSW5pdGlhbEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZpc2l0b3JEYXRhUmVmLmN1cnJlbnQgPSB2aXNpdG9yRGF0YTtcbiAgICAgICAgdXBkYXRlVmlzaXRvcigpO1xuICAgIH0sIFtKU09OLnN0cmluZ2lmeSh2aXNpdG9yRGF0YSldKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpbml0U2RrKCk7XG4gICAgfSwgW2VudklkLCBhcGlLZXksIGRlY2lzaW9uTW9kZV0pO1xuICAgIGNvbnN0IGhhbmRsZURpc3BsYXkgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RJbml0ID0gIXN0YXRlLnZpc2l0b3I7XG4gICAgICAgIGlmIChzdGF0ZS5pc0luaXRpYWxpemluZyAmJlxuICAgICAgICAgICAgbG9hZGluZ0NvbXBvbmVudCAmJlxuICAgICAgICAgICAgaXNGaXJzdEluaXQgJiZcbiAgICAgICAgICAgIGZldGNoTm93KSB7XG4gICAgICAgICAgICByZXR1cm4gX2pzeChfRnJhZ21lbnQsIHsgY2hpbGRyZW46IGxvYWRpbmdDb21wb25lbnQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9qc3goX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KTtcbiAgICB9O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdz8uYWRkRXZlbnRMaXN0ZW5lcj8uKElOVEVSTkFMX0VWRU5UUy5Gc1RyaWdnZXJSZW5kZXJpbmcsIG9uVmFyaWF0aW9uc0ZvcmNlZCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB3aW5kb3c/LnJlbW92ZUV2ZW50TGlzdGVuZXI/LihJTlRFUk5BTF9FVkVOVFMuRnNUcmlnZ2VyUmVuZGVyaW5nLCBvblZhcmlhdGlvbnNGb3JjZWQpO1xuICAgIH0sIFtzdGF0ZS5jb25maWc/LmlzUUFNb2RlRW5hYmxlZF0pO1xuICAgIGNvbnN0IG9uVmFyaWF0aW9uc0ZvcmNlZCA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGV0YWlsIH0gPSBlO1xuICAgICAgICBpZiAoZGV0YWlsLmZvcmNlZFJlRmV0Y2hGbGFncykge1xuICAgICAgICAgICAgc3RhdGVSZWYuY3VycmVudD8udmlzaXRvcj8uZmV0Y2hGbGFncygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0U3RhdGUoc3RhdGUgPT4gKHsgLi4uc3RhdGUsIHRvZ2dsZUZvcmNlZFZhcmlhdGlvbnM6ICFzdGF0ZS50b2dnbGVGb3JjZWRWYXJpYXRpb25zIH0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChfanN4KEZsYWdzaGlwQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBzdGF0ZSwgc2V0U3RhdGUgfSwgY2hpbGRyZW46IGhhbmRsZURpc3BsYXkoKSB9KSk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipProvider.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/constants.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/constants.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET_FLAG_CAST_ERROR: () => (/* binding */ GET_FLAG_CAST_ERROR),\n/* harmony export */   GET_METADATA_CAST_ERROR: () => (/* binding */ GET_METADATA_CAST_ERROR),\n/* harmony export */   noVisitorDefault: () => (/* binding */ noVisitorDefault),\n/* harmony export */   noVisitorMessage: () => (/* binding */ noVisitorMessage)\n/* harmony export */ });\nconst noVisitorMessage = 'flagship Visitor not initialized.';\nconst noVisitorDefault = 'fsVisitor not initialized, returns default value';\nconst GET_FLAG_CAST_ERROR = 'Flag for key {0} has a different type. Default value is returned.';\nconst GET_METADATA_CAST_ERROR = 'Flag for key {0} has a different type with defaultValue, an empty metadata object is returned';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDQTtBQUNBLDJDQUEyQyxHQUFHO0FBQzlDLCtDQUErQyxHQUFHIiwic291cmNlcyI6WyIvVXNlcnMvdmFsZXJpYW4ua2Fyc2VudHkvRG9jdW1lbnRzL0FwcC9teS1uZXh0anMtYXBwL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgbm9WaXNpdG9yTWVzc2FnZSA9ICdmbGFnc2hpcCBWaXNpdG9yIG5vdCBpbml0aWFsaXplZC4nO1xuZXhwb3J0IGNvbnN0IG5vVmlzaXRvckRlZmF1bHQgPSAnZnNWaXNpdG9yIG5vdCBpbml0aWFsaXplZCwgcmV0dXJucyBkZWZhdWx0IHZhbHVlJztcbmV4cG9ydCBjb25zdCBHRVRfRkxBR19DQVNUX0VSUk9SID0gJ0ZsYWcgZm9yIGtleSB7MH0gaGFzIGEgZGlmZmVyZW50IHR5cGUuIERlZmF1bHQgdmFsdWUgaXMgcmV0dXJuZWQuJztcbmV4cG9ydCBjb25zdCBHRVRfTUVUQURBVEFfQ0FTVF9FUlJPUiA9ICdGbGFnIGZvciBrZXkgezB9IGhhcyBhIGRpZmZlcmVudCB0eXBlIHdpdGggZGVmYXVsdFZhbHVlLCBhbiBlbXB0eSBtZXRhZGF0YSBvYmplY3QgaXMgcmV0dXJuZWQnO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/constants.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlagshipProvider: () => (/* reexport safe */ _FlagshipProvider__WEBPACK_IMPORTED_MODULE_3__.FlagshipProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _FlagshipProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FlagshipProvider */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipProvider.js\");\n/* harmony import */ var _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @flagship.io/js-sdk */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"FlagshipProvider\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _FlagshipHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FlagshipHooks */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/FlagshipHooks.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _FlagshipHooks__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"FlagshipProvider\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _FlagshipHooks__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ \"(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/type.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _type__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"FlagshipProvider\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _type__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_FlagshipProvider__WEBPACK_IMPORTED_MODULE_3__.FlagshipProvider);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNsQjtBQUNKO0FBQ1Q7QUFDK0I7QUFDdEQsaUVBQWUsK0RBQWdCLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvbm9kZV9tb2R1bGVzL0BmbGFnc2hpcC5pby9yZWFjdC1zZGsvZGlzdC9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmxhZ3NoaXBQcm92aWRlciB9IGZyb20gJy4vRmxhZ3NoaXBQcm92aWRlcic7XG5leHBvcnQgKiBmcm9tICdAZmxhZ3NoaXAuaW8vanMtc2RrJztcbmV4cG9ydCAqIGZyb20gJy4vRmxhZ3NoaXBIb29rcyc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGUnO1xuZXhwb3J0IHsgRmxhZ3NoaXBQcm92aWRlciB9IGZyb20gJy4vRmxhZ3NoaXBQcm92aWRlcic7XG5leHBvcnQgZGVmYXVsdCBGbGFnc2hpcFByb3ZpZGVyO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/index.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/internalType.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/internalType.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INTERNAL_EVENTS: () => (/* binding */ INTERNAL_EVENTS)\n/* harmony export */ });\nvar INTERNAL_EVENTS;\n(function (INTERNAL_EVENTS) {\n    INTERNAL_EVENTS[\"FsTriggerRendering\"] = \"FS_TRIGGER_RENDERING\";\n})(INTERNAL_EVENTS || (INTERNAL_EVENTS = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL2ludGVybmFsVHlwZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0EsQ0FBQywwQ0FBMEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvbm9kZV9tb2R1bGVzL0BmbGFnc2hpcC5pby9yZWFjdC1zZGsvZGlzdC9zcmMvaW50ZXJuYWxUeXBlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgSU5URVJOQUxfRVZFTlRTO1xuKGZ1bmN0aW9uIChJTlRFUk5BTF9FVkVOVFMpIHtcbiAgICBJTlRFUk5BTF9FVkVOVFNbXCJGc1RyaWdnZXJSZW5kZXJpbmdcIl0gPSBcIkZTX1RSSUdHRVJfUkVOREVSSU5HXCI7XG59KShJTlRFUk5BTF9FVkVOVFMgfHwgKElOVEVSTkFMX0VWRU5UUyA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/internalType.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/sdkVersion.js":
/*!********************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/sdkVersion.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n// Generated by genversion.\nconst version = '5.1.1';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL3Nka1ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ08iLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvbm9kZV9tb2R1bGVzL0BmbGFnc2hpcC5pby9yZWFjdC1zZGsvZGlzdC9zcmMvc2RrVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgZ2VudmVyc2lvbi5cbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzUuMS4xJztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/sdkVersion.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/type.js":
/*!**************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/type.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL3R5cGUuanMiLCJtYXBwaW5ncyI6IjtBQUFVIiwic291cmNlcyI6WyIvVXNlcnMvdmFsZXJpYW4ua2Fyc2VudHkvRG9jdW1lbnRzL0FwcC9teS1uZXh0anMtYXBwL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL3R5cGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/type.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@flagship.io/react-sdk/dist/src/utils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deepClone: () => (/* binding */ deepClone),\n/* harmony export */   extractFlagsMap: () => (/* binding */ extractFlagsMap),\n/* harmony export */   getFlagsFromCampaigns: () => (/* binding */ getFlagsFromCampaigns),\n/* harmony export */   hasContextChanged: () => (/* binding */ hasContextChanged),\n/* harmony export */   hasSameType: () => (/* binding */ hasSameType),\n/* harmony export */   hexToValue: () => (/* binding */ hexToValue),\n/* harmony export */   logError: () => (/* binding */ logError),\n/* harmony export */   logInfo: () => (/* binding */ logInfo),\n/* harmony export */   logWarn: () => (/* binding */ logWarn),\n/* harmony export */   sprintf: () => (/* binding */ sprintf),\n/* harmony export */   useNonInitialEffect: () => (/* binding */ useNonInitialEffect),\n/* harmony export */   uuidV4: () => (/* binding */ uuidV4)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @flagship.io/js-sdk */ \"(pages-dir-browser)/./node_modules/@flagship.io/js-sdk/dist/index.browser.esm.js\");\n'use client';\n\n\nfunction logError(config, message, tag) {\n    if (!config || !config.logLevel || config.logLevel < _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.LogLevel.ERROR) {\n        return;\n    }\n    if (typeof config.onLog === 'function') {\n        config.onLog(_flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.LogLevel.ERROR, tag, message);\n    }\n    if (config.logManager && typeof config.logManager.error === 'function') {\n        config.logManager.error(message, tag);\n    }\n}\nfunction logInfo(config, message, tag) {\n    if (!config || !config.logLevel || config.logLevel < _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.LogLevel.INFO) {\n        return;\n    }\n    if (typeof config.onLog === 'function') {\n        config.onLog(_flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.LogLevel.INFO, tag, message);\n    }\n    if (config.logManager && typeof config.logManager.info === 'function') {\n        config.logManager.info(message, tag);\n    }\n}\nfunction logWarn(config, message, tag) {\n    if (!config || !config.logLevel || config.logLevel < _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.LogLevel.WARNING) {\n        return;\n    }\n    if (typeof config.onLog === 'function') {\n        config.onLog(_flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__.LogLevel.WARNING, tag, message);\n    }\n    if (config.logManager && typeof config.logManager.warning === 'function') {\n        config.logManager.warning(message, tag);\n    }\n}\nconst getFlagsFromCampaigns = (campaigns) => {\n    const flags = new Map();\n    if (!campaigns || !Array.isArray(campaigns)) {\n        return flags;\n    }\n    campaigns.forEach((campaign) => {\n        const object = campaign.variation.modifications.value;\n        for (const key in object) {\n            const value = object[key];\n            flags.set(key, {\n                key,\n                campaignId: campaign.id,\n                campaignName: campaign.name || '',\n                variationGroupId: campaign.variationGroupId,\n                variationGroupName: campaign.variationGroupName || '',\n                variationId: campaign.variation.id,\n                variationName: campaign.variation.name || '',\n                isReference: campaign.variation.reference,\n                slug: campaign.slug || '',\n                value\n            });\n        }\n    });\n    return flags;\n};\nfunction uuidV4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (char) {\n        const rand = (Math.random() * 16) | 0;\n        const value = char === 'x' ? rand : (rand & 0x3) | 0x8;\n        return value.toString(16);\n    });\n}\nfunction useNonInitialEffect(effect, deps) {\n    const initialRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        if (initialRender.current) {\n            initialRender.current = false;\n            return;\n        }\n        if (typeof effect === 'function') {\n            return effect();\n        }\n    }, deps);\n}\nfunction hasSameType(flagValue, defaultValue) {\n    if (typeof flagValue !== typeof defaultValue) {\n        return false;\n    }\n    if (typeof flagValue === 'object' && typeof defaultValue === 'object' &&\n        Array.isArray(flagValue) !== Array.isArray(defaultValue)) {\n        return false;\n    }\n    return true;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction sprintf(format, ...value) {\n    let formatted = format;\n    for (let i = 0; i < value.length; i++) {\n        const element = value[i];\n        formatted = formatted.replace(new RegExp(`\\\\{${i}\\\\}`, 'g'), element);\n    }\n    return formatted;\n}\nfunction hexToValue(hex, config) {\n    if (typeof hex !== 'string') {\n        logError(config, `Invalid hex string: ${hex}`, 'hexToValue');\n        return null;\n    }\n    let jsonString = '';\n    for (let i = 0; i < hex.length; i += 2) {\n        const hexChar = hex.slice(i, i + 2);\n        const charCode = parseInt(hexChar, 16);\n        if (isNaN(charCode)) {\n            logError(config, `Invalid hex character: ${hexChar}`, 'hexToValue');\n            return null;\n        }\n        jsonString += String.fromCharCode(charCode);\n    }\n    try {\n        const value = JSON.parse(jsonString);\n        return value;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    }\n    catch (error) {\n        logError(config, `Error while parsing JSON: ${error?.message}`, 'hexToValue');\n        return null;\n    }\n}\nfunction extractFlagsMap(initialFlagsData, initialCampaigns) {\n    let flags = new Map();\n    if (Array.isArray(initialFlagsData)) {\n        initialFlagsData.forEach((flag) => {\n            flags.set(flag.key, {\n                key: flag.key,\n                campaignId: flag.campaignId,\n                campaignName: flag.campaignName,\n                variationGroupId: flag.variationGroupId,\n                variationGroupName: flag.variationGroupName,\n                variationId: flag.variationId,\n                variationName: flag.variationName,\n                isReference: flag.isReference,\n                campaignType: flag.campaignType,\n                slug: flag.slug,\n                value: hexToValue(flag.hex, _flagship_io_js_sdk__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getConfig())?.v\n            });\n        });\n    }\n    else if (initialCampaigns) {\n        flags = getFlagsFromCampaigns(initialCampaigns);\n    }\n    return flags;\n}\nfunction deepClone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nfunction hasContextChanged(original, updated) {\n    return JSON.stringify(original) !== JSON.stringify(updated);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmxhZ3NoaXAuaW8vcmVhY3Qtc2RrL2Rpc3Qvc3JjL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQzBDO0FBQ2U7QUFDbEQ7QUFDUCx5REFBeUQseURBQVE7QUFDakU7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHlEQUF5RCx5REFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseURBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AseURBQXlELHlEQUFRO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1AsMEJBQTBCLDZDQUFNO0FBQ2hDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBLHFEQUFxRCxFQUFFLEVBQUUsR0FBRztBQUM1RDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZ0RBQWdELElBQUk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSx1REFBdUQsUUFBUTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxlQUFlO0FBQ3JFO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxxRUFBa0I7QUFDOUQsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvbm9kZV9tb2R1bGVzL0BmbGFnc2hpcC5pby9yZWFjdC1zZGsvZGlzdC9zcmMvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRmxhZ3NoaXAsIHsgTG9nTGV2ZWwgfSBmcm9tICdAZmxhZ3NoaXAuaW8vanMtc2RrJztcbmV4cG9ydCBmdW5jdGlvbiBsb2dFcnJvcihjb25maWcsIG1lc3NhZ2UsIHRhZykge1xuICAgIGlmICghY29uZmlnIHx8ICFjb25maWcubG9nTGV2ZWwgfHwgY29uZmlnLmxvZ0xldmVsIDwgTG9nTGV2ZWwuRVJST1IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkxvZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25maWcub25Mb2coTG9nTGV2ZWwuRVJST1IsIHRhZywgbWVzc2FnZSk7XG4gICAgfVxuICAgIGlmIChjb25maWcubG9nTWFuYWdlciAmJiB0eXBlb2YgY29uZmlnLmxvZ01hbmFnZXIuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uZmlnLmxvZ01hbmFnZXIuZXJyb3IobWVzc2FnZSwgdGFnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbG9nSW5mbyhjb25maWcsIG1lc3NhZ2UsIHRhZykge1xuICAgIGlmICghY29uZmlnIHx8ICFjb25maWcubG9nTGV2ZWwgfHwgY29uZmlnLmxvZ0xldmVsIDwgTG9nTGV2ZWwuSU5GTykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uTG9nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbmZpZy5vbkxvZyhMb2dMZXZlbC5JTkZPLCB0YWcsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmxvZ01hbmFnZXIgJiYgdHlwZW9mIGNvbmZpZy5sb2dNYW5hZ2VyLmluZm8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uZmlnLmxvZ01hbmFnZXIuaW5mbyhtZXNzYWdlLCB0YWcpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dXYXJuKGNvbmZpZywgbWVzc2FnZSwgdGFnKSB7XG4gICAgaWYgKCFjb25maWcgfHwgIWNvbmZpZy5sb2dMZXZlbCB8fCBjb25maWcubG9nTGV2ZWwgPCBMb2dMZXZlbC5XQVJOSU5HKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Mb2cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uZmlnLm9uTG9nKExvZ0xldmVsLldBUk5JTkcsIHRhZywgbWVzc2FnZSk7XG4gICAgfVxuICAgIGlmIChjb25maWcubG9nTWFuYWdlciAmJiB0eXBlb2YgY29uZmlnLmxvZ01hbmFnZXIud2FybmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25maWcubG9nTWFuYWdlci53YXJuaW5nKG1lc3NhZ2UsIHRhZyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGdldEZsYWdzRnJvbUNhbXBhaWducyA9IChjYW1wYWlnbnMpID0+IHtcbiAgICBjb25zdCBmbGFncyA9IG5ldyBNYXAoKTtcbiAgICBpZiAoIWNhbXBhaWducyB8fCAhQXJyYXkuaXNBcnJheShjYW1wYWlnbnMpKSB7XG4gICAgICAgIHJldHVybiBmbGFncztcbiAgICB9XG4gICAgY2FtcGFpZ25zLmZvckVhY2goKGNhbXBhaWduKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iamVjdCA9IGNhbXBhaWduLnZhcmlhdGlvbi5tb2RpZmljYXRpb25zLnZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICBmbGFncy5zZXQoa2V5LCB7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGNhbXBhaWduSWQ6IGNhbXBhaWduLmlkLFxuICAgICAgICAgICAgICAgIGNhbXBhaWduTmFtZTogY2FtcGFpZ24ubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICB2YXJpYXRpb25Hcm91cElkOiBjYW1wYWlnbi52YXJpYXRpb25Hcm91cElkLFxuICAgICAgICAgICAgICAgIHZhcmlhdGlvbkdyb3VwTmFtZTogY2FtcGFpZ24udmFyaWF0aW9uR3JvdXBOYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgIHZhcmlhdGlvbklkOiBjYW1wYWlnbi52YXJpYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgdmFyaWF0aW9uTmFtZTogY2FtcGFpZ24udmFyaWF0aW9uLm5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgaXNSZWZlcmVuY2U6IGNhbXBhaWduLnZhcmlhdGlvbi5yZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FtcGFpZ24uc2x1ZyB8fCAnJyxcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZmxhZ3M7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWRWNCgpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBjb25zdCByYW5kID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNoYXIgPT09ICd4JyA/IHJhbmQgOiAocmFuZCAmIDB4MykgfCAweDg7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygxNik7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlTm9uSW5pdGlhbEVmZmVjdChlZmZlY3QsIGRlcHMpIHtcbiAgICBjb25zdCBpbml0aWFsUmVuZGVyID0gdXNlUmVmKHRydWUpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbml0aWFsUmVuZGVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGluaXRpYWxSZW5kZXIuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZWZmZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gZWZmZWN0KCk7XG4gICAgICAgIH1cbiAgICB9LCBkZXBzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNTYW1lVHlwZShmbGFnVmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgZmxhZ1ZhbHVlICE9PSB0eXBlb2YgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmbGFnVmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoZmxhZ1ZhbHVlKSAhPT0gQXJyYXkuaXNBcnJheShkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHNwcmludGYoZm9ybWF0LCAuLi52YWx1ZSkge1xuICAgIGxldCBmb3JtYXR0ZWQgPSBmb3JtYXQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdmFsdWVbaV07XG4gICAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5yZXBsYWNlKG5ldyBSZWdFeHAoYFxcXFx7JHtpfVxcXFx9YCwgJ2cnKSwgZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXR0ZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9WYWx1ZShoZXgsIGNvbmZpZykge1xuICAgIGlmICh0eXBlb2YgaGV4ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBsb2dFcnJvcihjb25maWcsIGBJbnZhbGlkIGhleCBzdHJpbmc6ICR7aGV4fWAsICdoZXhUb1ZhbHVlJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQganNvblN0cmluZyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IGhleENoYXIgPSBoZXguc2xpY2UoaSwgaSArIDIpO1xuICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHBhcnNlSW50KGhleENoYXIsIDE2KTtcbiAgICAgICAgaWYgKGlzTmFOKGNoYXJDb2RlKSkge1xuICAgICAgICAgICAgbG9nRXJyb3IoY29uZmlnLCBgSW52YWxpZCBoZXggY2hhcmFjdGVyOiAke2hleENoYXJ9YCwgJ2hleFRvVmFsdWUnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGpzb25TdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nRXJyb3IoY29uZmlnLCBgRXJyb3Igd2hpbGUgcGFyc2luZyBKU09OOiAke2Vycm9yPy5tZXNzYWdlfWAsICdoZXhUb1ZhbHVlJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RmxhZ3NNYXAoaW5pdGlhbEZsYWdzRGF0YSwgaW5pdGlhbENhbXBhaWducykge1xuICAgIGxldCBmbGFncyA9IG5ldyBNYXAoKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbml0aWFsRmxhZ3NEYXRhKSkge1xuICAgICAgICBpbml0aWFsRmxhZ3NEYXRhLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgICAgICAgIGZsYWdzLnNldChmbGFnLmtleSwge1xuICAgICAgICAgICAgICAgIGtleTogZmxhZy5rZXksXG4gICAgICAgICAgICAgICAgY2FtcGFpZ25JZDogZmxhZy5jYW1wYWlnbklkLFxuICAgICAgICAgICAgICAgIGNhbXBhaWduTmFtZTogZmxhZy5jYW1wYWlnbk5hbWUsXG4gICAgICAgICAgICAgICAgdmFyaWF0aW9uR3JvdXBJZDogZmxhZy52YXJpYXRpb25Hcm91cElkLFxuICAgICAgICAgICAgICAgIHZhcmlhdGlvbkdyb3VwTmFtZTogZmxhZy52YXJpYXRpb25Hcm91cE5hbWUsXG4gICAgICAgICAgICAgICAgdmFyaWF0aW9uSWQ6IGZsYWcudmFyaWF0aW9uSWQsXG4gICAgICAgICAgICAgICAgdmFyaWF0aW9uTmFtZTogZmxhZy52YXJpYXRpb25OYW1lLFxuICAgICAgICAgICAgICAgIGlzUmVmZXJlbmNlOiBmbGFnLmlzUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgIGNhbXBhaWduVHlwZTogZmxhZy5jYW1wYWlnblR5cGUsXG4gICAgICAgICAgICAgICAgc2x1ZzogZmxhZy5zbHVnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBoZXhUb1ZhbHVlKGZsYWcuaGV4LCBGbGFnc2hpcC5nZXRDb25maWcoKSk/LnZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5pdGlhbENhbXBhaWducykge1xuICAgICAgICBmbGFncyA9IGdldEZsYWdzRnJvbUNhbXBhaWducyhpbml0aWFsQ2FtcGFpZ25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGZsYWdzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb250ZXh0Q2hhbmdlZChvcmlnaW5hbCwgdXBkYXRlZCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvcmlnaW5hbCkgIT09IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/@flagship.io/react-sdk/dist/src/utils.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLHlCQUF5QjtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4REFBOEQsWUFBWTtBQUMxRTtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/events/events.js\n"));

/***/ }),

/***/ "(pages-dir-browser)/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fvalerian.karsenty%2FDocuments%2FApp%2Fmy-nextjs-app%2Fpages%2Findex.tsx&page=%2F!":
/*!************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fvalerian.karsenty%2FDocuments%2FApp%2Fmy-nextjs-app%2Fpages%2Findex.tsx&page=%2F! ***!
  \************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return __webpack_require__(/*! ./pages/index.tsx */ \"(pages-dir-browser)/./pages/index.tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtY2xpZW50LXBhZ2VzLWxvYWRlci5qcz9hYnNvbHV0ZVBhZ2VQYXRoPSUyRlVzZXJzJTJGdmFsZXJpYW4ua2Fyc2VudHklMkZEb2N1bWVudHMlMkZBcHAlMkZteS1uZXh0anMtYXBwJTJGcGFnZXMlMkZpbmRleC50c3gmcGFnZT0lMkYhIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMsZ0VBQW1CO0FBQzFDO0FBQ0E7QUFDQSxPQUFPLElBQVU7QUFDakIsTUFBTSxVQUFVO0FBQ2hCO0FBQ0EsT0FBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAod2luZG93Ll9fTkVYVF9QID0gd2luZG93Ll9fTkVYVF9QIHx8IFtdKS5wdXNoKFtcbiAgICAgIFwiL1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVxdWlyZShcIi4vcGFnZXMvaW5kZXgudHN4XCIpO1xuICAgICAgfVxuICAgIF0pO1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5fX05FWFRfUC5wdXNoKFtcIi9cIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fvalerian.karsenty%2FDocuments%2FApp%2Fmy-nextjs-app%2Fpages%2Findex.tsx&page=%2F!\n"));

/***/ }),

/***/ "(pages-dir-browser)/./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __N_SSG: () => (/* binding */ __N_SSG),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Layout */ \"(pages-dir-browser)/./components/Layout.tsx\");\n/* harmony import */ var _components_FormStep1__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/FormStep1 */ \"(pages-dir-browser)/./components/FormStep1.tsx\");\n/* harmony import */ var _components_FormStep2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/FormStep2 */ \"(pages-dir-browser)/./components/FormStep2.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nconst Home = (param)=>{\n    let { flagBirthField, timestamp } = param;\n    _s();\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        firstName: '',\n        lastName: '',\n        email: '',\n        dateOfBirth: ''\n    });\n    const updateFormData = (field, value)=>{\n        setFormData((prev)=>({\n                ...prev,\n                [field]: value\n            }));\n    };\n    const nextStep = ()=>setCurrentStep(2);\n    const previousStep = ()=>setCurrentStep(1);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        flagBirthField: flagBirthField,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginBottom: '1rem'\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    style: {\n                        fontSize: '0.9rem',\n                        color: '#666'\n                    },\n                    children: [\n                        \"Page generated at: \",\n                        timestamp\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/pages/index.tsx\",\n                    lineNumber: 38,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/pages/index.tsx\",\n                lineNumber: 37,\n                columnNumber: 7\n            }, undefined),\n            currentStep === 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FormStep1__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                data: formData,\n                onUpdate: updateFormData,\n                onNext: nextStep,\n                flagBirthField: flagBirthField\n            }, void 0, false, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/pages/index.tsx\",\n                lineNumber: 44,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FormStep2__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                data: formData,\n                onUpdate: updateFormData,\n                onPrevious: previousStep,\n                flagBirthField: flagBirthField\n            }, void 0, false, {\n                fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/pages/index.tsx\",\n                lineNumber: 51,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/valerian.karsenty/Documents/App/my-nextjs-app/pages/index.tsx\",\n        lineNumber: 36,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Home, \"Tk0mAkn0BqamopuMGrd1GXOVhl0=\");\n_c = Home;\nvar __N_SSG = true;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Home);\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3BhZ2VzL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF3QztBQUVFO0FBQ007QUFDQTtBQVdoRCxNQUFNSyxPQUE0QjtRQUFDLEVBQUVDLGNBQWMsRUFBRUMsU0FBUyxFQUFFOztJQUM5RCxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1IsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDUyxVQUFVQyxZQUFZLEdBQUdWLCtDQUFRQSxDQUFXO1FBQ2pEVyxXQUFXO1FBQ1hDLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxhQUFhO0lBQ2Y7SUFFQSxNQUFNQyxpQkFBaUIsQ0FBQ0MsT0FBdUJDO1FBQzdDUCxZQUFZUSxDQUFBQSxPQUFTO2dCQUNuQixHQUFHQSxJQUFJO2dCQUNQLENBQUNGLE1BQU0sRUFBRUM7WUFDWDtJQUNGO0lBRUEsTUFBTUUsV0FBVyxJQUFNWCxlQUFlO0lBQ3RDLE1BQU1ZLGVBQWUsSUFBTVosZUFBZTtJQUUxQyxxQkFDRSw4REFBQ1AsMERBQU1BO1FBQUNJLGdCQUFnQkE7OzBCQUN0Qiw4REFBQ2dCO2dCQUFJQyxPQUFPO29CQUFFQyxjQUFjO2dCQUFPOzBCQUNqQyw0RUFBQ0M7b0JBQUVGLE9BQU87d0JBQUVHLFVBQVU7d0JBQVVDLE9BQU87b0JBQU87O3dCQUFHO3dCQUMzQnBCOzs7Ozs7Ozs7Ozs7WUFJdkJDLGdCQUFnQixrQkFDZiw4REFBQ0wsNkRBQVNBO2dCQUNSeUIsTUFBTWxCO2dCQUNObUIsVUFBVWI7Z0JBQ1ZjLFFBQVFWO2dCQUNSZCxnQkFBZ0JBOzs7OzswQ0FHbEIsOERBQUNGLDZEQUFTQTtnQkFDUndCLE1BQU1sQjtnQkFDTm1CLFVBQVViO2dCQUNWZSxZQUFZVjtnQkFDWmYsZ0JBQWdCQTs7Ozs7Ozs7Ozs7O0FBSzFCO0dBNUNNRDtLQUFBQTs7QUF3RU4saUVBQWVBLElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy92YWxlcmlhbi5rYXJzZW50eS9Eb2N1bWVudHMvQXBwL215LW5leHRqcy1hcHAvcGFnZXMvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdldFN0YXRpY1Byb3BzIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCBGb3JtU3RlcDEgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtU3RlcDEnO1xuaW1wb3J0IEZvcm1TdGVwMiBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1TdGVwMic7XG5pbXBvcnQgeyBGb3JtRGF0YSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHN0YXJ0RmxhZ3NoaXBTREtBc3luYyB9IGZyb20gXCIuLi9zdGFydEZsYWdzaGlwU0RLXCI7IC8vIOKchSBpbXBvcnQgdGhlIGhlbHBlclxuXG5pbnRlcmZhY2UgSG9tZVByb3BzIHtcbiAgZmxhZ0JpcnRoRmllbGQ6IGJvb2xlYW47XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBpbml0aWFsVmlzaXRvckRhdGE6IGFueTtcbiAgaW5pdGlhbEZsYWdzRGF0YTogYW55O1xufVxuXG5jb25zdCBIb21lOiBSZWFjdC5GQzxIb21lUHJvcHM+ID0gKHsgZmxhZ0JpcnRoRmllbGQsIHRpbWVzdGFtcCB9KSA9PiB7XG4gIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGU8Rm9ybURhdGE+KHtcbiAgICBmaXJzdE5hbWU6ICcnLFxuICAgIGxhc3ROYW1lOiAnJyxcbiAgICBlbWFpbDogJycsXG4gICAgZGF0ZU9mQmlydGg6ICcnXG4gIH0pO1xuXG4gIGNvbnN0IHVwZGF0ZUZvcm1EYXRhID0gKGZpZWxkOiBrZXlvZiBGb3JtRGF0YSwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbZmllbGRdOiB2YWx1ZVxuICAgIH0pKTtcbiAgfTtcblxuICBjb25zdCBuZXh0U3RlcCA9ICgpID0+IHNldEN1cnJlbnRTdGVwKDIpO1xuICBjb25zdCBwcmV2aW91c1N0ZXAgPSAoKSA9PiBzZXRDdXJyZW50U3RlcCgxKTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXQgZmxhZ0JpcnRoRmllbGQ9e2ZsYWdCaXJ0aEZpZWxkfT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMXJlbScgfX0+XG4gICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAnMC45cmVtJywgY29sb3I6ICcjNjY2JyB9fT5cbiAgICAgICAgICBQYWdlIGdlbmVyYXRlZCBhdDoge3RpbWVzdGFtcH1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gMSA/IChcbiAgICAgICAgPEZvcm1TdGVwMVxuICAgICAgICAgIGRhdGE9e2Zvcm1EYXRhfVxuICAgICAgICAgIG9uVXBkYXRlPXt1cGRhdGVGb3JtRGF0YX1cbiAgICAgICAgICBvbk5leHQ9e25leHRTdGVwfVxuICAgICAgICAgIGZsYWdCaXJ0aEZpZWxkPXtmbGFnQmlydGhGaWVsZH1cbiAgICAgICAgLz5cbiAgICAgICkgOiAoXG4gICAgICAgIDxGb3JtU3RlcDJcbiAgICAgICAgICBkYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICBvblVwZGF0ZT17dXBkYXRlRm9ybURhdGF9XG4gICAgICAgICAgb25QcmV2aW91cz17cHJldmlvdXNTdGVwfVxuICAgICAgICAgIGZsYWdCaXJ0aEZpZWxkPXtmbGFnQmlydGhGaWVsZH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUHJvcHM6IEdldFN0YXRpY1Byb3BzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBmbGFnc2hpcCA9IGF3YWl0IHN0YXJ0RmxhZ3NoaXBTREtBc3luYygpO1xuXG4gIGNvbnN0IHZpc2l0b3IgPSBmbGFnc2hpcC5uZXdWaXNpdG9yKHtcbiAgICB2aXNpdG9ySWQ6IHVuZGVmaW5lZCxcbiAgICBoYXNDb25zZW50ZWQ6IHRydWUsXG4gICAgY29udGV4dDoge1xuICAgICAgdXNlcjogXCJtZVwiLFxuICAgIH0sXG4gIH0pO1xuXG4gIGF3YWl0IHZpc2l0b3IuZmV0Y2hGbGFncygpO1xuXG4gIGNvbnN0IGZsYWdCaXJ0aEZpZWxkID0gdmlzaXRvci5nZXRGbGFnKFwiZmxhZ0JpcnRoRmllbGRcIikuZ2V0VmFsdWUoZmFsc2UpO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGZsYWdCaXJ0aEZpZWxkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpbml0aWFsVmlzaXRvckRhdGE6IHsgaWQ6IHZpc2l0b3IudmlzaXRvcklkIH0sXG4gICAgICBpbml0aWFsRmxhZ3NEYXRhOiB2aXNpdG9yLmdldEZsYWdzKCkudG9KU09OKCksXG4gICAgfSxcbiAgICByZXZhbGlkYXRlOiA2MCxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhvbWU7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsIkxheW91dCIsIkZvcm1TdGVwMSIsIkZvcm1TdGVwMiIsIkhvbWUiLCJmbGFnQmlydGhGaWVsZCIsInRpbWVzdGFtcCIsImN1cnJlbnRTdGVwIiwic2V0Q3VycmVudFN0ZXAiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImRhdGVPZkJpcnRoIiwidXBkYXRlRm9ybURhdGEiLCJmaWVsZCIsInZhbHVlIiwicHJldiIsIm5leHRTdGVwIiwicHJldmlvdXNTdGVwIiwiZGl2Iiwic3R5bGUiLCJtYXJnaW5Cb3R0b20iLCJwIiwiZm9udFNpemUiLCJjb2xvciIsImRhdGEiLCJvblVwZGF0ZSIsIm9uTmV4dCIsIm9uUHJldmlvdXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./pages/index.tsx\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["pages/_app","main"], () => (__webpack_exec__("(pages-dir-browser)/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Fvalerian.karsenty%2FDocuments%2FApp%2Fmy-nextjs-app%2Fpages%2Findex.tsx&page=%2F!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);